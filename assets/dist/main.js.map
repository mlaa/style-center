{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","node_modules/backbone-courier/src/backbone.courier.js","node_modules/backbone-handle/backbone.handle.js","node_modules/backbone-subviews/backbone.subviews.js","node_modules/backbone-view-options/backbone.viewOptions.js","node_modules/backbone.babysitter/lib/backbone.babysitter.js","node_modules/backbone.marionette/lib/core/backbone.marionette.js","node_modules/backbone.wreqr/lib/backbone.wreqr.js","node_modules/bloodhound-js/index.js","node_modules/bloodhound-js/lib/ajax.js","node_modules/bloodhound-js/lib/bloodhound.js","node_modules/bloodhound-js/lib/lru_cache.js","node_modules/bloodhound-js/lib/options_parser.js","node_modules/bloodhound-js/lib/persistent_storage.js","node_modules/bloodhound-js/lib/prefetch.js","node_modules/bloodhound-js/lib/remote.js","node_modules/bloodhound-js/lib/search_index.js","node_modules/bloodhound-js/lib/tokenizers.js","node_modules/bloodhound-js/lib/transport.js","node_modules/bloodhound-js/lib/utils.js","node_modules/bloodhound-js/lib/version.js","node_modules/component-emitter/index.js","node_modules/es6-promise/dist/es6-promise.js","node_modules/lity/dist/lity.js","node_modules/modui-base/modui-base.js","node_modules/modui-popup/moduiPopup.js","node_modules/object-assign/index.js","node_modules/process/browser.js","node_modules/storage2/lib/client.js","node_modules/storage2/lib/cookie.js","node_modules/storage2/lib/num-keys.js","node_modules/storage2/lib/storage.js","node_modules/superagent/lib/agent-base.js","node_modules/superagent/lib/client.js","node_modules/superagent/lib/is-object.js","node_modules/superagent/lib/request-base.js","node_modules/superagent/lib/response-base.js","node_modules/superagent/lib/utils.js","src/js/book-index/controllers/index.js","src/js/book-index/index.js","src/js/book-index/models/book-ref-model.js","src/js/book-index/routers/index.js","src/js/book-index/search/index.js","src/js/book-index/templates/book-ref.tpl","src/js/book-index/templates/layout.tpl","src/js/book-index/views/book-ref-view.js","src/js/book-index/views/layout-view.js","src/js/bylines/index.js","src/js/citations/controllers/index.js","src/js/citations/index.js","src/js/citations/models/citation-model.js","src/js/citations/routers/index.js","src/js/citations/templates/citation-layout.tpl","src/js/citations/templates/container-form.tpl","src/js/citations/views/citation-view.js","src/js/citations/views/layout-view.js","src/js/data/citations.json","src/js/data/index.json","src/js/faq/index.js","src/js/main.js","src/js/page-menu/index.js","src/js/teaching-resources/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","global","root","factory","define","amd","window","$","_","Backbone","jQuery","Zepto","this","delegateEventSplitter","lastPossibleViewElement","isFunction","Courier","add","view","prepareViewElement","$el","data","getValueOfBestMatchingHashEntry","hash","message","matchingEntries","key","match","eventName","subviewName","eventNameRegEx","RegExp","replace","test","name","_getChildViewNamed","source","push","value","sortBy","thisEntry","nonWildcardCharactersInEventName","hasSubviewQualifier","specificity","overriddenViewMethods","setElement","spawn","isString","isUndefined","trigger","messageShouldBePassed","isRoundTripMessage","charAt","curParent","_getParentView","console","log","isObject","onMessages","method","returnValue","passMessages","result","TypeError","parent","curElement","render","childViewName","subviews","element","delegate","retval","self","2","Handle","delegateEvents","resolveHandles","_this","ui","uiBindings","each","keys","selector","assertOneAndOnlyOne","slice","events","clone","_exapandUIHandlesInHash","newEvents","uiElName","3","_prerender","thisSubview","detach","_postrender","subviewCreators","newSubview","thisPlaceHolderDiv","attr","_createSubview","replaceWith","onSubviewsCreated","_onSubviewsCreated","onSubviewsRendered","_onSubviewsRendered","Subviews","remove","args","Array","prototype","arguments","apply","removeSubviews","placeHolderDiv","subviewCreator","4","returnExports","_normalizeOptionDeclarations","optionDeclarations","normalizedOptionDeclarations","isArray","thisOptionDeclaration","thisOptionName","thisOptionRequired","thisOptionDefaultValue","undefined","first","isRegExp","required","defaultValue","ViewOptions","optionsDeclarationsProperty","setOptions","options","optionsThatWereChanged","optionsThatWereChangedPreviousValues","optionsAsObject","thisOptionProperties","contains","oldValue","newValue","onOptionsChanged","_onOptionsChanged","getOptions","whichOptions","optionsNames","pick","5","previousChildViewContainer","ChildViewContainer","Container","views","_views","_indexByModel","_indexByCustom","_updateLength","extend","customIndex","viewCid","cid","model","findByModel","findByModelCid","modelCid","findByCid","findByCustom","index","findByIndex","values","any","tail","size","methods","concat","toArray","VERSION","noConflict","6","Marionette","Mn","previousMarionette","previousMn","Deferred","FEATURES","isEnabled","Model","isNodeAttached","el","document","documentElement","mergeOptions","getOption","target","optionName","proxyGetOption","_getValue","context","params","normalizeMethods","reduce","normalizedHash","normalizeUIString","uiString","normalizeUIKeys","memo","val","normalizedKey","normalizeUIValues","properties","property","propertyVal","actAsCollection","object","listProperty","list","deprecate","prev","next","url","_cache","_warn","_console","warn","_triggerMethod","getEventName","prefix","toUpperCase","splitter","event","noEventArg","methodName","rest","drop","triggerMethod","triggerMethodOn","fnc","MonitorDOMRefresh","handleShow","_isShown","triggerDOMRefresh","handleRender","_isRendered","_isDomRefreshMonitored","on","show","bindFromStrings","entity","evt","methodNames","split","listenTo","bindToFunction","unbindFromStrings","stopListening","unbindToFunction","iterateEvents","bindings","functionCallback","stringCallback","bindEntityEvents","unbindEntityEvents","proxyBindEntityEvents","proxyUnbindEntityEvents","errorProps","urlRoot","constructor","error","captureStackTrace","toString","Callbacks","_deferred","_callbacks","callback","contextOverride","promise","cb","ctx","then","run","resolve","reset","callbacks","Controller","initialize","Events","destroy","off","Object","Region","getEl","_ensureElement","_ensureViewIsIntact","showOptions","isDifferentView","currentView","preventDestroy","forceShow","isChangingView","_shouldDestroyView","_shouldShowView","_parent","empty","once","_renderView","attachedRegion","displayedViews","attachOptions","triggerBeforeAttach","triggerAttach","_displayedViews","_triggerAttach","attachHtml","union","supportsRenderLifecycle","isDestroyed","parentEl","contents","appendChild","emptyOptions","_destroyView","supportsDestroyLifecycle","attachView","hasView","buildRegion","regionConfig","DefaultRegionClass","_buildRegionFromSelector","regionClass","_buildRegionFromObject","_buildRegionFromRegionClass","RegionClass","omit","RegionManager","_regions","addRegions","regionDefinitions","defaults","regions","definition","addRegion","region","_store","get","getRegions","removeRegion","_remove","removeRegions","emptyRegions","invoke","TemplateCache","templateId","templateCaches","cachedTemplate","load","clear","compiledTemplate","template","loadTemplate","compileTemplate","$template","html","rawTemplate","Renderer","templateFunc","View","bind","_behaviors","Behaviors","getTemplate","serializeModel","toJSON","mixinTemplateHelpers","templateHelpers","configureTriggers","triggers","_buildViewTrigger","_delegateDOMEvents","collection","behavior","eventsArg","combinedEvents","behaviorEvents","behaviorTriggers","undelegateEvents","unbindUIElements","isRendered","bindUIElements","_bindUIElements","_uiBindings","_unbindUIElements","triggerDef","preventDefault","stopPropagation","ret","_triggerEventOnBehaviors","_triggerEventOnParentLayout","behaviors","layoutView","_parentLayoutView","eventPrefix","prefixedEventName","callArgs","childEvents","normalizedChildEvents","_getImmediateChildren","_getNestedViews","children","LayoutView","ItemView","serializeData","items","serializeCollection","_renderTemplate","attachElContent","CollectionView","childViewEventPrefix","sort","_initialEvents","_initChildViewStorage","before:show","_onBeforeShowCalled","_onShowCalled","before:attach","_onBeforeAttachCalled","attach","_onAttachCalled","initRenderBuffer","_bufferedChildren","startBuffering","isBuffering","endBuffering","nestedViews","canTriggerAttach","_triggerMethodMany","_triggerBeforeAttach","attachBuffer","_createBuffer","targets","_onCollectionAdd","_onCollectionRemove","_sortViews","child","opts","at","indexOf","_filteredSortedModels","_shouldAddChild","destroyEmptyView","ChildView","getChildView","addChild","removeChildView","checkEmpty","childView","_renderChildren","reorder","models","_showingEmptyView","anyModelsAdded","some","elsToReorder","map","_index","filteredOutViews","filter","_appendReorderedChildren","resortView","orderChanged","find","item","_emptyViewIndex","append","destroyChildren","isEmpty","showEmptyView","showCollection","addedAt","viewComparator","getViewComparator","Math","min","max","addedModel","_sortModelsBy","splice","comparator","EmptyView","getEmptyView","addEmptyView","emptyViewOptions","buildChildView","proxyChildEvents","_getViewAndNested","renderChildView","childViewOptions","_updateIndices","_addChildView","increment","laterView","ChildViewClass","collectionView","buffer","elBuffer","createDocumentFragment","b","_insertBefore","_insertAfter","findPosition","before","destroyOptions","shouldCheckEmpty","childViews","identity","rootEvent","CompositeView","partial","_isRendering","resetChildViewContainer","compositeView","$container","getChildViewContainer","containerView","$childViewContainer","container","childViewContainer","substr","destroyImmediate","_firstRender","_initializeRegions","_reInitializeRegions","regionManager","showChildView","regionName","getRegion","_buildRegions","_initRegionManager","regionOptions","getRegionManager","chain","pluck","compact","Behavior","proxyViewProperties","parseBehaviors","wrap","BehaviorTriggersBuilder","_view","_triggers","getBehaviorsUI","triggerBuilder","buildBehaviorTriggers","_behaviorsEvents","_events","j","behaviour","join","eventKey","handler","behaviorsLookup","getBehaviorClass","behaviorClass","BehaviorClass","nestedBehaviors","flatten","_buildTriggerHandlersForBehavior","triggersHash","_setHandlerForBehavior","triggerKey","triggerName","AppRouter","Router","appRoutes","controller","_getController","processAppRoutes","_processOnRoute","appRoute","route","_addAppRoute","routeName","routeArgs","onRoute","routePath","invert","routeNames","reverse","Application","_initCallbacks","submodules","_initChannel","execute","commands","request","reqres","addInitializer","initializer","start","_regionManager","moduleNames","moduleDefinition","ModuleClass","Module","getClass","unshift","create","optionRegions","channelName","channel","Wreqr","radio","vent","moduleName","app","_setupInitializersAndFinalizers","startWithParent","_initializerCallbacks","addFinalizer","_finalizerCallbacks","_isInitialized","mod","stop","addDefinition","customArgs","_runModuleDefinition","moduleDefinitions","parentModule","_getModule","_addModuleDefinition","def","moduleClass","fn","_getDefine","_getStartWithParent","_addStartWithParent","swp","startWithParentIsConfigured","backbone.babysitter","backbone.wreqr","7","previousWreqr","Handlers","_wreqrHandlers","setHandlers","handlers","setHandler","config","hasHandler","getHandler","removeHandler","removeAllHandlers","CommandStorage","_commands","getCommands","commandName","command","instances","addCommand","clearCommands","Commands","storageType","_initializeStorage","_executeCommands","storage","StorageType","RequestResponse","EventAggregator","EA","Channel","connectEvents","_connect","connectCommands","connectRequests","type","Radio","_channels","_proxyMethods","_getChannel","system","messageSystems","proxyMethod","messageSystem","8","./lib/bloodhound","9","Promise","reject","end","err","res","body","es6-promise","superagent","10","Bloodhound","oParser","sorter","identify","sufficient","local","remote","Remote","prefetch","Prefetch","SearchIndex","datumTokenizer","queryTokenizer","tokenizers","Transport","mixin","__ttAdapter","withAsync","query","sync","async","that","search","withoutAsync","_loadPrefetch","serialized","fromCache","bootstrap","fromNetwork","store","serialize","_initialize","addLocalToIndex","initPromise","force","ids","processRemote","nonDuplicates","l","cancelLastRequest","all","clearPrefetchCache","clearRemoteCache","resetCache","ttAdapter","./options_parser","./prefetch","./remote","./search_index","./tokenizers","./transport","./utils","11","LruCache","maxSize","isNumber","set","noop","List","head","Node","node","tailItem","moveToFront","12","parsePrefetch","ttl","cache","cacheKey","thumbprint","prepare","transform","transport","callbackToDeferred","ajax","parseRemote","wildcard","limiter","rateLimitBy","rateLimitWait","toRemotePrepare","toLimiter","prepareByReplace","settings","prepareByWildcard","encodeURIComponent","idenityPrepare","debounce","wait","throttle","stringify","x","./ajax","./version","13","PersistentStorage","namespace","override","ttlKey","keyMatcher","escapeRegExChars","ls","LOCAL_STORAGE","_noop","now","Date","getTime","encode","JSON","decode","parse","gatherMatchingKeys","len","storage2","localStorage","setItem","removeItem","_prefix","_ttlKey","isExpired","_safeSet","getItem","14","protocol","location","_settings","dataType","stored","onError","onResponse","resp","./persistent_storage","15","cancel","16","normalizeTokens","tokens","token","toLowerCase","newNode","IDS","CHILDREN","unique","array","seen","uniques","getIntersection","arrayA","arrayB","ai","bi","intersection","lenArrayA","lenArrayB","datums","trie","datum","id","chars","ch","shift","matches","17","whitespace","str","toStr","nonword","getObjTokenizer","tokenizer","k","obj","18","cancelled","lastReq","_send","_get","sharedCache","pendingRequestsCount","pendingRequests","maxPendingRequests","setMaxPendingRequests","num","_fingerprint","done","fingerprint","fail","always","onDeckRequestArgs","jqXhr","./lru_cache","19","assign","isMsie","navigator","userAgent","isBlankString","isElement","nodeType","isJQuery","s","forEach","every","hasOwnProperty","getIdGenerator","counter","templatify","String","defer","setTimeout","func","immediate","timeout","later","callNow","clearTimeout","previous","remaining","msg","object-assign","20","21","Emitter","addEventListener","removeListener","removeAllListeners","removeEventListener","emit","listeners","hasListeners","22","process","ES6Promise","objectOrFunction","setScheduler","scheduleFn","customSchedulerFn","setAsap","asapFn","asap","useNextTick","nextTick","flush","useVertxTimer","vertxNext","useMutationObserver","iterations","observer","BrowserMutationObserver","createTextNode","observe","characterData","useMessageChannel","MessageChannel","port1","onmessage","port2","postMessage","useSetTimeout","globalSetTimeout","queue","arg","attemptVertx","vertx","runOnLoop","runOnContext","onFulfillment","onRejection","_arguments","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","Constructor","_resolve","selfFulfillment","cannotReturnOwn","getThen","GET_THEN_ERROR","tryThen","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","reason","_reject","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","then$$","publishRejection","_onerror","publish","PENDING","_subscribers","subscribers","settled","detail","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","nextId","Enumerator","input","_instanceConstructor","_input","_remaining","_enumerate","validationError","entries","race","needsResolver","needsNew","polyfill","Function","P","promiseToString","cast","_isArray","scheduleFlush","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","random","substring","_eachEntry","entry","resolve$$","_then","_settledAt","_willSettleAt","state","enumerator","_setScheduler","_setAsap","_asap","catch","_process","23","lity","globalToggle","_html","_instanceCount","transitionEnd","deferred","transitionEndEvent","one","currSettings","parseQueryParams","pairs","decodeURI","appendQueryParams","param","imageHandler","_imageRegexp","img","naturalWidth","inlineHandler","placeholder","after","instance","addClass","iframeHandler","_youtubeRegex","exec","autoplay","_vimeoRegex","_googlemapsRegex","output","keyup","keyCode","close","resize","height","clientHeight","round","_win","_content","css","floor","_instance","ready","content","removeClass","_ready","init","appendTo","esc","is","when","proxy","open","_defaultHandlers","_handlers","_defaultOptions","_options","popup","lateHandlers","blur","image","inline","iframe","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","style","version","24","Super","viewOptions","courier","handle","ModuiBase","className","templateData","attributes","_getTemplateData","backbone-courier","backbone-handle","backbone-subviews","backbone-view-options","25","_getElementZIndex","elm","bodyDomEl","zIndex","parseInt","_attachWindowEventListeners","mOpenPopups","thisPopup","_elementPositionIsFixed","targetEl","reposition","relativeToDomEl","prop","offsetParent","_getNextPositionToTry","position","positionsToTry","positionIndex","kState_Closed","kState_Open","kState_Closing","kFadeTime","kMinTimeAfterOpenBeforeCloseOnOutsideClick","kPositions","kPositionClasses","thisPosition","mWindowEventListenersAttached","ModuiPopup","strictPositioning","hideIfAllPositionsAreOutOfBounds","distanceAway","pointerOffset","keepWithinRect","top","scrollTop","bottom","left","right","width","closeOnOutsideClick","extraClassName","kPointerHeight","*","_setupTargetEl","_setState","popupZIndex","targetElZIndex","isNaN","unbind","without","onClose","allowedPositions","tryAgainIfDimentionsChange","targetIsVisible","toggle","currentPosition","cssPositionProps","firstPositionTried","targetIsFixed","targetWidth","outerWidth","targetHeight","outerHeight","popupWidth","popupHeight","popupMargin","pointerInsetForSidePositions","parentWidth","targetOffset","offset","currentPositionBeingTried","haveTriedOtherPositions","degreeOfUndesirabilityByPosition","allPositionsAreOutOfBounds","_getDegreeOfUndesirabilityOfCurrentPosition","cantFitIntoKeepWithinRectInThisPosition","bestOfTheBadPositions","_dimentionsHaveChanged","hide","myOffset","myWidth","myHeight","myRect","horizontalOverlap","veritcalOverlap","myRectArea","amountOutsideBoundingRect","documentRect","amountOutsideDocument","changedOptions","newState","timeOpened","oldOuterWidth","oldOuterHeight","widthDifference","abs","heightDifference","popupInstance","signature","existingPopupsOfThisSignature","popupWeAreGoingTokeep","pop","thisExtraPopup","thisPopupDomEl","modui-base","26","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","from","symbols","to","27","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","Item","title","browser","env","argv","versions","addListener","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","28","Storage","cookie","_storage_support","sessionStorage","lsCookie","read","ss","./cookie","./storage","29","createCookie","days","date","expires","setTime","toGMTString","readCookie","nameEQ","ca","30","31","_obj","_set","_clear","numKeys","proto","v","ctr","decodeURIComponent","./num-keys","32","Agent","_defaults","_setDefaults","req","33","pushEncodedKeyValuePair","subkey","parseString","pair","pos","parseHeader","line","field","lines","fields","trim","isJSON","mime","Response","xhr","text","responseType","responseText","statusText","status","_setStatusProperties","header","headers","getAllResponseHeaders","getResponseHeader","_setHeaderProperties","_responseType","response","_parseBody","Request","_query","_header","original","rawResponse","statusCode","new_err","_isResponseOK","custom_err","del","send","RequestBase","ResponseBase","getXHR","XMLHttpRequest","ActiveXObject","serializeObject","types","json","xml","urlencoded","form","form-data","application/x-www-form-urlencoded","application/json","_parser","toError","accept","auth","user","pass","btoa","encoder","string","_auth","file","_data","_getFormData","_formData","FormData","_shouldRetry","_retry","_callback","_maxRetries","retries","_retries","crossDomainError","crossDomain","agent","pipe","write","_isHost","_endCalled","_finalizeQueryString","_end","_setTimeouts","onreadystatechange","readyState","_responseTimeoutTimer","timedout","_aborted","handleProgress","direction","total","percent","loaded","onprogress","upload","username","password","_withCredentials","withCredentials","contentType","_serializer","setRequestHeader","patch","post","put","./agent-base","./is-object","./request-base","./response-base","component-emitter","34","35","_timer","_timeout","_responseTimeout","option","deadline","retry","count","_retryCallback","ERROR_CODES","_fullfilledPromise","innerResolve","innerReject","use","ok","_okCallback","getHeader","unset","abort","base64Encoder","redirects","_maxRedirects","maxResponseSize","_maxResponseSize","isObj","sortQuery","_sort","queryArr","_appendQueryString","trace","_timeoutError","errno","36","utils","ct","links","link","parseLinks","statusType","info","redirect","clientError","serverError","created","accepted","noContent","badRequest","unauthorized","notAcceptable","forbidden","notFound","unprocessableEntity","37","parts","rel","cleanHeader","changesOrigin","38","App","searchIndex","showBookRefs","terms","BookRefs","results","Views","Layout","BookRef","Models","Collection","../search","39","router","./controllers","./models/book-ref-model.js","./routers","./views/book-ref-view.js","./views/layout-view.js","40","ref","41","?s=:terms","42","indexTerms","engine","d","buildResults","sortedData","findWhere","refs","../../data/index.json","bloodhound-js","43","__t","__p","44","45","tagName","../templates/book-ref.tpl","46","bookRefs","../templates/layout.tpl","47","cursor","48","citationData","showCitationForm","citationType","Content","Citation","../../data/citations.json","49","./models/citation-model.js","./views/citation-view.js","50","author","number","publisher","pubdate","containerNumber","schema","punctuation","callouts","classNames","images","order","nextOrder","setClassNames","modelAttrs","attrClassNames","getCitationString","formatAttribute","filterAttrs","attrs","citation","updateNumbers","51","whats-new/","works-cited-a-quick-guide-:type/","52","53","54","click .remove-container","click .citation-field","click .image-link","keyup input","onRender","showPopup","updateField","$field","newAttr","removeContainer","$target","fieldName","maybeShowPopup","closest","showLightbox","lightbox","imageURL","wp_theme","asset_path","click .add-container","updateCitation","addContainer","onRemoveChild","../templates/container-form.tpl","modui-popup","55","layoutTemplate","../templates/citation-layout.tpl","56","book","video","journal","57","58","toggleClass","siblings","59","underscore","history","pushState","./book-index","./bylines","./citations","./faq","./page-menu","./teaching-resources","backbone.marionette","60","$button","$targets","$parent","activeClass","hoverOutDelay","mouseover","mouseleave","hasClass","61"],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global){\n( function( root, factory ) {\n\t// UMD wrapper.\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\tvar lastPossibleViewElement = _.isFunction( $ ) ? $( \"body\" )[ 0 ] : null;\n\n\tBackbone.Courier = {};\n\n\tBackbone.Courier.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\tsetElement : view.setElement\n\t\t};\n\n\t\t// ****************** Public Courier functions ****************** \n\n\t\tview.spawn = function( message, data ) {\n\t\t\t// can be called with message argument as an object, in which case message.name is required,\n\t\t\t// or can be called with message as a string that represents the name of the message and\n\t\t\t// data object which will be added to message object at message.data\n\t\t\tif( _.isString( message ) ) {\n\t\t\t\tmessage = {\n\t\t\t\t\tname : message,\n\t\t\t\t\tdata : data\n\t\t\t\t};\n\t\t\t} else if( _.isUndefined( message.name ) ) throw new Error( \"Undefined message name.\" );\n\n\t\t\tmessage.source = view;\n\t\t\tmessage.data = _.isUndefined( message.data ) ? {} : message.data;\n\n\t\t\tthis.trigger( message.name, message.data );\n\n\t\t\tvar isRoundTripMessage = message.name.charAt(message.name.length - 1) === \"!\";\n\n\t\t\tvar curParent = this._getParentView();\n\t\t\tvar messageShouldBePassed;\n\t\t\tvar value;\n\n\t\t\tif( message.name === 'removeButtonClicked' ) console.log( 'gotit' ); // REMOVEME\n\t\n\t\t\twhile( curParent ) {\n\t\t\t\t// check to see if curParent has an action to perform when this message is received.\n\t\t\t\tif( _.isObject( curParent.onMessages ) ) {\n\t\t\t\t\tvalue = getValueOfBestMatchingHashEntry( curParent.onMessages, message, curParent );\n\t\t\t\t\tif( value !== null ) {\n\t\t\t\t\t\tvar method = value;\n\t\t\t\t\t\tif( ! _.isFunction( method ) ) method = curParent[ value ];\n\t\t\t\t\t\tif( ! method ) throw new Error( \"Method \\\"\" + value + \"\\\" does not exist\" );\n\n\t\t\t\t\t\tvar returnValue = method.call( curParent, message.data, message.source, message.name );\n\t\t\t\t\t\tif( isRoundTripMessage ) return returnValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmessageShouldBePassed = isRoundTripMessage;\n\n\t\t\t\t// execute `passMessages` if its configured as a function\n\t\t\t\tvar passMessages = _.result( curParent, \"passMessages\" );\n\t\t\t\t// check to see if this message should be passed up a level\n\t\t\t\tif( _.isObject( passMessages ) ) {\n\t\t\t\t\tvalue = getValueOfBestMatchingHashEntry( passMessages, message, curParent );\n\t\t\t\t\tif( value !== null ) {\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tif( value === \".\" )\n\t\t\t\t\t\t\t; // noop - pass this message through exactly as-is\n\t\t\t\t\t\telse if( _.isString( value ) ) {\n\t\t\t\t\t\t\t// if value is a string, we pass the existing message but\n\t\t\t\t\t\t\t// change the name to the supplied string\n\t\t\t\t\t\t\tmessage.name = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse throw new TypeError( \"Values of passMessages hash should be strings.\" );\n\n\t\t\t\t\t\tmessageShouldBePassed = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( ! messageShouldBePassed ) break; // if this message should not be passed, then we are done\n\n\t\t\t\tmessage.source = curParent; // keep the source of the message current as the message bubbles up the view hierarchy\n\t\t\t\tcurParent = curParent._getParentView();\n\t\t\t}\n\n\t\t\tif( isRoundTripMessage ) return undefined;\n\t\t};\n\n\t\t// supply your own _getParentView function on your view objects\n\t\t// if you would like to use custom means to determine a view's\n\t\t// \"parent\". The default means is to traverse the DOM tree and return\n\t\t// the closest parent element that has a view object attached in el.data( \"view\" )\n\t\tif( ! _.isFunction( view._getParentView ) )\n\t\t\tview._getParentView = function() {\n\t\t\t\tvar parent = null;\n\t\t\t\tvar curElement = this.$el.parent();\n\t\t\t\twhile( curElement.length > 0 && curElement[0] !== lastPossibleViewElement ) {\n\t\t\t\t\tvar view = curElement.data( \"view\" );\n\t\t\t\t\tif( view && _.isFunction( view.render ) ) {\n\t\t\t\t\t\tparent = view;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcurElement = curElement.parent();\n\t\t\t\t}\n\n\t\t\t\treturn parent;\n\t\t\t};\n\n\t\t// supply your own _getChildViewNamed function on your view objects\n\t\t// if you would like to use another means to test the source of your\n\t\t// messages (used for keys of onMessages and passMessages of the form\n\t\t// { \"message source\" : handler }). By default, child views are looked\n\t\t// up by name in view.subviews[ childViewName ] (and then tested against message.source)\n\t\tif( ! _.isFunction( view._getChildViewNamed ) )\n\t\t\tview._getChildViewNamed = function( childViewName ) {\n\t\t\t\tif( ! _.isObject( this.subviews ) ) return null;\n\t\t\t\treturn this.subviews[ childViewName ];\n\t\t\t};\n\n\t\t// ****************** Overridden Backbone.View functions ****************** \n\n\t\tview.setElement = function( element, delegate ) {\n\t\t\tvar retval = overriddenViewMethods.setElement.call( this, element, delegate );\n\t\t\tprepareViewElement( view );\n\t\t\treturn retval;\n\t\t};\n\n\t\t// ****************** Body of Backbone.Courier.add() function ****************** \n\n\t\tif( view.$el ) prepareViewElement( view ); // otherwise this will be done when #setElement is called\n\n\t\t// ****************** Private Utility Functions ****************** \n\n\t\tfunction prepareViewElement( view ) {\n\t\t\t// store a reference to the view object in the DOM element's jQuery data. Make sure it is supported.\n\t\t\tif( _.isFunction( view.$el.data ) && ! view.$el.data( \"view\" ) ) view.$el.data( \"view\", view );\n\t\t}\n\n\t\tfunction getValueOfBestMatchingHashEntry( hash, message, view ) {\n\t\t\t// return the value of the entry in a onMessages or passMessages hash that is the \n\t\t\t// \"most specific\" match for this message, or null, if there are no matches.\n\n\t\t\tvar matchingEntries = [];\n\n\t\t\tfor( var key in hash ) {\n\t\t\t\t// We are looking for keys in the hash that have the `message` argument\n\t\t\t\t// as the first word of their key. If we find one, they either need\n\t\t\t\t// no source qualifier as the second word of the key (in which case\n\t\t\t\t// we will pass this message regardless of where it comes from),\n\t\t\t\t// or we need this the name of the subview that is the source of the\n\t\t\t\t// message second word of the key.\n\n\t\t\t\tvar match = key.match( delegateEventSplitter );\n\n\t\t\t\tvar eventName = match[ 1 ], subviewName = match[ 2 ];\n\t\t\t\tvar eventNameRegEx = new RegExp( '^' + eventName.replace( /\\*/g, \"[\\\\w]*\" ) + '$' );\n\t\t\t\tif( ! eventNameRegEx.test( message.name ) ) continue;\n\n\t\t\t\tif( subviewName !== \"\" && view._getChildViewNamed( subviewName ) !== message.source ) continue;\n\n\t\t\t\tmatchingEntries.push( { eventName : eventName, subviewName : subviewName, value : hash[ key ] } );\n\t\t\t}\n\n\t\t\t// if more than one hash keys match, order them by specificity, that is,\n\t\t\t// in descending order of how many non-wild card characters they contain,\n\t\t\t// so that entry with most specificity is at index 0. Also, consider any\n\t\t\t// entries that have subview qualifier more specific than those that do not.\n\t\t\tif( matchingEntries.length > 1 )\n\t\t\t\tmatchingEntries = _.sortBy( matchingEntries, function( thisEntry ) {\n\t\t\t\t\tvar nonWildcardCharactersInEventName = thisEntry.eventName.replace( \"*\", \"\" );\n\t\t\t\t\tvar hasSubviewQualifier = thisEntry.subviewName !== \"\";\n\n\t\t\t\t\t// promote all entries with subview qualifiers to a higher level of specificity.\n\t\t\t\t\t// Figure there will never, ever be a 1000 character long event name\n\t\t\t\t\tvar specificity = ( hasSubviewQualifier ? 1000 : 0 ) + nonWildcardCharactersInEventName.length;\n\n\t\t\t\t\t// negate to sort in descending order\n\t\t\t\t\treturn( - specificity );\n\t\t\t\t} );\n\n\t\t\treturn matchingEntries.length ? matchingEntries[ 0 ].value : null;\n\t\t}\n\t};\n\n\treturn Backbone.Courier;\n} ) );\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],2:[function(require,module,exports){\n(function (global){\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n/*\n * Backbone.Handle, v0.1\n * Copyright (c)2014 Rotunda Software, LLC.\n * Parts adapted from Backbone.Marionette, Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.handle\n */\n\n( function( root, factory ) {\n\t// UMD wrapper.\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tBackbone.Handle = {};\n\n\tBackbone.Handle.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\tdelegateEvents : view.delegateEvents\n\t\t};\n\n\t\tview.resolveHandles = function() {\n\t\t\tvar _this = this;\n\n\t\t\tif( this.ui ) {\n\t\t\t\tif( ! this.uiBindings ) {\n\t\t\t\t\t// We want to store a copy of the ui hash in uiBindings, since afterwards the values \n\t\t\t\t\t// in the ui hash will be overridden with jQuery selectors, and we may need then again.\n\t\t\t\t\tthis.uiBindings = _.result( this, \"ui\" );\n\t\t\t\t}\n\n\t\t\t\t// refreshing the associated selectors since they should point to the newly rendered elements.\n\t\t\t\tthis.ui = {};\n\t\t\t\t_.each( _.keys( this.uiBindings ), function( key ) {\n\t\t\t\t\tvar selector = _this.uiBindings[ key ];\n\n\t\t\t\t\t// if the selector ends with \"!\", we assert that there is exactly one DOM element that matches\n\t\t\t\t\t// the selector. That is, we through an error if the number of matches elements != 1.\n\t\t\t\t\tvar assertOneAndOnlyOne = selector[ selector.length - 1 ] === \"!\";\n\t\t\t\t\tif( assertOneAndOnlyOne ) selector = selector.slice( 0, selector.length - 1 );\n\t\t\t\t\t_this.ui[ key ] = _this.$( selector );\n\t\t\t\t\tif( assertOneAndOnlyOne ) {\n\t\t\t\t\t\tif( _this.ui[ key ].length !== 1 )\n\t\t\t\t\t\t\tthrow new Error( \"Expected selector \\\"\" + selector + \"\\\" to match 1 element, but \" + _this.ui[ key ].length + \" found.\" );\n\t\t\t\t\t\t_this.uiBindings[ key ] = selector;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\tview.delegateEvents = function( events ) {\n\t\t\tvar _this = this;\n\n\t\t\tif( _.isFunction( this.events ) ) this.events = this.events.call( this.events );\n\t\t\tevents = events || _.clone( this.events ) || {};\n\n\t\t\tevents = this._exapandUIHandlesInHash.call( this, events );\n\n\t\t\treturn overriddenViewMethods.delegateEvents.call( this, events );\n\t\t};\n\n\t\tview._exapandUIHandlesInHash = function( events ) {\n\t\t\tvar newEvents = {};\n\n\t\t\tvar uiBindings = this.uiBindings || _.result( this, \"ui\" );\n\t\t\tif( ! uiBindings ) { return events; }\n\n\t\t\t_.each( events, function( value, key ) {\n\t\t\t\tvar match = key.match( delegateEventSplitter );\n\t\t\t\tvar eventName = match[ 1 ], uiElName = match[ 2 ];\n\n\t\t\t\tif( uiElName !== \"\" && ! _.isUndefined( uiBindings[ uiElName ] ) ) {\n\t\t\t\t\tvar selector = uiBindings[ uiElName ];\n\t\t\t\t\tif( selector[ selector.length - 1 ] === \"!\" )\n\t\t\t\t\tselector = selector.slice( 0, selector.length - 1 );\n\n\t\t\t\t\tkey = eventName + \" \" + selector;\n\t\t\t\t}\n\n\t\t\t\tnewEvents[ key ] = value;\n\t\t\t} );\n\n\t\t\treturn newEvents;\n\t\t};\n\t};\n\n\treturn Backbone.Handle;\n} ) );\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/*\n * Backbone.Subviews, v1.1.0\n * Copyright (c)2013-2017 Rotunda Software, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.subviews\n*/\n( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tBackbone.Subviews = {};\n\n\tBackbone.Subviews.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\trender : view.render,\n\t\t\tremove : view.remove\n\t\t};\n\n\t\t// ****************** Overridden Backbone.View methods ****************** \n\n\t\tview.render = function() {\n\t\t\tvar args = Array.prototype.slice.call( arguments );\n\n\t\t\t_prerender.call( this );\n\t\t\tvar returnValue = overriddenViewMethods.render.apply( this, args );\n\t\t\t_postrender.call( this );\n\n\t\t\treturn returnValue;\n\t\t};\n\n\t\tview.remove = function() {\n\t\t\tthis.removeSubviews();\n\t\t\treturn overriddenViewMethods.remove.call( this );\n\t\t};\n\n\t\t// ****************** Additional public methods ****************** \n\n\t\tview.removeSubviews = function() {\n\t\t\t// Removes all subviews and cleans up references in this.subviews.\n\n\t\t\tif( this.subviews ) {\n\t\t\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\t\t\tthisSubview.remove();\n\t\t\t\t} );\n\n\t\t\t\tdelete this.subviews;\n\t\t\t}\n\t\t};\n\n\t\t// ****************** Additional private methods ****************** \n\n\t\tview._createSubview = function( subviewName, placeHolderDiv ) {\n\t\t\t// Return a new subview instance given a subview name and its placeHolderDiv.\n\t\t\t// Implemented as instance method so that this behavior may be customized / overridden.\n\t\t\tvar subviewCreator = this.subviewCreators[ subviewName ];\n\t\t\tif( _.isUndefined( subviewCreator ) ) throw new Error( \"Can not find subview creator for subview named: \" + subviewName );\n\n\t\t\treturn subviewCreator.apply( this );\n\t\t};\n\t};\n\n\t// ****************** Private utility functions ****************** \n\n\tfunction _prerender() {\n\t\tif( ! this.subviews ) this.subviews = {};\n\n\t\t// Detach each of our subviews that we have already created during previous\n\t\t// renders from the DOM, so that they do not loose their DOM events when\n\t\t// we re-render the contents of this view's DOM element.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.$el.detach();\n\t\t} );\n\t}\n\n\tfunction _postrender() {\n\t\tvar _this = this;\n\t\tthis.subviewCreators = this.subviewCreators || {};\n\n\t\t// Support subviewCreators as both objects and functions.\n\t\tif( _.isFunction( this.subviewCreators ) ) this.subviewCreators = this.subviewCreators();\n\t\t\n\t\tthis.$( \"[data-subview]\" ).each( function() {\n\t\t\tvar thisPlaceHolderDiv = $( this );\n\t\t\tvar subviewName = thisPlaceHolderDiv.attr( \"data-subview\" );\n\t\t\tvar newSubview;\n\n\t\t\tif( _.isUndefined( _this.subviews[ subviewName ] ) ) {\n\t\t\t\tnewSubview = _this._createSubview( subviewName, thisPlaceHolderDiv );\n\t\t\t\tif( newSubview === null ) return;  // subview creators can return null to indicate that the subview should not be created\n\t\t\t\t_this.subviews[ subviewName ] = newSubview;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// If the subview is already defined, then use the existing subview instead\n\t\t\t\t// of creating a new one. This allows us to re-render a parent view without\n\t\t\t\t// loosing any dynamic state data on the existing subview objects. To force\n\t\t\t\t// re-initialization of subviews, call view.removeSubviews before re-rendering.\n\n\t\t\t\tnewSubview = _this.subviews[ subviewName ];\n\t\t\t}\n\n\t\t\tthisPlaceHolderDiv.replaceWith( newSubview.$el );\n\t\t} );\n\n\t\tif( _.isFunction( this.onSubviewsCreated ) ) this.onSubviewsCreated.call( this );\n\t\tif( _.isFunction( this._onSubviewsCreated ) ) this._onSubviewsCreated.call( this );\n\n\t\t// Now that all subviews have been created, render them one at a time, in the\n\t\t// order they occur in the DOM.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.render();\n\t\t} );\n\n\t\t// Call this.onSubviewsRendered after everything is done (hook for application defined logic)\n\t\tif( _.isFunction( this.onSubviewsRendered ) ) this.onSubviewsRendered.call( this );\n\t\tif( _.isFunction( this._onSubviewsRendered ) ) this._onSubviewsRendered.call( this );\n\t}\n\n\treturn Backbone.Subviews;\n} ) );\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],4:[function(require,module,exports){\n(function (global){\n/*\n * Backbone.ViewOptions, v0.2.4\n * Copyright (c)2014 Rotunda Software, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.viewOptions\n*/\n\n( function( root, factory ) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine([ 'underscore', 'backbone' ], factory );\n\t} else if (typeof exports === 'object') {\n\t\t// Node\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null) );\n\t} else {\n\t\t// Browser globals\n\t\troot.returnExports = factory( root._, root.Backbone );\n\t}\n} ( this, function( _, Backbone ) {\n\tBackbone.ViewOptions = {};\n\n\tBackbone.ViewOptions.add = function( view, optionsDeclarationsProperty ) {\n\t\tif( _.isUndefined( optionsDeclarationsProperty ) ) optionsDeclarationsProperty = \"options\";\n\n\t\t// ****************** Public methods added to view ******************\n\n\t\tview.setOptions = function( options ) {\n\t\t\tvar _this = this;\n\t\t\tvar optionsThatWereChanged = {};\n\t\t\tvar optionsThatWereChangedPreviousValues = {};\n\n\t\t\tvar optionDeclarations = _.result( this, optionsDeclarationsProperty );\n\n\t\t\tif( _.isString( options ) ) {\n\t\t\t\tvar optionsAsObject = {};\n\t\t\t\toptionsAsObject[ arguments[ 0 ] ] = arguments[ 1 ];\n\t\t\t\toptions = optionsAsObject;\n\t\t\t}\n\n\t\t\tif( ! _.isUndefined( optionDeclarations ) ) {\n\t\t\t\tvar normalizedOptionDeclarations = _normalizeOptionDeclarations( optionDeclarations );\n\n\t\t\t\t_.each( normalizedOptionDeclarations, function( thisOptionProperties, thisOptionName ) {\n\t\t\t\t\tvar thisOptionRequired = thisOptionProperties.required;\n\t\t\t\t\tvar thisOptionDefaultValue = thisOptionProperties.defaultValue;\n\n\t\t\t\t\tif( thisOptionRequired ) {\n\t\t\t\t\t\t// note we do not throw an error if a required option is not supplied, but it is\n\t\t\t\t\t\t// found on the object itself (due to a prior call of view.setOptions, most likely)\n\n\t\t\t\t\t\tif( ( ! options || ! _.contains( _.keys( options ), thisOptionName ) ) && _.isUndefined( _this[ thisOptionName ] ) )\n\t\t\t\t\t\t\tthrow new Error( \"Required option \\\"\" + thisOptionName + \"\\\" was not supplied.\" );\n\n\t\t\t\t\t\tif( options && _.contains( _.keys( options ), thisOptionName ) && _.isUndefined( options[ thisOptionName ] ) )\n\t\t\t\t\t\t\tthrow new Error( \"Required option \\\"\" + thisOptionName + \"\\\" can not be set to undefined.\" );\n\t\t\t\t\t}\n\n\t\t\t\t\t// attach the supplied value of this option, or the appropriate default value, to the view object\n\t\t\t\t\tif( options && thisOptionName in options && ! _.isUndefined( options[ thisOptionName ] ) ) {\n\t\t\t\t\t\tvar oldValue = _this[ thisOptionName ];\n\t\t\t\t\t\tvar newValue = options[ thisOptionName ];\n\t\t\t\t\t\t// if this option already exists on the view, and the new value is different,\n\t\t\t\t\t\t// make a note that we will be changing it\n\t\t\t\t\t\tif( ! _.isUndefined( oldValue ) && oldValue !== newValue ) {\n\t\t\t\t\t\t\toptionsThatWereChangedPreviousValues[ thisOptionName ] = oldValue;\n\t\t\t\t\t\t\toptionsThatWereChanged[ thisOptionName ] = newValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_this[ thisOptionName ] = newValue;\n\t\t\t\t\t\t// note we do NOT delete the option off the options object here so that\n\t\t\t\t\t\t// multiple views can be passed the same options object without issue.\n\t\t\t\t\t}\n\t\t\t\t\telse if( _.isUndefined( _this[ thisOptionName ] ) ) {\n\t\t\t\t\t\t// note defaults do not write over any existing properties on the view itself.\n\t\t\t\t\t\t_this[ thisOptionName ] = thisOptionDefaultValue;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif( _.keys( optionsThatWereChanged ).length > 0 ) {\n\t\t\t\tif( _.isFunction( _this.onOptionsChanged ) )\n\t\t\t\t\t_this.onOptionsChanged( optionsThatWereChanged, optionsThatWereChangedPreviousValues );\n\t\t\t\telse if( _.isFunction( _this._onOptionsChanged ) )\n\t\t\t\t\t_this._onOptionsChanged( optionsThatWereChanged, optionsThatWereChangedPreviousValues );\n\t\t\t}\n\t\t};\n\n\t\tview.getOptions = function( whichOptions ) {\n\t\t\tvar optionDeclarations = _.result( this, optionsDeclarationsProperty );\n\t\t\tif( _.isUndefined( optionDeclarations ) ) return {};\n\n\t\t\tvar normalizedOptionDeclarations = _normalizeOptionDeclarations( optionDeclarations );\n\t\t\tvar optionsNames = _.keys( normalizedOptionDeclarations );\n\n\t\t\tif( _.isUndefined( whichOptions ) ) whichOptions = optionsNames;\n\t\t\telse if( _.isString( whichOptions ) ) whichOptions = [ whichOptions ];\n\n\t\t\treturn _.pick( this, optionsNames );\n\t\t};\n\t};\n\n\t// ****************** Private Utility Functions ******************\n\n\tfunction _normalizeOptionDeclarations( optionDeclarations ) {\n\t\t// convert our short-hand option syntax (with exclamation marks, etc.)\n\t\t// to a simple array of standard option declaration objects.\n\n\t\tvar normalizedOptionDeclarations = {};\n\n\t\tif( ! _.isArray( optionDeclarations ) ) throw new Error( \"Option declarations must be an array.\" );\n\n\t\t_.each( optionDeclarations, function( thisOptionDeclaration ) {\n\t\t\tvar thisOptionName, thisOptionRequired, thisOptionDefaultValue;\n\n\t\t\tthisOptionRequired = false;\n\t\t\tthisOptionDefaultValue = undefined;\n\n\t\t\tif( _.isString( thisOptionDeclaration ) )\n\t\t\t\tthisOptionName = thisOptionDeclaration;\n\t\t\telse if( _.isObject( thisOptionDeclaration ) ) {\n\t\t\t\tthisOptionName = _.first( _.keys( thisOptionDeclaration ) );\n\t\t\t\tif( _.isFunction( thisOptionDeclaration[ thisOptionName ] ) || _.isRegExp( thisOptionDeclaration[ thisOptionName ] ) )\n\t\t\t\t\tthisOptionDefaultValue = thisOptionDeclaration[ thisOptionName ];\n\t\t\t\telse\n\t\t\t\t\tthisOptionDefaultValue = _.clone( thisOptionDeclaration[ thisOptionName ] );\n\t\t\t}\n\t\t\telse throw new Error( \"Each element in the option declarations array must be either a string or an object.\" );\n\n\t\t\tif( thisOptionName[ thisOptionName.length - 1 ] === \"!\" ) {\n\t\t\t\tthisOptionRequired = true;\n\t\t\t\tthisOptionName = thisOptionName.slice( 0, thisOptionName.length - 1 );\n\t\t\t}\n\n\t\t\tnormalizedOptionDeclarations[ thisOptionName ] = normalizedOptionDeclarations[ thisOptionName ] || {};\n\t\t\tnormalizedOptionDeclarations[ thisOptionName ].required = thisOptionRequired;\n\t\t\tif( ! _.isUndefined( thisOptionDefaultValue ) ) normalizedOptionDeclarations[ thisOptionName ].defaultValue = thisOptionDefaultValue;\n\t\t} );\n\n\t\treturn normalizedOptionDeclarations;\n\t}\n\n\treturn Backbone.ViewOptions;\n\n} ) );\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],5:[function(require,module,exports){\n(function (global){\n// Backbone.BabySitter\n// -------------------\n// v0.1.11\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://github.com/marionettejs/backbone.babysitter\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], function(Backbone, _) {\n      return factory(Backbone, _);\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    module.exports = factory(Backbone, _);\n  } else {\n    factory(root.Backbone, root._);\n  }\n\n}(this, function(Backbone, _) {\n  'use strict';\n\n  var previousChildViewContainer = Backbone.ChildViewContainer;\n\n  // BabySitter.ChildViewContainer\n  // -----------------------------\n  //\n  // Provide a container to store, retrieve and\n  // shut down child views.\n  \n  Backbone.ChildViewContainer = (function (Backbone, _) {\n  \n    // Container Constructor\n    // ---------------------\n  \n    var Container = function(views){\n      this._views = {};\n      this._indexByModel = {};\n      this._indexByCustom = {};\n      this._updateLength();\n  \n      _.each(views, this.add, this);\n    };\n  \n    // Container Methods\n    // -----------------\n  \n    _.extend(Container.prototype, {\n  \n      // Add a view to this container. Stores the view\n      // by `cid` and makes it searchable by the model\n      // cid (and model itself). Optionally specify\n      // a custom key to store an retrieve the view.\n      add: function(view, customIndex){\n        var viewCid = view.cid;\n  \n        // store the view\n        this._views[viewCid] = view;\n  \n        // index it by model\n        if (view.model){\n          this._indexByModel[view.model.cid] = viewCid;\n        }\n  \n        // index by custom\n        if (customIndex){\n          this._indexByCustom[customIndex] = viewCid;\n        }\n  \n        this._updateLength();\n        return this;\n      },\n  \n      // Find a view by the model that was attached to\n      // it. Uses the model's `cid` to find it.\n      findByModel: function(model){\n        return this.findByModelCid(model.cid);\n      },\n  \n      // Find a view by the `cid` of the model that was attached to\n      // it. Uses the model's `cid` to find the view `cid` and\n      // retrieve the view using it.\n      findByModelCid: function(modelCid){\n        var viewCid = this._indexByModel[modelCid];\n        return this.findByCid(viewCid);\n      },\n  \n      // Find a view by a custom indexer.\n      findByCustom: function(index){\n        var viewCid = this._indexByCustom[index];\n        return this.findByCid(viewCid);\n      },\n  \n      // Find by index. This is not guaranteed to be a\n      // stable index.\n      findByIndex: function(index){\n        return _.values(this._views)[index];\n      },\n  \n      // retrieve a view by its `cid` directly\n      findByCid: function(cid){\n        return this._views[cid];\n      },\n  \n      // Remove a view\n      remove: function(view){\n        var viewCid = view.cid;\n  \n        // delete model index\n        if (view.model){\n          delete this._indexByModel[view.model.cid];\n        }\n  \n        // delete custom index\n        _.any(this._indexByCustom, function(cid, key) {\n          if (cid === viewCid) {\n            delete this._indexByCustom[key];\n            return true;\n          }\n        }, this);\n  \n        // remove the view from the container\n        delete this._views[viewCid];\n  \n        // update the length\n        this._updateLength();\n        return this;\n      },\n  \n      // Call a method on every view in the container,\n      // passing parameters to the call method one at a\n      // time, like `function.call`.\n      call: function(method){\n        this.apply(method, _.tail(arguments));\n      },\n  \n      // Apply a method on every view in the container,\n      // passing parameters to the call method one at a\n      // time, like `function.apply`.\n      apply: function(method, args){\n        _.each(this._views, function(view){\n          if (_.isFunction(view[method])){\n            view[method].apply(view, args || []);\n          }\n        });\n      },\n  \n      // Update the `.length` attribute on this container\n      _updateLength: function(){\n        this.length = _.size(this._views);\n      }\n    });\n  \n    // Borrowing this code from Backbone.Collection:\n    // http://backbonejs.org/docs/backbone.html#section-106\n    //\n    // Mix in methods from Underscore, for iteration, and other\n    // collection related features.\n    var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n      'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n      'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n      'last', 'without', 'isEmpty', 'pluck', 'reduce'];\n  \n    _.each(methods, function(method) {\n      Container.prototype[method] = function() {\n        var views = _.values(this._views);\n        var args = [views].concat(_.toArray(arguments));\n        return _[method].apply(_, args);\n      };\n    });\n  \n    // return the public API\n    return Container;\n  })(Backbone, _);\n  \n\n  Backbone.ChildViewContainer.VERSION = '0.1.11';\n\n  Backbone.ChildViewContainer.noConflict = function () {\n    Backbone.ChildViewContainer = previousChildViewContainer;\n    return this;\n  };\n\n  return Backbone.ChildViewContainer;\n\n}));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],6:[function(require,module,exports){\n(function (global){\n// MarionetteJS (Backbone.Marionette)\n// ----------------------------------\n// v2.4.7\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://marionettejs.com\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore', 'backbone.wreqr', 'backbone.babysitter'], function(Backbone, _) {\n      return (root.Marionette = root.Mn = factory(root, Backbone, _));\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    var Wreqr = require('backbone.wreqr');\n    var BabySitter = require('backbone.babysitter');\n    module.exports = factory(root, Backbone, _);\n  } else {\n    root.Marionette = root.Mn = factory(root, root.Backbone, root._);\n  }\n\n}(this, function(root, Backbone, _) {\n  'use strict';\n\n  var previousMarionette = root.Marionette;\n  var previousMn = root.Mn;\n\n  var Marionette = Backbone.Marionette = {};\n\n  Marionette.VERSION = '2.4.7';\n\n  Marionette.noConflict = function() {\n    root.Marionette = previousMarionette;\n    root.Mn = previousMn;\n    return this;\n  };\n\n  // Get the Deferred creator for later use\n  Marionette.Deferred = Backbone.$.Deferred;\n\n  Marionette.FEATURES = {\n  };\n  \n  Marionette.isEnabled = function(name) {\n    return !!Marionette.FEATURES[name];\n  };\n  \n  /* jshint unused: false *//* global console */\n  \n  // Helpers\n  // -------\n  \n  // Marionette.extend\n  // -----------------\n  \n  // Borrow the Backbone `extend` method so we can use it as needed\n  Marionette.extend = Backbone.Model.extend;\n  \n  // Marionette.isNodeAttached\n  // -------------------------\n  \n  // Determine if `el` is a child of the document\n  Marionette.isNodeAttached = function(el) {\n    return Backbone.$.contains(document.documentElement, el);\n  };\n  \n  // Merge `keys` from `options` onto `this`\n  Marionette.mergeOptions = function(options, keys) {\n    if (!options) { return; }\n    _.extend(this, _.pick(options, keys));\n  };\n  \n  // Marionette.getOption\n  // --------------------\n  \n  // Retrieve an object, function or other value from a target\n  // object or its `options`, with `options` taking precedence.\n  Marionette.getOption = function(target, optionName) {\n    if (!target || !optionName) { return; }\n    if (target.options && (target.options[optionName] !== undefined)) {\n      return target.options[optionName];\n    } else {\n      return target[optionName];\n    }\n  };\n  \n  // Proxy `Marionette.getOption`\n  Marionette.proxyGetOption = function(optionName) {\n    return Marionette.getOption(this, optionName);\n  };\n  \n  // Similar to `_.result`, this is a simple helper\n  // If a function is provided we call it with context\n  // otherwise just return the value. If the value is\n  // undefined return a default value\n  Marionette._getValue = function(value, context, params) {\n    if (_.isFunction(value)) {\n      value = params ? value.apply(context, params) : value.call(context);\n    }\n    return value;\n  };\n  \n  // Marionette.normalizeMethods\n  // ----------------------\n  \n  // Pass in a mapping of events => functions or function names\n  // and return a mapping of events => functions\n  Marionette.normalizeMethods = function(hash) {\n    return _.reduce(hash, function(normalizedHash, method, name) {\n      if (!_.isFunction(method)) {\n        method = this[method];\n      }\n      if (method) {\n        normalizedHash[name] = method;\n      }\n      return normalizedHash;\n    }, {}, this);\n  };\n  \n  // utility method for parsing @ui. syntax strings\n  // into associated selector\n  Marionette.normalizeUIString = function(uiString, ui) {\n    return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, function(r) {\n      return ui[r.slice(4)];\n    });\n  };\n  \n  // allows for the use of the @ui. syntax within\n  // a given key for triggers and events\n  // swaps the @ui with the associated selector.\n  // Returns a new, non-mutated, parsed events hash.\n  Marionette.normalizeUIKeys = function(hash, ui) {\n    return _.reduce(hash, function(memo, val, key) {\n      var normalizedKey = Marionette.normalizeUIString(key, ui);\n      memo[normalizedKey] = val;\n      return memo;\n    }, {});\n  };\n  \n  // allows for the use of the @ui. syntax within\n  // a given value for regions\n  // swaps the @ui with the associated selector\n  Marionette.normalizeUIValues = function(hash, ui, properties) {\n    _.each(hash, function(val, key) {\n      if (_.isString(val)) {\n        hash[key] = Marionette.normalizeUIString(val, ui);\n      } else if (_.isObject(val) && _.isArray(properties)) {\n        _.extend(val, Marionette.normalizeUIValues(_.pick(val, properties), ui));\n        /* Value is an object, and we got an array of embedded property names to normalize. */\n        _.each(properties, function(property) {\n          var propertyVal = val[property];\n          if (_.isString(propertyVal)) {\n            val[property] = Marionette.normalizeUIString(propertyVal, ui);\n          }\n        });\n      }\n    });\n    return hash;\n  };\n  \n  // Mix in methods from Underscore, for iteration, and other\n  // collection related features.\n  // Borrowing this code from Backbone.Collection:\n  // http://backbonejs.org/docs/backbone.html#section-121\n  Marionette.actAsCollection = function(object, listProperty) {\n    var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n      'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n      'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n      'last', 'without', 'isEmpty', 'pluck'];\n  \n    _.each(methods, function(method) {\n      object[method] = function() {\n        var list = _.values(_.result(this, listProperty));\n        var args = [list].concat(_.toArray(arguments));\n        return _[method].apply(_, args);\n      };\n    });\n  };\n  \n  var deprecate = Marionette.deprecate = function(message, test) {\n    if (_.isObject(message)) {\n      message = (\n        message.prev + ' is going to be removed in the future. ' +\n        'Please use ' + message.next + ' instead.' +\n        (message.url ? ' See: ' + message.url : '')\n      );\n    }\n  \n    if ((test === undefined || !test) && !deprecate._cache[message]) {\n      deprecate._warn('Deprecation warning: ' + message);\n      deprecate._cache[message] = true;\n    }\n  };\n  \n  deprecate._console = typeof console !== 'undefined' ? console : {};\n  deprecate._warn = function() {\n    var warn = deprecate._console.warn || deprecate._console.log || function() {};\n    return warn.apply(deprecate._console, arguments);\n  };\n  deprecate._cache = {};\n  \n  /* jshint maxstatements: 14, maxcomplexity: 7 */\n  \n  // Trigger Method\n  // --------------\n  \n  Marionette._triggerMethod = (function() {\n    // split the event name on the \":\"\n    var splitter = /(^|:)(\\w)/gi;\n  \n    // take the event section (\"section1:section2:section3\")\n    // and turn it in to uppercase name\n    function getEventName(match, prefix, eventName) {\n      return eventName.toUpperCase();\n    }\n  \n    return function(context, event, args) {\n      var noEventArg = arguments.length < 3;\n      if (noEventArg) {\n        args = event;\n        event = args[0];\n      }\n  \n      // get the method name from the event name\n      var methodName = 'on' + event.replace(splitter, getEventName);\n      var method = context[methodName];\n      var result;\n  \n      // call the onMethodName if it exists\n      if (_.isFunction(method)) {\n        // pass all args, except the event name\n        result = method.apply(context, noEventArg ? _.rest(args) : args);\n      }\n  \n      // trigger the event, if a trigger method exists\n      if (_.isFunction(context.trigger)) {\n        if (noEventArg + args.length > 1) {\n          context.trigger.apply(context, noEventArg ? args : [event].concat(_.drop(args, 0)));\n        } else {\n          context.trigger(event);\n        }\n      }\n  \n      return result;\n    };\n  })();\n  \n  // Trigger an event and/or a corresponding method name. Examples:\n  //\n  // `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n  // call the \"onFoo\" method.\n  //\n  // `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n  // call the \"onFooBar\" method.\n  Marionette.triggerMethod = function(event) {\n    return Marionette._triggerMethod(this, arguments);\n  };\n  \n  // triggerMethodOn invokes triggerMethod on a specific context\n  //\n  // e.g. `Marionette.triggerMethodOn(view, 'show')`\n  // will trigger a \"show\" event or invoke onShow the view.\n  Marionette.triggerMethodOn = function(context) {\n    var fnc = _.isFunction(context.triggerMethod) ?\n                  context.triggerMethod :\n                  Marionette.triggerMethod;\n  \n    return fnc.apply(context, _.rest(arguments));\n  };\n  \n  // DOM Refresh\n  // -----------\n  \n  // Monitor a view's state, and after it has been rendered and shown\n  // in the DOM, trigger a \"dom:refresh\" event every time it is\n  // re-rendered.\n  \n  Marionette.MonitorDOMRefresh = function(view) {\n    if (view._isDomRefreshMonitored) { return; }\n    view._isDomRefreshMonitored = true;\n  \n    // track when the view has been shown in the DOM,\n    // using a Marionette.Region (or by other means of triggering \"show\")\n    function handleShow() {\n      view._isShown = true;\n      triggerDOMRefresh();\n    }\n  \n    // track when the view has been rendered\n    function handleRender() {\n      view._isRendered = true;\n      triggerDOMRefresh();\n    }\n  \n    // Trigger the \"dom:refresh\" event and corresponding \"onDomRefresh\" method\n    function triggerDOMRefresh() {\n      if (view._isShown && view._isRendered && Marionette.isNodeAttached(view.el)) {\n        Marionette.triggerMethodOn(view, 'dom:refresh', view);\n      }\n    }\n  \n    view.on({\n      show: handleShow,\n      render: handleRender\n    });\n  };\n  \n  /* jshint maxparams: 5 */\n  \n  // Bind Entity Events & Unbind Entity Events\n  // -----------------------------------------\n  //\n  // These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n  // to methods on a target object.\n  //\n  // The first parameter, `target`, must have the Backbone.Events module mixed in.\n  //\n  // The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n  // any object that has Backbone.Events mixed in) to bind the events from.\n  //\n  // The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n  // configuration. Multiple handlers can be separated by a space. A\n  // function can be supplied instead of a string handler name.\n  \n  (function(Marionette) {\n    'use strict';\n  \n    // Bind the event to handlers specified as a string of\n    // handler names on the target object\n    function bindFromStrings(target, entity, evt, methods) {\n      var methodNames = methods.split(/\\s+/);\n  \n      _.each(methodNames, function(methodName) {\n  \n        var method = target[methodName];\n        if (!method) {\n          throw new Marionette.Error('Method \"' + methodName +\n            '\" was configured as an event handler, but does not exist.');\n        }\n  \n        target.listenTo(entity, evt, method);\n      });\n    }\n  \n    // Bind the event to a supplied callback function\n    function bindToFunction(target, entity, evt, method) {\n      target.listenTo(entity, evt, method);\n    }\n  \n    // Bind the event to handlers specified as a string of\n    // handler names on the target object\n    function unbindFromStrings(target, entity, evt, methods) {\n      var methodNames = methods.split(/\\s+/);\n  \n      _.each(methodNames, function(methodName) {\n        var method = target[methodName];\n        target.stopListening(entity, evt, method);\n      });\n    }\n  \n    // Bind the event to a supplied callback function\n    function unbindToFunction(target, entity, evt, method) {\n      target.stopListening(entity, evt, method);\n    }\n  \n    // generic looping function\n    function iterateEvents(target, entity, bindings, functionCallback, stringCallback) {\n      if (!entity || !bindings) { return; }\n  \n      // type-check bindings\n      if (!_.isObject(bindings)) {\n        throw new Marionette.Error({\n          message: 'Bindings must be an object or function.',\n          url: 'marionette.functions.html#marionettebindentityevents'\n        });\n      }\n  \n      // allow the bindings to be a function\n      bindings = Marionette._getValue(bindings, target);\n  \n      // iterate the bindings and bind them\n      _.each(bindings, function(methods, evt) {\n  \n        // allow for a function as the handler,\n        // or a list of event names as a string\n        if (_.isFunction(methods)) {\n          functionCallback(target, entity, evt, methods);\n        } else {\n          stringCallback(target, entity, evt, methods);\n        }\n  \n      });\n    }\n  \n    // Export Public API\n    Marionette.bindEntityEvents = function(target, entity, bindings) {\n      iterateEvents(target, entity, bindings, bindToFunction, bindFromStrings);\n    };\n  \n    Marionette.unbindEntityEvents = function(target, entity, bindings) {\n      iterateEvents(target, entity, bindings, unbindToFunction, unbindFromStrings);\n    };\n  \n    // Proxy `bindEntityEvents`\n    Marionette.proxyBindEntityEvents = function(entity, bindings) {\n      return Marionette.bindEntityEvents(this, entity, bindings);\n    };\n  \n    // Proxy `unbindEntityEvents`\n    Marionette.proxyUnbindEntityEvents = function(entity, bindings) {\n      return Marionette.unbindEntityEvents(this, entity, bindings);\n    };\n  })(Marionette);\n  \n\n  // Error\n  // -----\n  \n  var errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n  \n  Marionette.Error = Marionette.extend.call(Error, {\n    urlRoot: 'http://marionettejs.com/docs/v' + Marionette.VERSION + '/',\n  \n    constructor: function(message, options) {\n      if (_.isObject(message)) {\n        options = message;\n        message = options.message;\n      } else if (!options) {\n        options = {};\n      }\n  \n      var error = Error.call(this, message);\n      _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n  \n      this.captureStackTrace();\n  \n      if (options.url) {\n        this.url = this.urlRoot + options.url;\n      }\n    },\n  \n    captureStackTrace: function() {\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, Marionette.Error);\n      }\n    },\n  \n    toString: function() {\n      return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n    }\n  });\n  \n  Marionette.Error.extend = Marionette.extend;\n  \n  // Callbacks\n  // ---------\n  \n  // A simple way of managing a collection of callbacks\n  // and executing them at a later point in time, using jQuery's\n  // `Deferred` object.\n  Marionette.Callbacks = function() {\n    this._deferred = Marionette.Deferred();\n    this._callbacks = [];\n  };\n  \n  _.extend(Marionette.Callbacks.prototype, {\n  \n    // Add a callback to be executed. Callbacks added here are\n    // guaranteed to execute, even if they are added after the\n    // `run` method is called.\n    add: function(callback, contextOverride) {\n      var promise = _.result(this._deferred, 'promise');\n  \n      this._callbacks.push({cb: callback, ctx: contextOverride});\n  \n      promise.then(function(args) {\n        if (contextOverride) { args.context = contextOverride; }\n        callback.call(args.context, args.options);\n      });\n    },\n  \n    // Run all registered callbacks with the context specified.\n    // Additional callbacks can be added after this has been run\n    // and they will still be executed.\n    run: function(options, context) {\n      this._deferred.resolve({\n        options: options,\n        context: context\n      });\n    },\n  \n    // Resets the list of callbacks to be run, allowing the same list\n    // to be run multiple times - whenever the `run` method is called.\n    reset: function() {\n      var callbacks = this._callbacks;\n      this._deferred = Marionette.Deferred();\n      this._callbacks = [];\n  \n      _.each(callbacks, function(cb) {\n        this.add(cb.cb, cb.ctx);\n      }, this);\n    }\n  });\n  \n  // Controller\n  // ----------\n  \n  // A multi-purpose object to use as a controller for\n  // modules and routers, and as a mediator for workflow\n  // and coordination of other objects, views, and more.\n  Marionette.Controller = function(options) {\n    this.options = options || {};\n  \n    if (_.isFunction(this.initialize)) {\n      this.initialize(this.options);\n    }\n  };\n  \n  Marionette.Controller.extend = Marionette.extend;\n  \n  // Controller Methods\n  // --------------\n  \n  // Ensure it can trigger events with Backbone.Events\n  _.extend(Marionette.Controller.prototype, Backbone.Events, {\n    destroy: function() {\n      Marionette._triggerMethod(this, 'before:destroy', arguments);\n      Marionette._triggerMethod(this, 'destroy', arguments);\n  \n      this.stopListening();\n      this.off();\n      return this;\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod,\n  \n    // A handy way to merge options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption\n  \n  });\n  \n  // Object\n  // ------\n  \n  // A Base Class that other Classes should descend from.\n  // Object borrows many conventions and utilities from Backbone.\n  Marionette.Object = function(options) {\n    this.options = _.extend({}, _.result(this, 'options'), options);\n  \n    this.initialize.apply(this, arguments);\n  };\n  \n  Marionette.Object.extend = Marionette.extend;\n  \n  // Object Methods\n  // --------------\n  \n  // Ensure it can trigger events with Backbone.Events\n  _.extend(Marionette.Object.prototype, Backbone.Events, {\n  \n    //this is a noop method intended to be overridden by classes that extend from this base\n    initialize: function() {},\n  \n    destroy: function(options) {\n      options = options || {};\n  \n      this.triggerMethod('before:destroy', options);\n      this.triggerMethod('destroy', options);\n      this.stopListening();\n  \n      return this;\n    },\n  \n    // Import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod,\n  \n    // A handy way to merge options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  /* jshint maxcomplexity: 16, maxstatements: 45, maxlen: 120 */\n  \n  // Region\n  // ------\n  \n  // Manage the visual regions of your composite application. See\n  // http://lostechies.com/derickbailey/2011/12/12/composite-js-apps-regions-and-region-managers/\n  \n  Marionette.Region = Marionette.Object.extend({\n    constructor: function(options) {\n  \n      // set options temporarily so that we can get `el`.\n      // options will be overriden by Object.constructor\n      this.options = options || {};\n      this.el = this.getOption('el');\n  \n      // Handle when this.el is passed in as a $ wrapped element.\n      this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n  \n      if (!this.el) {\n        throw new Marionette.Error({\n          name: 'NoElError',\n          message: 'An \"el\" must be specified for a region.'\n        });\n      }\n  \n      this.$el = this.getEl(this.el);\n      Marionette.Object.call(this, options);\n    },\n  \n    // Displays a backbone view instance inside of the region.\n    // Handles calling the `render` method for you. Reads content\n    // directly from the `el` attribute. Also calls an optional\n    // `onShow` and `onDestroy` method on your view, just after showing\n    // or just before destroying the view, respectively.\n    // The `preventDestroy` option can be used to prevent a view from\n    // the old view being destroyed on show.\n    // The `forceShow` option can be used to force a view to be\n    // re-rendered if it's already shown in the region.\n    show: function(view, options) {\n      if (!this._ensureElement()) {\n        return;\n      }\n  \n      this._ensureViewIsIntact(view);\n      Marionette.MonitorDOMRefresh(view);\n  \n      var showOptions     = options || {};\n      var isDifferentView = view !== this.currentView;\n      var preventDestroy  = !!showOptions.preventDestroy;\n      var forceShow       = !!showOptions.forceShow;\n  \n      // We are only changing the view if there is a current view to change to begin with\n      var isChangingView = !!this.currentView;\n  \n      // Only destroy the current view if we don't want to `preventDestroy` and if\n      // the view given in the first argument is different than `currentView`\n      var _shouldDestroyView = isDifferentView && !preventDestroy;\n  \n      // Only show the view given in the first argument if it is different than\n      // the current view or if we want to re-show the view. Note that if\n      // `_shouldDestroyView` is true, then `_shouldShowView` is also necessarily true.\n      var _shouldShowView = isDifferentView || forceShow;\n  \n      if (isChangingView) {\n        this.triggerMethod('before:swapOut', this.currentView, this, options);\n      }\n  \n      if (this.currentView && isDifferentView) {\n        delete this.currentView._parent;\n      }\n  \n      if (_shouldDestroyView) {\n        this.empty();\n  \n      // A `destroy` event is attached to the clean up manually removed views.\n      // We need to detach this event when a new view is going to be shown as it\n      // is no longer relevant.\n      } else if (isChangingView && _shouldShowView) {\n        this.currentView.off('destroy', this.empty, this);\n      }\n  \n      if (_shouldShowView) {\n  \n        // We need to listen for if a view is destroyed\n        // in a way other than through the region.\n        // If this happens we need to remove the reference\n        // to the currentView since once a view has been destroyed\n        // we can not reuse it.\n        view.once('destroy', this.empty, this);\n  \n        // make this region the view's parent,\n        // It's important that this parent binding happens before rendering\n        // so that any events the child may trigger during render can also be\n        // triggered on the child's ancestor views\n        view._parent = this;\n        this._renderView(view);\n  \n        if (isChangingView) {\n          this.triggerMethod('before:swap', view, this, options);\n        }\n  \n        this.triggerMethod('before:show', view, this, options);\n        Marionette.triggerMethodOn(view, 'before:show', view, this, options);\n  \n        if (isChangingView) {\n          this.triggerMethod('swapOut', this.currentView, this, options);\n        }\n  \n        // An array of views that we're about to display\n        var attachedRegion = Marionette.isNodeAttached(this.el);\n  \n        // The views that we're about to attach to the document\n        // It's important that we prevent _getNestedViews from being executed unnecessarily\n        // as it's a potentially-slow method\n        var displayedViews = [];\n  \n        var attachOptions = _.extend({\n          triggerBeforeAttach: this.triggerBeforeAttach,\n          triggerAttach: this.triggerAttach\n        }, showOptions);\n  \n        if (attachedRegion && attachOptions.triggerBeforeAttach) {\n          displayedViews = this._displayedViews(view);\n          this._triggerAttach(displayedViews, 'before:');\n        }\n  \n        this.attachHtml(view);\n        this.currentView = view;\n  \n        if (attachedRegion && attachOptions.triggerAttach) {\n          displayedViews = this._displayedViews(view);\n          this._triggerAttach(displayedViews);\n        }\n  \n        if (isChangingView) {\n          this.triggerMethod('swap', view, this, options);\n        }\n  \n        this.triggerMethod('show', view, this, options);\n        Marionette.triggerMethodOn(view, 'show', view, this, options);\n  \n        return this;\n      }\n  \n      return this;\n    },\n  \n    triggerBeforeAttach: true,\n    triggerAttach: true,\n  \n    _triggerAttach: function(views, prefix) {\n      var eventName = (prefix || '') + 'attach';\n      _.each(views, function(view) {\n        Marionette.triggerMethodOn(view, eventName, view, this);\n      }, this);\n    },\n  \n    _displayedViews: function(view) {\n      return _.union([view], _.result(view, '_getNestedViews') || []);\n    },\n  \n    _renderView: function(view) {\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:render', view);\n      }\n      view.render();\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'render', view);\n      }\n    },\n  \n    _ensureElement: function() {\n      if (!_.isObject(this.el)) {\n        this.$el = this.getEl(this.el);\n        this.el = this.$el[0];\n      }\n  \n      if (!this.$el || this.$el.length === 0) {\n        if (this.getOption('allowMissingEl')) {\n          return false;\n        } else {\n          throw new Marionette.Error('An \"el\" ' + this.$el.selector + ' must exist in DOM');\n        }\n      }\n      return true;\n    },\n  \n    _ensureViewIsIntact: function(view) {\n      if (!view) {\n        throw new Marionette.Error({\n          name: 'ViewNotValid',\n          message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n        });\n      }\n  \n      if (view.isDestroyed) {\n        throw new Marionette.Error({\n          name: 'ViewDestroyedError',\n          message: 'View (cid: \"' + view.cid + '\") has already been destroyed and cannot be used.'\n        });\n      }\n    },\n  \n    // Override this method to change how the region finds the DOM\n    // element that it manages. Return a jQuery selector object scoped\n    // to a provided parent el or the document if none exists.\n    getEl: function(el) {\n      return Backbone.$(el, Marionette._getValue(this.options.parentEl, this));\n    },\n  \n    // Override this method to change how the new view is\n    // appended to the `$el` that the region is managing\n    attachHtml: function(view) {\n      this.$el.contents().detach();\n  \n      this.el.appendChild(view.el);\n    },\n  \n    // Destroy the current view, if there is one. If there is no\n    // current view, it does nothing and returns immediately.\n    empty: function(options) {\n      var view = this.currentView;\n  \n      var emptyOptions = options || {};\n      var preventDestroy  = !!emptyOptions.preventDestroy;\n      // If there is no view in the region\n      // we should not remove anything\n      if (!view) { return this; }\n  \n      view.off('destroy', this.empty, this);\n      this.triggerMethod('before:empty', view);\n      if (!preventDestroy) {\n        this._destroyView();\n      }\n      this.triggerMethod('empty', view);\n  \n      // Remove region pointer to the currentView\n      delete this.currentView;\n  \n      if (preventDestroy) {\n        this.$el.contents().detach();\n      }\n  \n      return this;\n    },\n  \n    // call 'destroy' or 'remove', depending on which is found\n    // on the view (if showing a raw Backbone view or a Marionette View)\n    _destroyView: function() {\n      var view = this.currentView;\n      if (view.isDestroyed) { return; }\n  \n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:destroy', view);\n      }\n      if (view.destroy) {\n        view.destroy();\n      } else {\n        view.remove();\n  \n        // appending isDestroyed to raw Backbone View allows regions\n        // to throw a ViewDestroyedError for this view\n        view.isDestroyed = true;\n      }\n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'destroy', view);\n      }\n    },\n  \n    // Attach an existing view to the region. This\n    // will not call `render` or `onShow` for the new view,\n    // and will not replace the current HTML for the `el`\n    // of the region.\n    attachView: function(view) {\n      if (this.currentView) {\n        delete this.currentView._parent;\n      }\n      view._parent = this;\n      this.currentView = view;\n      return this;\n    },\n  \n    // Checks whether a view is currently present within\n    // the region. Returns `true` if there is and `false` if\n    // no view is present.\n    hasView: function() {\n      return !!this.currentView;\n    },\n  \n    // Reset the region by destroying any existing view and\n    // clearing out the cached `$el`. The next time a view\n    // is shown via this region, the region will re-query the\n    // DOM for the region's `el`.\n    reset: function() {\n      this.empty();\n  \n      if (this.$el) {\n        this.el = this.$el.selector;\n      }\n  \n      delete this.$el;\n      return this;\n    }\n  \n  },\n  \n  // Static Methods\n  {\n  \n    // Build an instance of a region by passing in a configuration object\n    // and a default region class to use if none is specified in the config.\n    //\n    // The config object should either be a string as a jQuery DOM selector,\n    // a Region class directly, or an object literal that specifies a selector,\n    // a custom regionClass, and any options to be supplied to the region:\n    //\n    // ```js\n    // {\n    //   selector: \"#foo\",\n    //   regionClass: MyCustomRegion,\n    //   allowMissingEl: false\n    // }\n    // ```\n    //\n    buildRegion: function(regionConfig, DefaultRegionClass) {\n      if (_.isString(regionConfig)) {\n        return this._buildRegionFromSelector(regionConfig, DefaultRegionClass);\n      }\n  \n      if (regionConfig.selector || regionConfig.el || regionConfig.regionClass) {\n        return this._buildRegionFromObject(regionConfig, DefaultRegionClass);\n      }\n  \n      if (_.isFunction(regionConfig)) {\n        return this._buildRegionFromRegionClass(regionConfig);\n      }\n  \n      throw new Marionette.Error({\n        message: 'Improper region configuration type.',\n        url: 'marionette.region.html#region-configuration-types'\n      });\n    },\n  \n    // Build the region from a string selector like '#foo-region'\n    _buildRegionFromSelector: function(selector, DefaultRegionClass) {\n      return new DefaultRegionClass({el: selector});\n    },\n  \n    // Build the region from a configuration object\n    // ```js\n    // { selector: '#foo', regionClass: FooRegion, allowMissingEl: false }\n    // ```\n    _buildRegionFromObject: function(regionConfig, DefaultRegionClass) {\n      var RegionClass = regionConfig.regionClass || DefaultRegionClass;\n      var options = _.omit(regionConfig, 'selector', 'regionClass');\n  \n      if (regionConfig.selector && !options.el) {\n        options.el = regionConfig.selector;\n      }\n  \n      return new RegionClass(options);\n    },\n  \n    // Build the region directly from a given `RegionClass`\n    _buildRegionFromRegionClass: function(RegionClass) {\n      return new RegionClass();\n    }\n  });\n  \n  // Region Manager\n  // --------------\n  \n  // Manage one or more related `Marionette.Region` objects.\n  Marionette.RegionManager = Marionette.Controller.extend({\n    constructor: function(options) {\n      this._regions = {};\n      this.length = 0;\n  \n      Marionette.Controller.call(this, options);\n  \n      this.addRegions(this.getOption('regions'));\n    },\n  \n    // Add multiple regions using an object literal or a\n    // function that returns an object literal, where\n    // each key becomes the region name, and each value is\n    // the region definition.\n    addRegions: function(regionDefinitions, defaults) {\n      regionDefinitions = Marionette._getValue(regionDefinitions, this, arguments);\n  \n      return _.reduce(regionDefinitions, function(regions, definition, name) {\n        if (_.isString(definition)) {\n          definition = {selector: definition};\n        }\n        if (definition.selector) {\n          definition = _.defaults({}, definition, defaults);\n        }\n  \n        regions[name] = this.addRegion(name, definition);\n        return regions;\n      }, {}, this);\n    },\n  \n    // Add an individual region to the region manager,\n    // and return the region instance\n    addRegion: function(name, definition) {\n      var region;\n  \n      if (definition instanceof Marionette.Region) {\n        region = definition;\n      } else {\n        region = Marionette.Region.buildRegion(definition, Marionette.Region);\n      }\n  \n      this.triggerMethod('before:add:region', name, region);\n  \n      region._parent = this;\n      this._store(name, region);\n  \n      this.triggerMethod('add:region', name, region);\n      return region;\n    },\n  \n    // Get a region by name\n    get: function(name) {\n      return this._regions[name];\n    },\n  \n    // Gets all the regions contained within\n    // the `regionManager` instance.\n    getRegions: function() {\n      return _.clone(this._regions);\n    },\n  \n    // Remove a region by name\n    removeRegion: function(name) {\n      var region = this._regions[name];\n      this._remove(name, region);\n  \n      return region;\n    },\n  \n    // Empty all regions in the region manager, and\n    // remove them\n    removeRegions: function() {\n      var regions = this.getRegions();\n      _.each(this._regions, function(region, name) {\n        this._remove(name, region);\n      }, this);\n  \n      return regions;\n    },\n  \n    // Empty all regions in the region manager, but\n    // leave them attached\n    emptyRegions: function() {\n      var regions = this.getRegions();\n      _.invoke(regions, 'empty');\n      return regions;\n    },\n  \n    // Destroy all regions and shut down the region\n    // manager entirely\n    destroy: function() {\n      this.removeRegions();\n      return Marionette.Controller.prototype.destroy.apply(this, arguments);\n    },\n  \n    // internal method to store regions\n    _store: function(name, region) {\n      if (!this._regions[name]) {\n        this.length++;\n      }\n  \n      this._regions[name] = region;\n    },\n  \n    // internal method to remove a region\n    _remove: function(name, region) {\n      this.triggerMethod('before:remove:region', name, region);\n      region.empty();\n      region.stopListening();\n  \n      delete region._parent;\n      delete this._regions[name];\n      this.length--;\n      this.triggerMethod('remove:region', name, region);\n    }\n  });\n  \n  Marionette.actAsCollection(Marionette.RegionManager.prototype, '_regions');\n  \n\n  // Template Cache\n  // --------------\n  \n  // Manage templates stored in `<script>` blocks,\n  // caching them for faster access.\n  Marionette.TemplateCache = function(templateId) {\n    this.templateId = templateId;\n  };\n  \n  // TemplateCache object-level methods. Manage the template\n  // caches from these method calls instead of creating\n  // your own TemplateCache instances\n  _.extend(Marionette.TemplateCache, {\n    templateCaches: {},\n  \n    // Get the specified template by id. Either\n    // retrieves the cached version, or loads it\n    // from the DOM.\n    get: function(templateId, options) {\n      var cachedTemplate = this.templateCaches[templateId];\n  \n      if (!cachedTemplate) {\n        cachedTemplate = new Marionette.TemplateCache(templateId);\n        this.templateCaches[templateId] = cachedTemplate;\n      }\n  \n      return cachedTemplate.load(options);\n    },\n  \n    // Clear templates from the cache. If no arguments\n    // are specified, clears all templates:\n    // `clear()`\n    //\n    // If arguments are specified, clears each of the\n    // specified templates from the cache:\n    // `clear(\"#t1\", \"#t2\", \"...\")`\n    clear: function() {\n      var i;\n      var args = _.toArray(arguments);\n      var length = args.length;\n  \n      if (length > 0) {\n        for (i = 0; i < length; i++) {\n          delete this.templateCaches[args[i]];\n        }\n      } else {\n        this.templateCaches = {};\n      }\n    }\n  });\n  \n  // TemplateCache instance methods, allowing each\n  // template cache object to manage its own state\n  // and know whether or not it has been loaded\n  _.extend(Marionette.TemplateCache.prototype, {\n  \n    // Internal method to load the template\n    load: function(options) {\n      // Guard clause to prevent loading this template more than once\n      if (this.compiledTemplate) {\n        return this.compiledTemplate;\n      }\n  \n      // Load the template and compile it\n      var template = this.loadTemplate(this.templateId, options);\n      this.compiledTemplate = this.compileTemplate(template, options);\n  \n      return this.compiledTemplate;\n    },\n  \n    // Load a template from the DOM, by default. Override\n    // this method to provide your own template retrieval\n    // For asynchronous loading with AMD/RequireJS, consider\n    // using a template-loader plugin as described here:\n    // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n    loadTemplate: function(templateId, options) {\n      var $template = Backbone.$(templateId);\n  \n      if (!$template.length) {\n        throw new Marionette.Error({\n          name: 'NoTemplateError',\n          message: 'Could not find template: \"' + templateId + '\"'\n        });\n      }\n      return $template.html();\n    },\n  \n    // Pre-compile the template before caching it. Override\n    // this method if you do not need to pre-compile a template\n    // (JST / RequireJS for example) or if you want to change\n    // the template engine used (Handebars, etc).\n    compileTemplate: function(rawTemplate, options) {\n      return _.template(rawTemplate, options);\n    }\n  });\n  \n  // Renderer\n  // --------\n  \n  // Render a template with data by passing in the template\n  // selector and the data to render.\n  Marionette.Renderer = {\n  \n    // Render a template with data. The `template` parameter is\n    // passed to the `TemplateCache` object to retrieve the\n    // template function. Override this method to provide your own\n    // custom rendering and template handling for all of Marionette.\n    render: function(template, data) {\n      if (!template) {\n        throw new Marionette.Error({\n          name: 'TemplateNotFoundError',\n          message: 'Cannot render the template since its false, null or undefined.'\n        });\n      }\n  \n      var templateFunc = _.isFunction(template) ? template : Marionette.TemplateCache.get(template);\n  \n      return templateFunc(data);\n    }\n  };\n  \n\n  /* jshint maxlen: 114, nonew: false */\n  // View\n  // ----\n  \n  // The core view class that other Marionette views extend from.\n  Marionette.View = Backbone.View.extend({\n    isDestroyed: false,\n    supportsRenderLifecycle: true,\n    supportsDestroyLifecycle: true,\n  \n    constructor: function(options) {\n      this.render = _.bind(this.render, this);\n  \n      options = Marionette._getValue(options, this);\n  \n      // this exposes view options to the view initializer\n      // this is a backfill since backbone removed the assignment\n      // of this.options\n      // at some point however this may be removed\n      this.options = _.extend({}, _.result(this, 'options'), options);\n  \n      this._behaviors = Marionette.Behaviors(this);\n  \n      Backbone.View.call(this, this.options);\n  \n      Marionette.MonitorDOMRefresh(this);\n    },\n  \n    // Get the template for this view\n    // instance. You can set a `template` attribute in the view\n    // definition or pass a `template: \"whatever\"` parameter in\n    // to the constructor options.\n    getTemplate: function() {\n      return this.getOption('template');\n    },\n  \n    // Serialize a model by returning its attributes. Clones\n    // the attributes to allow modification.\n    serializeModel: function(model) {\n      return model.toJSON.apply(model, _.rest(arguments));\n    },\n  \n    // Mix in template helper methods. Looks for a\n    // `templateHelpers` attribute, which can either be an\n    // object literal, or a function that returns an object\n    // literal. All methods and attributes from this object\n    // are copies to the object passed in.\n    mixinTemplateHelpers: function(target) {\n      target = target || {};\n      var templateHelpers = this.getOption('templateHelpers');\n      templateHelpers = Marionette._getValue(templateHelpers, this);\n      return _.extend(target, templateHelpers);\n    },\n  \n    // normalize the keys of passed hash with the views `ui` selectors.\n    // `{\"@ui.foo\": \"bar\"}`\n    normalizeUIKeys: function(hash) {\n      var uiBindings = _.result(this, '_uiBindings');\n      return Marionette.normalizeUIKeys(hash, uiBindings || _.result(this, 'ui'));\n    },\n  \n    // normalize the values of passed hash with the views `ui` selectors.\n    // `{foo: \"@ui.bar\"}`\n    normalizeUIValues: function(hash, properties) {\n      var ui = _.result(this, 'ui');\n      var uiBindings = _.result(this, '_uiBindings');\n      return Marionette.normalizeUIValues(hash, uiBindings || ui, properties);\n    },\n  \n    // Configure `triggers` to forward DOM events to view\n    // events. `triggers: {\"click .foo\": \"do:foo\"}`\n    configureTriggers: function() {\n      if (!this.triggers) { return; }\n  \n      // Allow `triggers` to be configured as a function\n      var triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n  \n      // Configure the triggers, prevent default\n      // action and stop propagation of DOM events\n      return _.reduce(triggers, function(events, value, key) {\n        events[key] = this._buildViewTrigger(value);\n        return events;\n      }, {}, this);\n    },\n  \n    // Overriding Backbone.View's delegateEvents to handle\n    // the `triggers`, `modelEvents`, and `collectionEvents` configuration\n    delegateEvents: function(events) {\n      this._delegateDOMEvents(events);\n      this.bindEntityEvents(this.model, this.getOption('modelEvents'));\n      this.bindEntityEvents(this.collection, this.getOption('collectionEvents'));\n  \n      _.each(this._behaviors, function(behavior) {\n        behavior.bindEntityEvents(this.model, behavior.getOption('modelEvents'));\n        behavior.bindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n      }, this);\n  \n      return this;\n    },\n  \n    // internal method to delegate DOM events and triggers\n    _delegateDOMEvents: function(eventsArg) {\n      var events = Marionette._getValue(eventsArg || this.events, this);\n  \n      // normalize ui keys\n      events = this.normalizeUIKeys(events);\n      if (_.isUndefined(eventsArg)) {this.events = events;}\n  \n      var combinedEvents = {};\n  \n      // look up if this view has behavior events\n      var behaviorEvents = _.result(this, 'behaviorEvents') || {};\n      var triggers = this.configureTriggers();\n      var behaviorTriggers = _.result(this, 'behaviorTriggers') || {};\n  \n      // behavior events will be overriden by view events and or triggers\n      _.extend(combinedEvents, behaviorEvents, events, triggers, behaviorTriggers);\n  \n      Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n    },\n  \n    // Overriding Backbone.View's undelegateEvents to handle unbinding\n    // the `triggers`, `modelEvents`, and `collectionEvents` config\n    undelegateEvents: function() {\n      Backbone.View.prototype.undelegateEvents.apply(this, arguments);\n  \n      this.unbindEntityEvents(this.model, this.getOption('modelEvents'));\n      this.unbindEntityEvents(this.collection, this.getOption('collectionEvents'));\n  \n      _.each(this._behaviors, function(behavior) {\n        behavior.unbindEntityEvents(this.model, behavior.getOption('modelEvents'));\n        behavior.unbindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n      }, this);\n  \n      return this;\n    },\n  \n    // Internal helper method to verify whether the view hasn't been destroyed\n    _ensureViewIsIntact: function() {\n      if (this.isDestroyed) {\n        throw new Marionette.Error({\n          name: 'ViewDestroyedError',\n          message: 'View (cid: \"' + this.cid + '\") has already been destroyed and cannot be used.'\n        });\n      }\n    },\n  \n    // Default `destroy` implementation, for removing a view from the\n    // DOM and unbinding it. Regions will call this method\n    // for you. You can specify an `onDestroy` method in your view to\n    // add custom code that is called after the view is destroyed.\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n  \n      var args = _.toArray(arguments);\n  \n      this.triggerMethod.apply(this, ['before:destroy'].concat(args));\n  \n      // mark as destroyed before doing the actual destroy, to\n      // prevent infinite loops within \"destroy\" event handlers\n      // that are trying to destroy other views\n      this.isDestroyed = true;\n      this.triggerMethod.apply(this, ['destroy'].concat(args));\n  \n      // unbind UI elements\n      this.unbindUIElements();\n  \n      this.isRendered = false;\n  \n      // remove the view from the DOM\n      this.remove();\n  \n      // Call destroy on each behavior after\n      // destroying the view.\n      // This unbinds event listeners\n      // that behaviors have registered for.\n      _.invoke(this._behaviors, 'destroy', args);\n  \n      return this;\n    },\n  \n    bindUIElements: function() {\n      this._bindUIElements();\n      _.invoke(this._behaviors, this._bindUIElements);\n    },\n  \n    // This method binds the elements specified in the \"ui\" hash inside the view's code with\n    // the associated jQuery selectors.\n    _bindUIElements: function() {\n      if (!this.ui) { return; }\n  \n      // store the ui hash in _uiBindings so they can be reset later\n      // and so re-rendering the view will be able to find the bindings\n      if (!this._uiBindings) {\n        this._uiBindings = this.ui;\n      }\n  \n      // get the bindings result, as a function or otherwise\n      var bindings = _.result(this, '_uiBindings');\n  \n      // empty the ui so we don't have anything to start with\n      this.ui = {};\n  \n      // bind each of the selectors\n      _.each(bindings, function(selector, key) {\n        this.ui[key] = this.$(selector);\n      }, this);\n    },\n  \n    // This method unbinds the elements specified in the \"ui\" hash\n    unbindUIElements: function() {\n      this._unbindUIElements();\n      _.invoke(this._behaviors, this._unbindUIElements);\n    },\n  \n    _unbindUIElements: function() {\n      if (!this.ui || !this._uiBindings) { return; }\n  \n      // delete all of the existing ui bindings\n      _.each(this.ui, function($el, name) {\n        delete this.ui[name];\n      }, this);\n  \n      // reset the ui element to the original bindings configuration\n      this.ui = this._uiBindings;\n      delete this._uiBindings;\n    },\n  \n    // Internal method to create an event handler for a given `triggerDef` like\n    // 'click:foo'\n    _buildViewTrigger: function(triggerDef) {\n  \n      var options = _.defaults({}, triggerDef, {\n        preventDefault: true,\n        stopPropagation: true\n      });\n  \n      var eventName = _.isObject(triggerDef) ? options.event : triggerDef;\n  \n      return function(e) {\n        if (e) {\n          if (e.preventDefault && options.preventDefault) {\n            e.preventDefault();\n          }\n  \n          if (e.stopPropagation && options.stopPropagation) {\n            e.stopPropagation();\n          }\n        }\n  \n        var args = {\n          view: this,\n          model: this.model,\n          collection: this.collection\n        };\n  \n        this.triggerMethod(eventName, args);\n      };\n    },\n  \n    setElement: function() {\n      var ret = Backbone.View.prototype.setElement.apply(this, arguments);\n  \n      // proxy behavior $el to the view's $el.\n      // This is needed because a view's $el proxy\n      // is not set until after setElement is called.\n      _.invoke(this._behaviors, 'proxyViewProperties', this);\n  \n      return ret;\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: function() {\n      var ret = Marionette._triggerMethod(this, arguments);\n  \n      this._triggerEventOnBehaviors(arguments);\n      this._triggerEventOnParentLayout(arguments[0], _.rest(arguments));\n  \n      return ret;\n    },\n  \n    _triggerEventOnBehaviors: function(args) {\n      var triggerMethod = Marionette._triggerMethod;\n      var behaviors = this._behaviors;\n      // Use good ol' for as this is a very hot function\n      for (var i = 0, length = behaviors && behaviors.length; i < length; i++) {\n        triggerMethod(behaviors[i], args);\n      }\n    },\n  \n    _triggerEventOnParentLayout: function(eventName, args) {\n      var layoutView = this._parentLayoutView();\n      if (!layoutView) {\n        return;\n      }\n  \n      // invoke triggerMethod on parent view\n      var eventPrefix = Marionette.getOption(layoutView, 'childViewEventPrefix');\n      var prefixedEventName = eventPrefix + ':' + eventName;\n      var callArgs = [this].concat(args);\n  \n      Marionette._triggerMethod(layoutView, prefixedEventName, callArgs);\n  \n      // call the parent view's childEvents handler\n      var childEvents = Marionette.getOption(layoutView, 'childEvents');\n  \n      // since childEvents can be an object or a function use Marionette._getValue\n      // to handle the abstaction for us.\n      childEvents = Marionette._getValue(childEvents, layoutView);\n      var normalizedChildEvents = layoutView.normalizeMethods(childEvents);\n  \n      if (normalizedChildEvents && _.isFunction(normalizedChildEvents[eventName])) {\n        normalizedChildEvents[eventName].apply(layoutView, callArgs);\n      }\n    },\n  \n    // This method returns any views that are immediate\n    // children of this view\n    _getImmediateChildren: function() {\n      return [];\n    },\n  \n    // Returns an array of every nested view within this view\n    _getNestedViews: function() {\n      var children = this._getImmediateChildren();\n  \n      if (!children.length) { return children; }\n  \n      return _.reduce(children, function(memo, view) {\n        if (!view._getNestedViews) { return memo; }\n        return memo.concat(view._getNestedViews());\n      }, children);\n    },\n  \n    // Walk the _parent tree until we find a layout view (if one exists).\n    // Returns the parent layout view hierarchically closest to this view.\n    _parentLayoutView: function() {\n      var parent  = this._parent;\n  \n      while (parent) {\n        if (parent instanceof Marionette.LayoutView) {\n          return parent;\n        }\n        parent = parent._parent;\n      }\n    },\n  \n    // Imports the \"normalizeMethods\" to transform hashes of\n    // events=>function references/names to a hash of events=>function references\n    normalizeMethods: Marionette.normalizeMethods,\n  \n    // A handy way to merge passed-in options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  // Item View\n  // ---------\n  \n  // A single item view implementation that contains code for rendering\n  // with underscore.js templates, serializing the view's model or collection,\n  // and calling several methods on extended views, such as `onRender`.\n  Marionette.ItemView = Marionette.View.extend({\n  \n    // Setting up the inheritance chain which allows changes to\n    // Marionette.View.prototype.constructor which allows overriding\n    constructor: function() {\n      Marionette.View.apply(this, arguments);\n    },\n  \n    // Serialize the model or collection for the view. If a model is\n    // found, the view's `serializeModel` is called. If a collection is found,\n    // each model in the collection is serialized by calling\n    // the view's `serializeCollection` and put into an `items` array in\n    // the resulting data. If both are found, defaults to the model.\n    // You can override the `serializeData` method in your own view definition,\n    // to provide custom serialization for your view's data.\n    serializeData: function() {\n      if (!this.model && !this.collection) {\n        return {};\n      }\n  \n      var args = [this.model || this.collection];\n      if (arguments.length) {\n        args.push.apply(args, arguments);\n      }\n  \n      if (this.model) {\n        return this.serializeModel.apply(this, args);\n      } else {\n        return {\n          items: this.serializeCollection.apply(this, args)\n        };\n      }\n    },\n  \n    // Serialize a collection by serializing each of its models.\n    serializeCollection: function(collection) {\n      return collection.toJSON.apply(collection, _.rest(arguments));\n    },\n  \n    // Render the view, defaulting to underscore.js templates.\n    // You can override this in your view definition to provide\n    // a very specific rendering for your view. In general, though,\n    // you should override the `Marionette.Renderer` object to\n    // change how Marionette renders views.\n    render: function() {\n      this._ensureViewIsIntact();\n  \n      this.triggerMethod('before:render', this);\n  \n      this._renderTemplate();\n      this.isRendered = true;\n      this.bindUIElements();\n  \n      this.triggerMethod('render', this);\n  \n      return this;\n    },\n  \n    // Internal method to render the template with the serialized data\n    // and template helpers via the `Marionette.Renderer` object.\n    // Throws an `UndefinedTemplateError` error if the template is\n    // any falsely value but literal `false`.\n    _renderTemplate: function() {\n      var template = this.getTemplate();\n  \n      // Allow template-less item views\n      if (template === false) {\n        return;\n      }\n  \n      if (!template) {\n        throw new Marionette.Error({\n          name: 'UndefinedTemplateError',\n          message: 'Cannot render the template since it is null or undefined.'\n        });\n      }\n  \n      // Add in entity data and template helpers\n      var data = this.mixinTemplateHelpers(this.serializeData());\n  \n      // Render and add to el\n      var html = Marionette.Renderer.render(template, data, this);\n      this.attachElContent(html);\n  \n      return this;\n    },\n  \n    // Attaches the content of a given view.\n    // This method can be overridden to optimize rendering,\n    // or to render in a non standard way.\n    //\n    // For example, using `innerHTML` instead of `$el.html`\n    //\n    // ```js\n    // attachElContent: function(html) {\n    //   this.el.innerHTML = html;\n    //   return this;\n    // }\n    // ```\n    attachElContent: function(html) {\n      this.$el.html(html);\n  \n      return this;\n    }\n  });\n  \n  /* jshint maxstatements: 20, maxcomplexity: 7 */\n  \n  // Collection View\n  // ---------------\n  \n  // A view that iterates over a Backbone.Collection\n  // and renders an individual child view for each model.\n  Marionette.CollectionView = Marionette.View.extend({\n  \n    // used as the prefix for child view events\n    // that are forwarded through the collectionview\n    childViewEventPrefix: 'childview',\n  \n    // flag for maintaining the sorted order of the collection\n    sort: true,\n  \n    // constructor\n    // option to pass `{sort: false}` to prevent the `CollectionView` from\n    // maintaining the sorted order of the collection.\n    // This will fallback onto appending childView's to the end.\n    //\n    // option to pass `{comparator: compFunction()}` to allow the `CollectionView`\n    // to use a custom sort order for the collection.\n    constructor: function(options) {\n      this.once('render', this._initialEvents);\n      this._initChildViewStorage();\n  \n      Marionette.View.apply(this, arguments);\n  \n      this.on({\n        'before:show':   this._onBeforeShowCalled,\n        'show':          this._onShowCalled,\n        'before:attach': this._onBeforeAttachCalled,\n        'attach':        this._onAttachCalled\n      });\n      this.initRenderBuffer();\n    },\n  \n    // Instead of inserting elements one by one into the page,\n    // it's much more performant to insert elements into a document\n    // fragment and then insert that document fragment into the page\n    initRenderBuffer: function() {\n      this._bufferedChildren = [];\n    },\n  \n    startBuffering: function() {\n      this.initRenderBuffer();\n      this.isBuffering = true;\n    },\n  \n    endBuffering: function() {\n      // Only trigger attach if already shown and attached, otherwise Region#show() handles this.\n      var canTriggerAttach = this._isShown && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      this.isBuffering = false;\n  \n      if (this._isShown) {\n        this._triggerMethodMany(this._bufferedChildren, this, 'before:show');\n      }\n      if (canTriggerAttach && this._triggerBeforeAttach) {\n        nestedViews = this._getNestedViews();\n        this._triggerMethodMany(nestedViews, this, 'before:attach');\n      }\n  \n      this.attachBuffer(this, this._createBuffer());\n  \n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getNestedViews();\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      if (this._isShown) {\n        this._triggerMethodMany(this._bufferedChildren, this, 'show');\n      }\n      this.initRenderBuffer();\n    },\n  \n    _triggerMethodMany: function(targets, source, eventName) {\n      var args = _.drop(arguments, 3);\n  \n      _.each(targets, function(target) {\n        Marionette.triggerMethodOn.apply(target, [target, eventName, target, source].concat(args));\n      });\n    },\n  \n    // Configured the initial events that the collection view\n    // binds to.\n    _initialEvents: function() {\n      if (this.collection) {\n        this.listenTo(this.collection, 'add', this._onCollectionAdd);\n        this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n        this.listenTo(this.collection, 'reset', this.render);\n  \n        if (this.getOption('sort')) {\n          this.listenTo(this.collection, 'sort', this._sortViews);\n        }\n      }\n    },\n  \n    // Handle a child added to the collection\n    _onCollectionAdd: function(child, collection, opts) {\n      // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n      var index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n  \n      // When filtered or when there is no initial index, calculate index.\n      if (this.getOption('filter') || index === false) {\n        index = _.indexOf(this._filteredSortedModels(index), child);\n      }\n  \n      if (this._shouldAddChild(child, index)) {\n        this.destroyEmptyView();\n        var ChildView = this.getChildView(child);\n        this.addChild(child, ChildView, index);\n      }\n    },\n  \n    // get the child view by model it holds, and remove it\n    _onCollectionRemove: function(model) {\n      var view = this.children.findByModel(model);\n      this.removeChildView(view);\n      this.checkEmpty();\n    },\n  \n    _onBeforeShowCalled: function() {\n      // Reset attach event flags at the top of the Region#show() event lifecycle; if the Region's\n      // show() options permit onBeforeAttach/onAttach events, these flags will be set true again.\n      this._triggerBeforeAttach = this._triggerAttach = false;\n      this.children.each(function(childView) {\n        Marionette.triggerMethodOn(childView, 'before:show', childView);\n      });\n    },\n  \n    _onShowCalled: function() {\n      this.children.each(function(childView) {\n        Marionette.triggerMethodOn(childView, 'show', childView);\n      });\n    },\n  \n    // If during Region#show() onBeforeAttach was fired, continue firing it for child views\n    _onBeforeAttachCalled: function() {\n      this._triggerBeforeAttach = true;\n    },\n  \n    // If during Region#show() onAttach was fired, continue firing it for child views\n    _onAttachCalled: function() {\n      this._triggerAttach = true;\n    },\n  \n    // Render children views. Override this method to\n    // provide your own implementation of a render function for\n    // the collection view.\n    render: function() {\n      this._ensureViewIsIntact();\n      this.triggerMethod('before:render', this);\n      this._renderChildren();\n      this.isRendered = true;\n      this.triggerMethod('render', this);\n      return this;\n    },\n  \n    // Reorder DOM after sorting. When your element's rendering\n    // do not use their index, you can pass reorderOnSort: true\n    // to only reorder the DOM after a sort instead of rendering\n    // all the collectionView\n    reorder: function() {\n      var children = this.children;\n      var models = this._filteredSortedModels();\n  \n      if (!models.length && this._showingEmptyView) { return this; }\n  \n      var anyModelsAdded = _.some(models, function(model) {\n        return !children.findByModel(model);\n      });\n  \n      // If there are any new models added due to filtering\n      // We need to add child views\n      // So render as normal\n      if (anyModelsAdded) {\n        this.render();\n      } else {\n        // get the DOM nodes in the same order as the models\n        var elsToReorder = _.map(models, function(model, index) {\n          var view = children.findByModel(model);\n          view._index = index;\n          return view.el;\n        });\n  \n        // find the views that were children before but arent in this new ordering\n        var filteredOutViews = children.filter(function(view) {\n          return !_.contains(elsToReorder, view.el);\n        });\n  \n        this.triggerMethod('before:reorder');\n  \n        // since append moves elements that are already in the DOM,\n        // appending the elements will effectively reorder them\n        this._appendReorderedChildren(elsToReorder);\n  \n        // remove any views that have been filtered out\n        _.each(filteredOutViews, this.removeChildView, this);\n        this.checkEmpty();\n  \n        this.triggerMethod('reorder');\n      }\n    },\n  \n    // Render view after sorting. Override this method to\n    // change how the view renders after a `sort` on the collection.\n    // An example of this would be to only `renderChildren` in a `CompositeView`\n    // rather than the full view.\n    resortView: function() {\n      if (Marionette.getOption(this, 'reorderOnSort')) {\n        this.reorder();\n      } else {\n        this.render();\n      }\n    },\n  \n    // Internal method. This checks for any changes in the order of the collection.\n    // If the index of any view doesn't match, it will render.\n    _sortViews: function() {\n      var models = this._filteredSortedModels();\n  \n      // check for any changes in sort order of views\n      var orderChanged = _.find(models, function(item, index) {\n        var view = this.children.findByModel(item);\n        return !view || view._index !== index;\n      }, this);\n  \n      if (orderChanged) {\n        this.resortView();\n      }\n    },\n  \n    // Internal reference to what index a `emptyView` is.\n    _emptyViewIndex: -1,\n  \n    // Internal method. Separated so that CompositeView can append to the childViewContainer\n    // if necessary\n    _appendReorderedChildren: function(children) {\n      this.$el.append(children);\n    },\n  \n    // Internal method. Separated so that CompositeView can have\n    // more control over events being triggered, around the rendering\n    // process\n    _renderChildren: function() {\n      this.destroyEmptyView();\n      this.destroyChildren({checkEmpty: false});\n  \n      if (this.isEmpty(this.collection)) {\n        this.showEmptyView();\n      } else {\n        this.triggerMethod('before:render:collection', this);\n        this.startBuffering();\n        this.showCollection();\n        this.endBuffering();\n        this.triggerMethod('render:collection', this);\n  \n        // If we have shown children and none have passed the filter, show the empty view\n        if (this.children.isEmpty() && this.getOption('filter')) {\n          this.showEmptyView();\n        }\n      }\n    },\n  \n    // Internal method to loop through collection and show each child view.\n    showCollection: function() {\n      var ChildView;\n  \n      var models = this._filteredSortedModels();\n  \n      _.each(models, function(child, index) {\n        ChildView = this.getChildView(child);\n        this.addChild(child, ChildView, index);\n      }, this);\n    },\n  \n    // Allow the collection to be sorted by a custom view comparator\n    _filteredSortedModels: function(addedAt) {\n      var viewComparator = this.getViewComparator();\n      var models = this.collection.models;\n      addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n  \n      if (viewComparator) {\n        var addedModel;\n        // Preserve `at` location, even for a sorted view\n        if (addedAt) {\n          addedModel = models[addedAt];\n          models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n        }\n        models = this._sortModelsBy(models, viewComparator);\n        if (addedModel) {\n          models.splice(addedAt, 0, addedModel);\n        }\n      }\n  \n      // Filter after sorting in case the filter uses the index\n      if (this.getOption('filter')) {\n        models = _.filter(models, function(model, index) {\n          return this._shouldAddChild(model, index);\n        }, this);\n      }\n  \n      return models;\n    },\n  \n    _sortModelsBy: function(models, comparator) {\n      if (typeof comparator === 'string') {\n        return _.sortBy(models, function(model) {\n          return model.get(comparator);\n        }, this);\n      } else if (comparator.length === 1) {\n        return _.sortBy(models, comparator, this);\n      } else {\n        return models.sort(_.bind(comparator, this));\n      }\n    },\n  \n    // Internal method to show an empty view in place of\n    // a collection of child views, when the collection is empty\n    showEmptyView: function() {\n      var EmptyView = this.getEmptyView();\n  \n      if (EmptyView && !this._showingEmptyView) {\n        this.triggerMethod('before:render:empty');\n  \n        this._showingEmptyView = true;\n        var model = new Backbone.Model();\n        this.addEmptyView(model, EmptyView);\n  \n        this.triggerMethod('render:empty');\n      }\n    },\n  \n    // Internal method to destroy an existing emptyView instance\n    // if one exists. Called when a collection view has been\n    // rendered empty, and then a child is added to the collection.\n    destroyEmptyView: function() {\n      if (this._showingEmptyView) {\n        this.triggerMethod('before:remove:empty');\n  \n        this.destroyChildren();\n        delete this._showingEmptyView;\n  \n        this.triggerMethod('remove:empty');\n      }\n    },\n  \n    // Retrieve the empty view class\n    getEmptyView: function() {\n      return this.getOption('emptyView');\n    },\n  \n    // Render and show the emptyView. Similar to addChild method\n    // but \"add:child\" events are not fired, and the event from\n    // emptyView are not forwarded\n    addEmptyView: function(child, EmptyView) {\n      // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n      // Region#show() handles this.\n      var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      // get the emptyViewOptions, falling back to childViewOptions\n      var emptyViewOptions = this.getOption('emptyViewOptions') ||\n                            this.getOption('childViewOptions');\n  \n      if (_.isFunction(emptyViewOptions)) {\n        emptyViewOptions = emptyViewOptions.call(this, child, this._emptyViewIndex);\n      }\n  \n      // build the empty view\n      var view = this.buildChildView(child, EmptyView, emptyViewOptions);\n  \n      view._parent = this;\n  \n      // Proxy emptyView events\n      this.proxyChildEvents(view);\n  \n      view.once('render', function() {\n        // trigger the 'before:show' event on `view` if the collection view has already been shown\n        if (this._isShown) {\n          Marionette.triggerMethodOn(view, 'before:show', view);\n        }\n  \n        // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n        // to public method `renderChildView()`.\n        if (canTriggerAttach && this._triggerBeforeAttach) {\n          nestedViews = this._getViewAndNested(view);\n          this._triggerMethodMany(nestedViews, this, 'before:attach');\n        }\n      }, this);\n  \n      // Store the `emptyView` like a `childView` so we can properly remove and/or close it later\n      this.children.add(view);\n      this.renderChildView(view, this._emptyViewIndex);\n  \n      // Trigger `attach`\n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getViewAndNested(view);\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      // call the 'show' method if the collection view has already been shown\n      if (this._isShown) {\n        Marionette.triggerMethodOn(view, 'show', view);\n      }\n    },\n  \n    // Retrieve the `childView` class, either from `this.options.childView`\n    // or from the `childView` in the object definition. The \"options\"\n    // takes precedence.\n    // This method receives the model that will be passed to the instance\n    // created from this `childView`. Overriding methods may use the child\n    // to determine what `childView` class to return.\n    getChildView: function(child) {\n      var childView = this.getOption('childView');\n  \n      if (!childView) {\n        throw new Marionette.Error({\n          name: 'NoChildViewError',\n          message: 'A \"childView\" must be specified'\n        });\n      }\n  \n      return childView;\n    },\n  \n    // Render the child's view and add it to the\n    // HTML for the collection view at a given index.\n    // This will also update the indices of later views in the collection\n    // in order to keep the children in sync with the collection.\n    addChild: function(child, ChildView, index) {\n      var childViewOptions = this.getOption('childViewOptions');\n      childViewOptions = Marionette._getValue(childViewOptions, this, [child, index]);\n  \n      var view = this.buildChildView(child, ChildView, childViewOptions);\n  \n      // increment indices of views after this one\n      this._updateIndices(view, true, index);\n  \n      this.triggerMethod('before:add:child', view);\n      this._addChildView(view, index);\n      this.triggerMethod('add:child', view);\n  \n      view._parent = this;\n  \n      return view;\n    },\n  \n    // Internal method. This decrements or increments the indices of views after the\n    // added/removed view to keep in sync with the collection.\n    _updateIndices: function(view, increment, index) {\n      if (!this.getOption('sort')) {\n        return;\n      }\n  \n      if (increment) {\n        // assign the index to the view\n        view._index = index;\n      }\n  \n      // update the indexes of views after this one\n      this.children.each(function(laterView) {\n        if (laterView._index >= view._index) {\n          laterView._index += increment ? 1 : -1;\n        }\n      });\n    },\n  \n    // Internal Method. Add the view to children and render it at\n    // the given index.\n    _addChildView: function(view, index) {\n      // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n      // Region#show() handles this.\n      var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      // set up the child view event forwarding\n      this.proxyChildEvents(view);\n  \n      view.once('render', function() {\n        // trigger the 'before:show' event on `view` if the collection view has already been shown\n        if (this._isShown && !this.isBuffering) {\n          Marionette.triggerMethodOn(view, 'before:show', view);\n        }\n  \n        // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n        // to public method `renderChildView()`.\n        if (canTriggerAttach && this._triggerBeforeAttach) {\n          nestedViews = this._getViewAndNested(view);\n          this._triggerMethodMany(nestedViews, this, 'before:attach');\n        }\n      }, this);\n  \n      // Store the child view itself so we can properly remove and/or destroy it later\n      this.children.add(view);\n      this.renderChildView(view, index);\n  \n      // Trigger `attach`\n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getViewAndNested(view);\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      // Trigger `show`\n      if (this._isShown && !this.isBuffering) {\n        Marionette.triggerMethodOn(view, 'show', view);\n      }\n    },\n  \n    // render the child view\n    renderChildView: function(view, index) {\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:render', view);\n      }\n      view.render();\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'render', view);\n      }\n      this.attachHtml(this, view, index);\n      return view;\n    },\n  \n    // Build a `childView` for a model in the collection.\n    buildChildView: function(child, ChildViewClass, childViewOptions) {\n      var options = _.extend({model: child}, childViewOptions);\n      var childView = new ChildViewClass(options);\n      Marionette.MonitorDOMRefresh(childView);\n      return childView;\n    },\n  \n    // Remove the child view and destroy it.\n    // This function also updates the indices of\n    // later views in the collection in order to keep\n    // the children in sync with the collection.\n    removeChildView: function(view) {\n      if (!view) { return view; }\n  \n      this.triggerMethod('before:remove:child', view);\n  \n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:destroy', view);\n      }\n      // call 'destroy' or 'remove', depending on which is found\n      if (view.destroy) {\n        view.destroy();\n      } else {\n        view.remove();\n      }\n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'destroy', view);\n      }\n  \n      delete view._parent;\n      this.stopListening(view);\n      this.children.remove(view);\n      this.triggerMethod('remove:child', view);\n  \n      // decrement the index of views after this one\n      this._updateIndices(view, false);\n  \n      return view;\n    },\n  \n    // check if the collection is empty\n    isEmpty: function() {\n      return !this.collection || this.collection.length === 0;\n    },\n  \n    // If empty, show the empty view\n    checkEmpty: function() {\n      if (this.isEmpty(this.collection)) {\n        this.showEmptyView();\n      }\n    },\n  \n    // You might need to override this if you've overridden attachHtml\n    attachBuffer: function(collectionView, buffer) {\n      collectionView.$el.append(buffer);\n    },\n  \n    // Create a fragment buffer from the currently buffered children\n    _createBuffer: function() {\n      var elBuffer = document.createDocumentFragment();\n      _.each(this._bufferedChildren, function(b) {\n        elBuffer.appendChild(b.el);\n      });\n      return elBuffer;\n    },\n  \n    // Append the HTML to the collection's `el`.\n    // Override this method to do something other\n    // than `.append`.\n    attachHtml: function(collectionView, childView, index) {\n      if (collectionView.isBuffering) {\n        // buffering happens on reset events and initial renders\n        // in order to reduce the number of inserts into the\n        // document, which are expensive.\n        collectionView._bufferedChildren.splice(index, 0, childView);\n      } else {\n        // If we've already rendered the main collection, append\n        // the new child into the correct order if we need to. Otherwise\n        // append to the end.\n        if (!collectionView._insertBefore(childView, index)) {\n          collectionView._insertAfter(childView);\n        }\n      }\n    },\n  \n    // Internal method. Check whether we need to insert the view into\n    // the correct position.\n    _insertBefore: function(childView, index) {\n      var currentView;\n      var findPosition = this.getOption('sort') && (index < this.children.length - 1);\n      if (findPosition) {\n        // Find the view after this one\n        currentView = this.children.find(function(view) {\n          return view._index === index + 1;\n        });\n      }\n  \n      if (currentView) {\n        currentView.$el.before(childView.el);\n        return true;\n      }\n  \n      return false;\n    },\n  \n    // Internal method. Append a view to the end of the $el\n    _insertAfter: function(childView) {\n      this.$el.append(childView.el);\n    },\n  \n    // Internal method to set up the `children` object for\n    // storing all of the child views\n    _initChildViewStorage: function() {\n      this.children = new Backbone.ChildViewContainer();\n    },\n  \n    // Handle cleanup and other destroying needs for the collection of views\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n  \n      this.triggerMethod('before:destroy:collection');\n      this.destroyChildren({checkEmpty: false});\n      this.triggerMethod('destroy:collection');\n  \n      return Marionette.View.prototype.destroy.apply(this, arguments);\n    },\n  \n    // Destroy the child views that this collection view\n    // is holding on to, if any\n    destroyChildren: function(options) {\n      var destroyOptions = options || {};\n      var shouldCheckEmpty = true;\n      var childViews = this.children.map(_.identity);\n  \n      if (!_.isUndefined(destroyOptions.checkEmpty)) {\n        shouldCheckEmpty = destroyOptions.checkEmpty;\n      }\n  \n      this.children.each(this.removeChildView, this);\n  \n      if (shouldCheckEmpty) {\n        this.checkEmpty();\n      }\n      return childViews;\n    },\n  \n    // Return true if the given child should be shown\n    // Return false otherwise\n    // The filter will be passed (child, index, collection)\n    // Where\n    //  'child' is the given model\n    //  'index' is the index of that model in the collection\n    //  'collection' is the collection referenced by this CollectionView\n    _shouldAddChild: function(child, index) {\n      var filter = this.getOption('filter');\n      return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n    },\n  \n    // Set up the child view event forwarding. Uses a \"childview:\"\n    // prefix in front of all forwarded events.\n    proxyChildEvents: function(view) {\n      var prefix = this.getOption('childViewEventPrefix');\n  \n      // Forward all child view events through the parent,\n      // prepending \"childview:\" to the event name\n      this.listenTo(view, 'all', function() {\n        var args = _.toArray(arguments);\n        var rootEvent = args[0];\n        var childEvents = this.normalizeMethods(_.result(this, 'childEvents'));\n  \n        args[0] = prefix + ':' + rootEvent;\n        args.splice(1, 0, view);\n  \n        // call collectionView childEvent if defined\n        if (typeof childEvents !== 'undefined' && _.isFunction(childEvents[rootEvent])) {\n          childEvents[rootEvent].apply(this, args.slice(1));\n        }\n  \n        this.triggerMethod.apply(this, args);\n      });\n    },\n  \n    _getImmediateChildren: function() {\n      return _.values(this.children._views);\n    },\n  \n    _getViewAndNested: function(view) {\n      // This will not fail on Backbone.View which does not have #_getNestedViews.\n      return [view].concat(_.result(view, '_getNestedViews') || []);\n    },\n  \n    getViewComparator: function() {\n      return this.getOption('viewComparator');\n    }\n  });\n  \n  /* jshint maxstatements: 17, maxlen: 117 */\n  \n  // Composite View\n  // --------------\n  \n  // Used for rendering a branch-leaf, hierarchical structure.\n  // Extends directly from CollectionView and also renders an\n  // a child view as `modelView`, for the top leaf\n  Marionette.CompositeView = Marionette.CollectionView.extend({\n  \n    // Setting up the inheritance chain which allows changes to\n    // Marionette.CollectionView.prototype.constructor which allows overriding\n    // option to pass '{sort: false}' to prevent the CompositeView from\n    // maintaining the sorted order of the collection.\n    // This will fallback onto appending childView's to the end.\n    constructor: function() {\n      Marionette.CollectionView.apply(this, arguments);\n    },\n  \n    // Configured the initial events that the composite view\n    // binds to. Override this method to prevent the initial\n    // events, or to add your own initial events.\n    _initialEvents: function() {\n  \n      // Bind only after composite view is rendered to avoid adding child views\n      // to nonexistent childViewContainer\n  \n      if (this.collection) {\n        this.listenTo(this.collection, 'add', this._onCollectionAdd);\n        this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n        this.listenTo(this.collection, 'reset', this._renderChildren);\n  \n        if (this.getOption('sort')) {\n          this.listenTo(this.collection, 'sort', this._sortViews);\n        }\n      }\n    },\n  \n    // Retrieve the `childView` to be used when rendering each of\n    // the items in the collection. The default is to return\n    // `this.childView` or Marionette.CompositeView if no `childView`\n    // has been defined\n    getChildView: function(child) {\n      var childView = this.getOption('childView') || this.constructor;\n  \n      return childView;\n    },\n  \n    // Serialize the model for the view.\n    // You can override the `serializeData` method in your own view\n    // definition, to provide custom serialization for your view's data.\n    serializeData: function() {\n      var data = {};\n  \n      if (this.model) {\n        data = _.partial(this.serializeModel, this.model).apply(this, arguments);\n      }\n  \n      return data;\n    },\n  \n    // Renders the model and the collection.\n    render: function() {\n      this._ensureViewIsIntact();\n      this._isRendering = true;\n      this.resetChildViewContainer();\n  \n      this.triggerMethod('before:render', this);\n  \n      this._renderTemplate();\n      this._renderChildren();\n  \n      this._isRendering = false;\n      this.isRendered = true;\n      this.triggerMethod('render', this);\n      return this;\n    },\n  \n    _renderChildren: function() {\n      if (this.isRendered || this._isRendering) {\n        Marionette.CollectionView.prototype._renderChildren.call(this);\n      }\n    },\n  \n    // Render the root template that the children\n    // views are appended to\n    _renderTemplate: function() {\n      var data = {};\n      data = this.serializeData();\n      data = this.mixinTemplateHelpers(data);\n  \n      this.triggerMethod('before:render:template');\n  \n      var template = this.getTemplate();\n      var html = Marionette.Renderer.render(template, data, this);\n      this.attachElContent(html);\n  \n      // the ui bindings is done here and not at the end of render since they\n      // will not be available until after the model is rendered, but should be\n      // available before the collection is rendered.\n      this.bindUIElements();\n      this.triggerMethod('render:template');\n    },\n  \n    // Attaches the content of the root.\n    // This method can be overridden to optimize rendering,\n    // or to render in a non standard way.\n    //\n    // For example, using `innerHTML` instead of `$el.html`\n    //\n    // ```js\n    // attachElContent: function(html) {\n    //   this.el.innerHTML = html;\n    //   return this;\n    // }\n    // ```\n    attachElContent: function(html) {\n      this.$el.html(html);\n  \n      return this;\n    },\n  \n    // You might need to override this if you've overridden attachHtml\n    attachBuffer: function(compositeView, buffer) {\n      var $container = this.getChildViewContainer(compositeView);\n      $container.append(buffer);\n    },\n  \n    // Internal method. Append a view to the end of the $el.\n    // Overidden from CollectionView to ensure view is appended to\n    // childViewContainer\n    _insertAfter: function(childView) {\n      var $container = this.getChildViewContainer(this, childView);\n      $container.append(childView.el);\n    },\n  \n    // Internal method. Append reordered childView'.\n    // Overidden from CollectionView to ensure reordered views\n    // are appended to childViewContainer\n    _appendReorderedChildren: function(children) {\n      var $container = this.getChildViewContainer(this);\n      $container.append(children);\n    },\n  \n    // Internal method to ensure an `$childViewContainer` exists, for the\n    // `attachHtml` method to use.\n    getChildViewContainer: function(containerView, childView) {\n      if (!!containerView.$childViewContainer) {\n        return containerView.$childViewContainer;\n      }\n  \n      var container;\n      var childViewContainer = Marionette.getOption(containerView, 'childViewContainer');\n      if (childViewContainer) {\n  \n        var selector = Marionette._getValue(childViewContainer, containerView);\n  \n        if (selector.charAt(0) === '@' && containerView.ui) {\n          container = containerView.ui[selector.substr(4)];\n        } else {\n          container = containerView.$(selector);\n        }\n  \n        if (container.length <= 0) {\n          throw new Marionette.Error({\n            name: 'ChildViewContainerMissingError',\n            message: 'The specified \"childViewContainer\" was not found: ' + containerView.childViewContainer\n          });\n        }\n  \n      } else {\n        container = containerView.$el;\n      }\n  \n      containerView.$childViewContainer = container;\n      return container;\n    },\n  \n    // Internal method to reset the `$childViewContainer` on render\n    resetChildViewContainer: function() {\n      if (this.$childViewContainer) {\n        this.$childViewContainer = undefined;\n      }\n    }\n  });\n  \n  // Layout View\n  // -----------\n  \n  // Used for managing application layoutViews, nested layoutViews and\n  // multiple regions within an application or sub-application.\n  //\n  // A specialized view class that renders an area of HTML and then\n  // attaches `Region` instances to the specified `regions`.\n  // Used for composite view management and sub-application areas.\n  Marionette.LayoutView = Marionette.ItemView.extend({\n    regionClass: Marionette.Region,\n  \n    options: {\n      destroyImmediate: false\n    },\n  \n    // used as the prefix for child view events\n    // that are forwarded through the layoutview\n    childViewEventPrefix: 'childview',\n  \n    // Ensure the regions are available when the `initialize` method\n    // is called.\n    constructor: function(options) {\n      options = options || {};\n  \n      this._firstRender = true;\n      this._initializeRegions(options);\n  \n      Marionette.ItemView.call(this, options);\n    },\n  \n    // LayoutView's render will use the existing region objects the\n    // first time it is called. Subsequent calls will destroy the\n    // views that the regions are showing and then reset the `el`\n    // for the regions to the newly rendered DOM elements.\n    render: function() {\n      this._ensureViewIsIntact();\n  \n      if (this._firstRender) {\n        // if this is the first render, don't do anything to\n        // reset the regions\n        this._firstRender = false;\n      } else {\n        // If this is not the first render call, then we need to\n        // re-initialize the `el` for each region\n        this._reInitializeRegions();\n      }\n  \n      return Marionette.ItemView.prototype.render.apply(this, arguments);\n    },\n  \n    // Handle destroying regions, and then destroy the view itself.\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n      // #2134: remove parent element before destroying the child views, so\n      // removing the child views doesn't retrigger repaints\n      if (this.getOption('destroyImmediate') === true) {\n        this.$el.remove();\n      }\n      this.regionManager.destroy();\n      return Marionette.ItemView.prototype.destroy.apply(this, arguments);\n    },\n  \n    showChildView: function(regionName, view, options) {\n      var region = this.getRegion(regionName);\n      return region.show.apply(region, _.rest(arguments));\n    },\n  \n    getChildView: function(regionName) {\n      return this.getRegion(regionName).currentView;\n    },\n  \n    // Add a single region, by name, to the layoutView\n    addRegion: function(name, definition) {\n      var regions = {};\n      regions[name] = definition;\n      return this._buildRegions(regions)[name];\n    },\n  \n    // Add multiple regions as a {name: definition, name2: def2} object literal\n    addRegions: function(regions) {\n      this.regions = _.extend({}, this.regions, regions);\n      return this._buildRegions(regions);\n    },\n  \n    // Remove a single region from the LayoutView, by name\n    removeRegion: function(name) {\n      delete this.regions[name];\n      return this.regionManager.removeRegion(name);\n    },\n  \n    // Provides alternative access to regions\n    // Accepts the region name\n    // getRegion('main')\n    getRegion: function(region) {\n      return this.regionManager.get(region);\n    },\n  \n    // Get all regions\n    getRegions: function() {\n      return this.regionManager.getRegions();\n    },\n  \n    // internal method to build regions\n    _buildRegions: function(regions) {\n      var defaults = {\n        regionClass: this.getOption('regionClass'),\n        parentEl: _.partial(_.result, this, 'el')\n      };\n  \n      return this.regionManager.addRegions(regions, defaults);\n    },\n  \n    // Internal method to initialize the regions that have been defined in a\n    // `regions` attribute on this layoutView.\n    _initializeRegions: function(options) {\n      var regions;\n      this._initRegionManager();\n  \n      regions = Marionette._getValue(this.regions, this, [options]) || {};\n  \n      // Enable users to define `regions` as instance options.\n      var regionOptions = this.getOption.call(options, 'regions');\n  \n      // enable region options to be a function\n      regionOptions = Marionette._getValue(regionOptions, this, [options]);\n  \n      _.extend(regions, regionOptions);\n  \n      // Normalize region selectors hash to allow\n      // a user to use the @ui. syntax.\n      regions = this.normalizeUIValues(regions, ['selector', 'el']);\n  \n      this.addRegions(regions);\n    },\n  \n    // Internal method to re-initialize all of the regions by updating the `el` that\n    // they point to\n    _reInitializeRegions: function() {\n      this.regionManager.invoke('reset');\n    },\n  \n    // Enable easy overriding of the default `RegionManager`\n    // for customized region interactions and business specific\n    // view logic for better control over single regions.\n    getRegionManager: function() {\n      return new Marionette.RegionManager();\n    },\n  \n    // Internal method to initialize the region manager\n    // and all regions in it\n    _initRegionManager: function() {\n      this.regionManager = this.getRegionManager();\n      this.regionManager._parent = this;\n  \n      this.listenTo(this.regionManager, 'before:add:region', function(name) {\n        this.triggerMethod('before:add:region', name);\n      });\n  \n      this.listenTo(this.regionManager, 'add:region', function(name, region) {\n        this[name] = region;\n        this.triggerMethod('add:region', name, region);\n      });\n  \n      this.listenTo(this.regionManager, 'before:remove:region', function(name) {\n        this.triggerMethod('before:remove:region', name);\n      });\n  \n      this.listenTo(this.regionManager, 'remove:region', function(name, region) {\n        delete this[name];\n        this.triggerMethod('remove:region', name, region);\n      });\n    },\n  \n    _getImmediateChildren: function() {\n      return _.chain(this.regionManager.getRegions())\n        .pluck('currentView')\n        .compact()\n        .value();\n    }\n  });\n  \n\n  // Behavior\n  // --------\n  \n  // A Behavior is an isolated set of DOM /\n  // user interactions that can be mixed into any View.\n  // Behaviors allow you to blackbox View specific interactions\n  // into portable logical chunks, keeping your views simple and your code DRY.\n  \n  Marionette.Behavior = Marionette.Object.extend({\n    constructor: function(options, view) {\n      // Setup reference to the view.\n      // this comes in handle when a behavior\n      // wants to directly talk up the chain\n      // to the view.\n      this.view = view;\n      this.defaults = _.result(this, 'defaults') || {};\n      this.options  = _.extend({}, this.defaults, options);\n      // Construct an internal UI hash using\n      // the views UI hash and then the behaviors UI hash.\n      // This allows the user to use UI hash elements\n      // defined in the parent view as well as those\n      // defined in the given behavior.\n      this.ui = _.extend({}, _.result(view, 'ui'), _.result(this, 'ui'));\n  \n      Marionette.Object.apply(this, arguments);\n    },\n  \n    // proxy behavior $ method to the view\n    // this is useful for doing jquery DOM lookups\n    // scoped to behaviors view.\n    $: function() {\n      return this.view.$.apply(this.view, arguments);\n    },\n  \n    // Stops the behavior from listening to events.\n    // Overrides Object#destroy to prevent additional events from being triggered.\n    destroy: function() {\n      this.stopListening();\n  \n      return this;\n    },\n  \n    proxyViewProperties: function(view) {\n      this.$el = view.$el;\n      this.el = view.el;\n    }\n  });\n  \n  /* jshint maxlen: 143 */\n  // Behaviors\n  // ---------\n  \n  // Behaviors is a utility class that takes care of\n  // gluing your behavior instances to their given View.\n  // The most important part of this class is that you\n  // **MUST** override the class level behaviorsLookup\n  // method for things to work properly.\n  \n  Marionette.Behaviors = (function(Marionette, _) {\n    // Borrow event splitter from Backbone\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n  \n    function Behaviors(view, behaviors) {\n  \n      if (!_.isObject(view.behaviors)) {\n        return {};\n      }\n  \n      // Behaviors defined on a view can be a flat object literal\n      // or it can be a function that returns an object.\n      behaviors = Behaviors.parseBehaviors(view, behaviors || _.result(view, 'behaviors'));\n  \n      // Wraps several of the view's methods\n      // calling the methods first on each behavior\n      // and then eventually calling the method on the view.\n      Behaviors.wrap(view, behaviors, _.keys(methods));\n      return behaviors;\n    }\n  \n    var methods = {\n      behaviorTriggers: function(behaviorTriggers, behaviors) {\n        var triggerBuilder = new BehaviorTriggersBuilder(this, behaviors);\n        return triggerBuilder.buildBehaviorTriggers();\n      },\n  \n      behaviorEvents: function(behaviorEvents, behaviors) {\n        var _behaviorsEvents = {};\n  \n        _.each(behaviors, function(b, i) {\n          var _events = {};\n          var behaviorEvents = _.clone(_.result(b, 'events')) || {};\n  \n          // Normalize behavior events hash to allow\n          // a user to use the @ui. syntax.\n          behaviorEvents = Marionette.normalizeUIKeys(behaviorEvents, getBehaviorsUI(b));\n  \n          var j = 0;\n          _.each(behaviorEvents, function(behaviour, key) {\n            var match     = key.match(delegateEventSplitter);\n  \n            // Set event name to be namespaced using the view cid,\n            // the behavior index, and the behavior event index\n            // to generate a non colliding event namespace\n            // http://api.jquery.com/event.namespace/\n            var eventName = match[1] + '.' + [this.cid, i, j++, ' '].join('');\n            var selector  = match[2];\n  \n            var eventKey  = eventName + selector;\n            var handler   = _.isFunction(behaviour) ? behaviour : b[behaviour];\n            if (!handler) { return; }\n            _events[eventKey] = _.bind(handler, b);\n          }, this);\n  \n          _behaviorsEvents = _.extend(_behaviorsEvents, _events);\n        }, this);\n  \n        return _behaviorsEvents;\n      }\n    };\n  \n    _.extend(Behaviors, {\n  \n      // Placeholder method to be extended by the user.\n      // The method should define the object that stores the behaviors.\n      // i.e.\n      //\n      // ```js\n      // Marionette.Behaviors.behaviorsLookup: function() {\n      //   return App.Behaviors\n      // }\n      // ```\n      behaviorsLookup: function() {\n        throw new Marionette.Error({\n          message: 'You must define where your behaviors are stored.',\n          url: 'marionette.behaviors.html#behaviorslookup'\n        });\n      },\n  \n      // Takes care of getting the behavior class\n      // given options and a key.\n      // If a user passes in options.behaviorClass\n      // default to using that. Otherwise delegate\n      // the lookup to the users `behaviorsLookup` implementation.\n      getBehaviorClass: function(options, key) {\n        if (options.behaviorClass) {\n          return options.behaviorClass;\n        }\n  \n        // Get behavior class can be either a flat object or a method\n        return Marionette._getValue(Behaviors.behaviorsLookup, this, [options, key])[key];\n      },\n  \n      // Iterate over the behaviors object, for each behavior\n      // instantiate it and get its grouped behaviors.\n      parseBehaviors: function(view, behaviors) {\n        return _.chain(behaviors).map(function(options, key) {\n          var BehaviorClass = Behaviors.getBehaviorClass(options, key);\n  \n          var behavior = new BehaviorClass(options, view);\n          var nestedBehaviors = Behaviors.parseBehaviors(view, _.result(behavior, 'behaviors'));\n  \n          return [behavior].concat(nestedBehaviors);\n        }).flatten().value();\n      },\n  \n      // Wrap view internal methods so that they delegate to behaviors. For example,\n      // `onDestroy` should trigger destroy on all of the behaviors and then destroy itself.\n      // i.e.\n      //\n      // `view.delegateEvents = _.partial(methods.delegateEvents, view.delegateEvents, behaviors);`\n      wrap: function(view, behaviors, methodNames) {\n        _.each(methodNames, function(methodName) {\n          view[methodName] = _.partial(methods[methodName], view[methodName], behaviors);\n        });\n      }\n    });\n  \n    // Class to build handlers for `triggers` on behaviors\n    // for views\n    function BehaviorTriggersBuilder(view, behaviors) {\n      this._view      = view;\n      this._behaviors = behaviors;\n      this._triggers  = {};\n    }\n  \n    _.extend(BehaviorTriggersBuilder.prototype, {\n      // Main method to build the triggers hash with event keys and handlers\n      buildBehaviorTriggers: function() {\n        _.each(this._behaviors, this._buildTriggerHandlersForBehavior, this);\n        return this._triggers;\n      },\n  \n      // Internal method to build all trigger handlers for a given behavior\n      _buildTriggerHandlersForBehavior: function(behavior, i) {\n        var triggersHash = _.clone(_.result(behavior, 'triggers')) || {};\n  \n        triggersHash = Marionette.normalizeUIKeys(triggersHash, getBehaviorsUI(behavior));\n  \n        _.each(triggersHash, _.bind(this._setHandlerForBehavior, this, behavior, i));\n      },\n  \n      // Internal method to create and assign the trigger handler for a given\n      // behavior\n      _setHandlerForBehavior: function(behavior, i, eventName, trigger) {\n        // Unique identifier for the `this._triggers` hash\n        var triggerKey = trigger.replace(/^\\S+/, function(triggerName) {\n          return triggerName + '.' + 'behaviortriggers' + i;\n        });\n  \n        this._triggers[triggerKey] = this._view._buildViewTrigger(eventName);\n      }\n    });\n  \n    function getBehaviorsUI(behavior) {\n      return behavior._uiBindings || behavior.ui;\n    }\n  \n    return Behaviors;\n  \n  })(Marionette, _);\n  \n\n  // App Router\n  // ----------\n  \n  // Reduce the boilerplate code of handling route events\n  // and then calling a single method on another object.\n  // Have your routers configured to call the method on\n  // your object, directly.\n  //\n  // Configure an AppRouter with `appRoutes`.\n  //\n  // App routers can only take one `controller` object.\n  // It is recommended that you divide your controller\n  // objects in to smaller pieces of related functionality\n  // and have multiple routers / controllers, instead of\n  // just one giant router and controller.\n  //\n  // You can also add standard routes to an AppRouter.\n  \n  Marionette.AppRouter = Backbone.Router.extend({\n  \n    constructor: function(options) {\n      this.options = options || {};\n  \n      Backbone.Router.apply(this, arguments);\n  \n      var appRoutes = this.getOption('appRoutes');\n      var controller = this._getController();\n      this.processAppRoutes(controller, appRoutes);\n      this.on('route', this._processOnRoute, this);\n    },\n  \n    // Similar to route method on a Backbone Router but\n    // method is called on the controller\n    appRoute: function(route, methodName) {\n      var controller = this._getController();\n      this._addAppRoute(controller, route, methodName);\n    },\n  \n    // process the route event and trigger the onRoute\n    // method call, if it exists\n    _processOnRoute: function(routeName, routeArgs) {\n      // make sure an onRoute before trying to call it\n      if (_.isFunction(this.onRoute)) {\n        // find the path that matches the current route\n        var routePath = _.invert(this.getOption('appRoutes'))[routeName];\n        this.onRoute(routeName, routePath, routeArgs);\n      }\n    },\n  \n    // Internal method to process the `appRoutes` for the\n    // router, and turn them in to routes that trigger the\n    // specified method on the specified `controller`.\n    processAppRoutes: function(controller, appRoutes) {\n      if (!appRoutes) { return; }\n  \n      var routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n  \n      _.each(routeNames, function(route) {\n        this._addAppRoute(controller, route, appRoutes[route]);\n      }, this);\n    },\n  \n    _getController: function() {\n      return this.getOption('controller');\n    },\n  \n    _addAppRoute: function(controller, route, methodName) {\n      var method = controller[methodName];\n  \n      if (!method) {\n        throw new Marionette.Error('Method \"' + methodName + '\" was not found on the controller');\n      }\n  \n      this.route(route, methodName, _.bind(method, controller));\n    },\n  \n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    triggerMethod: Marionette.triggerMethod,\n  \n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  // Application\n  // -----------\n  \n  // Contain and manage the composite application as a whole.\n  // Stores and starts up `Region` objects, includes an\n  // event aggregator as `app.vent`\n  Marionette.Application = Marionette.Object.extend({\n    constructor: function(options) {\n      this._initializeRegions(options);\n      this._initCallbacks = new Marionette.Callbacks();\n      this.submodules = {};\n      _.extend(this, options);\n      this._initChannel();\n      Marionette.Object.apply(this, arguments);\n    },\n  \n    // Command execution, facilitated by Backbone.Wreqr.Commands\n    execute: function() {\n      this.commands.execute.apply(this.commands, arguments);\n    },\n  \n    // Request/response, facilitated by Backbone.Wreqr.RequestResponse\n    request: function() {\n      return this.reqres.request.apply(this.reqres, arguments);\n    },\n  \n    // Add an initializer that is either run at when the `start`\n    // method is called, or run immediately if added after `start`\n    // has already been called.\n    addInitializer: function(initializer) {\n      this._initCallbacks.add(initializer);\n    },\n  \n    // kick off all of the application's processes.\n    // initializes all of the regions that have been added\n    // to the app, and runs all of the initializer functions\n    start: function(options) {\n      this.triggerMethod('before:start', options);\n      this._initCallbacks.run(options, this);\n      this.triggerMethod('start', options);\n    },\n  \n    // Add regions to your app.\n    // Accepts a hash of named strings or Region objects\n    // addRegions({something: \"#someRegion\"})\n    // addRegions({something: Region.extend({el: \"#someRegion\"}) });\n    addRegions: function(regions) {\n      return this._regionManager.addRegions(regions);\n    },\n  \n    // Empty all regions in the app, without removing them\n    emptyRegions: function() {\n      return this._regionManager.emptyRegions();\n    },\n  \n    // Removes a region from your app, by name\n    // Accepts the regions name\n    // removeRegion('myRegion')\n    removeRegion: function(region) {\n      return this._regionManager.removeRegion(region);\n    },\n  \n    // Provides alternative access to regions\n    // Accepts the region name\n    // getRegion('main')\n    getRegion: function(region) {\n      return this._regionManager.get(region);\n    },\n  \n    // Get all the regions from the region manager\n    getRegions: function() {\n      return this._regionManager.getRegions();\n    },\n  \n    // Create a module, attached to the application\n    module: function(moduleNames, moduleDefinition) {\n  \n      // Overwrite the module class if the user specifies one\n      var ModuleClass = Marionette.Module.getClass(moduleDefinition);\n  \n      var args = _.toArray(arguments);\n      args.unshift(this);\n  \n      // see the Marionette.Module object for more information\n      return ModuleClass.create.apply(ModuleClass, args);\n    },\n  \n    // Enable easy overriding of the default `RegionManager`\n    // for customized region interactions and business-specific\n    // view logic for better control over single regions.\n    getRegionManager: function() {\n      return new Marionette.RegionManager();\n    },\n  \n    // Internal method to initialize the regions that have been defined in a\n    // `regions` attribute on the application instance\n    _initializeRegions: function(options) {\n      var regions = _.isFunction(this.regions) ? this.regions(options) : this.regions || {};\n  \n      this._initRegionManager();\n  \n      // Enable users to define `regions` in instance options.\n      var optionRegions = Marionette.getOption(options, 'regions');\n  \n      // Enable region options to be a function\n      if (_.isFunction(optionRegions)) {\n        optionRegions = optionRegions.call(this, options);\n      }\n  \n      // Overwrite current regions with those passed in options\n      _.extend(regions, optionRegions);\n  \n      this.addRegions(regions);\n  \n      return this;\n    },\n  \n    // Internal method to set up the region manager\n    _initRegionManager: function() {\n      this._regionManager = this.getRegionManager();\n      this._regionManager._parent = this;\n  \n      this.listenTo(this._regionManager, 'before:add:region', function() {\n        Marionette._triggerMethod(this, 'before:add:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'add:region', function(name, region) {\n        this[name] = region;\n        Marionette._triggerMethod(this, 'add:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'before:remove:region', function() {\n        Marionette._triggerMethod(this, 'before:remove:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'remove:region', function(name) {\n        delete this[name];\n        Marionette._triggerMethod(this, 'remove:region', arguments);\n      });\n    },\n  \n    // Internal method to setup the Wreqr.radio channel\n    _initChannel: function() {\n      this.channelName = _.result(this, 'channelName') || 'global';\n      this.channel = _.result(this, 'channel') || Backbone.Wreqr.radio.channel(this.channelName);\n      this.vent = _.result(this, 'vent') || this.channel.vent;\n      this.commands = _.result(this, 'commands') || this.channel.commands;\n      this.reqres = _.result(this, 'reqres') || this.channel.reqres;\n    }\n  });\n  \n  /* jshint maxparams: 9 */\n  \n  // Module\n  // ------\n  \n  // A simple module system, used to create privacy and encapsulation in\n  // Marionette applications\n  Marionette.Module = function(moduleName, app, options) {\n    this.moduleName = moduleName;\n    this.options = _.extend({}, this.options, options);\n    // Allow for a user to overide the initialize\n    // for a given module instance.\n    this.initialize = options.initialize || this.initialize;\n  \n    // Set up an internal store for sub-modules.\n    this.submodules = {};\n  \n    this._setupInitializersAndFinalizers();\n  \n    // Set an internal reference to the app\n    // within a module.\n    this.app = app;\n  \n    if (_.isFunction(this.initialize)) {\n      this.initialize(moduleName, app, this.options);\n    }\n  };\n  \n  Marionette.Module.extend = Marionette.extend;\n  \n  // Extend the Module prototype with events / listenTo, so that the module\n  // can be used as an event aggregator or pub/sub.\n  _.extend(Marionette.Module.prototype, Backbone.Events, {\n  \n    // By default modules start with their parents.\n    startWithParent: true,\n  \n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic when extending Marionette.Module.\n    initialize: function() {},\n  \n    // Initializer for a specific module. Initializers are run when the\n    // module's `start` method is called.\n    addInitializer: function(callback) {\n      this._initializerCallbacks.add(callback);\n    },\n  \n    // Finalizers are run when a module is stopped. They are used to teardown\n    // and finalize any variables, references, events and other code that the\n    // module had set up.\n    addFinalizer: function(callback) {\n      this._finalizerCallbacks.add(callback);\n    },\n  \n    // Start the module, and run all of its initializers\n    start: function(options) {\n      // Prevent re-starting a module that is already started\n      if (this._isInitialized) { return; }\n  \n      // start the sub-modules (depth-first hierarchy)\n      _.each(this.submodules, function(mod) {\n        // check to see if we should start the sub-module with this parent\n        if (mod.startWithParent) {\n          mod.start(options);\n        }\n      });\n  \n      // run the callbacks to \"start\" the current module\n      this.triggerMethod('before:start', options);\n  \n      this._initializerCallbacks.run(options, this);\n      this._isInitialized = true;\n  \n      this.triggerMethod('start', options);\n    },\n  \n    // Stop this module by running its finalizers and then stop all of\n    // the sub-modules for this module\n    stop: function() {\n      // if we are not initialized, don't bother finalizing\n      if (!this._isInitialized) { return; }\n      this._isInitialized = false;\n  \n      this.triggerMethod('before:stop');\n  \n      // stop the sub-modules; depth-first, to make sure the\n      // sub-modules are stopped / finalized before parents\n      _.invoke(this.submodules, 'stop');\n  \n      // run the finalizers\n      this._finalizerCallbacks.run(undefined, this);\n  \n      // reset the initializers and finalizers\n      this._initializerCallbacks.reset();\n      this._finalizerCallbacks.reset();\n  \n      this.triggerMethod('stop');\n    },\n  \n    // Configure the module with a definition function and any custom args\n    // that are to be passed in to the definition function\n    addDefinition: function(moduleDefinition, customArgs) {\n      this._runModuleDefinition(moduleDefinition, customArgs);\n    },\n  \n    // Internal method: run the module definition function with the correct\n    // arguments\n    _runModuleDefinition: function(definition, customArgs) {\n      // If there is no definition short circut the method.\n      if (!definition) { return; }\n  \n      // build the correct list of arguments for the module definition\n      var args = _.flatten([\n        this,\n        this.app,\n        Backbone,\n        Marionette,\n        Backbone.$, _,\n        customArgs\n      ]);\n  \n      definition.apply(this, args);\n    },\n  \n    // Internal method: set up new copies of initializers and finalizers.\n    // Calling this method will wipe out all existing initializers and\n    // finalizers.\n    _setupInitializersAndFinalizers: function() {\n      this._initializerCallbacks = new Marionette.Callbacks();\n      this._finalizerCallbacks = new Marionette.Callbacks();\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod\n  });\n  \n  // Class methods to create modules\n  _.extend(Marionette.Module, {\n  \n    // Create a module, hanging off the app parameter as the parent object.\n    create: function(app, moduleNames, moduleDefinition) {\n      var module = app;\n  \n      // get the custom args passed in after the module definition and\n      // get rid of the module name and definition function\n      var customArgs = _.drop(arguments, 3);\n  \n      // Split the module names and get the number of submodules.\n      // i.e. an example module name of `Doge.Wow.Amaze` would\n      // then have the potential for 3 module definitions.\n      moduleNames = moduleNames.split('.');\n      var length = moduleNames.length;\n  \n      // store the module definition for the last module in the chain\n      var moduleDefinitions = [];\n      moduleDefinitions[length - 1] = moduleDefinition;\n  \n      // Loop through all the parts of the module definition\n      _.each(moduleNames, function(moduleName, i) {\n        var parentModule = module;\n        module = this._getModule(parentModule, moduleName, app, moduleDefinition);\n        this._addModuleDefinition(parentModule, module, moduleDefinitions[i], customArgs);\n      }, this);\n  \n      // Return the last module in the definition chain\n      return module;\n    },\n  \n    _getModule: function(parentModule, moduleName, app, def, args) {\n      var options = _.extend({}, def);\n      var ModuleClass = this.getClass(def);\n  \n      // Get an existing module of this name if we have one\n      var module = parentModule[moduleName];\n  \n      if (!module) {\n        // Create a new module if we don't have one\n        module = new ModuleClass(moduleName, app, options);\n        parentModule[moduleName] = module;\n        // store the module on the parent\n        parentModule.submodules[moduleName] = module;\n      }\n  \n      return module;\n    },\n  \n    // ## Module Classes\n    //\n    // Module classes can be used as an alternative to the define pattern.\n    // The extend function of a Module is identical to the extend functions\n    // on other Backbone and Marionette classes.\n    // This allows module lifecyle events like `onStart` and `onStop` to be called directly.\n    getClass: function(moduleDefinition) {\n      var ModuleClass = Marionette.Module;\n  \n      if (!moduleDefinition) {\n        return ModuleClass;\n      }\n  \n      // If all of the module's functionality is defined inside its class,\n      // then the class can be passed in directly. `MyApp.module(\"Foo\", FooModule)`.\n      if (moduleDefinition.prototype instanceof ModuleClass) {\n        return moduleDefinition;\n      }\n  \n      return moduleDefinition.moduleClass || ModuleClass;\n    },\n  \n    // Add the module definition and add a startWithParent initializer function.\n    // This is complicated because module definitions are heavily overloaded\n    // and support an anonymous function, module class, or options object\n    _addModuleDefinition: function(parentModule, module, def, args) {\n      var fn = this._getDefine(def);\n      var startWithParent = this._getStartWithParent(def, module);\n  \n      if (fn) {\n        module.addDefinition(fn, args);\n      }\n  \n      this._addStartWithParent(parentModule, module, startWithParent);\n    },\n  \n    _getStartWithParent: function(def, module) {\n      var swp;\n  \n      if (_.isFunction(def) && (def.prototype instanceof Marionette.Module)) {\n        swp = module.constructor.prototype.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n  \n      if (_.isObject(def)) {\n        swp = def.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n  \n      return true;\n    },\n  \n    _getDefine: function(def) {\n      if (_.isFunction(def) && !(def.prototype instanceof Marionette.Module)) {\n        return def;\n      }\n  \n      if (_.isObject(def)) {\n        return def.define;\n      }\n  \n      return null;\n    },\n  \n    _addStartWithParent: function(parentModule, module, startWithParent) {\n      module.startWithParent = module.startWithParent && startWithParent;\n  \n      if (!module.startWithParent || !!module.startWithParentIsConfigured) {\n        return;\n      }\n  \n      module.startWithParentIsConfigured = true;\n  \n      parentModule.addInitializer(function(options) {\n        if (module.startWithParent) {\n          module.start(options);\n        }\n      });\n    }\n  });\n  \n\n  return Marionette;\n}));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"backbone.babysitter\":5,\"backbone.wreqr\":7}],7:[function(require,module,exports){\n(function (global){\n// Backbone.Wreqr (Backbone.Marionette)\n// ----------------------------------\n// v1.4.0\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://github.com/marionettejs/backbone.wreqr\n\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], function(Backbone, _) {\n      return factory(Backbone, _);\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    module.exports = factory(Backbone, _);\n  } else {\n    factory(root.Backbone, root._);\n  }\n\n}(this, function(Backbone, _) {\n  \"use strict\";\n\n  var previousWreqr = Backbone.Wreqr;\n\n  var Wreqr = Backbone.Wreqr = {};\n\n  Backbone.Wreqr.VERSION = '1.4.0';\n\n  Backbone.Wreqr.noConflict = function () {\n    Backbone.Wreqr = previousWreqr;\n    return this;\n  };\n\n  // Handlers\n  // --------\n  // A registry of functions to call, given a name\n  \n  Wreqr.Handlers = (function(Backbone, _){\n    \"use strict\";\n    \n    // Constructor\n    // -----------\n  \n    var Handlers = function(options){\n      this.options = options;\n      this._wreqrHandlers = {};\n      \n      if (_.isFunction(this.initialize)){\n        this.initialize(options);\n      }\n    };\n  \n    Handlers.extend = Backbone.Model.extend;\n  \n    // Instance Members\n    // ----------------\n  \n    _.extend(Handlers.prototype, Backbone.Events, {\n  \n      // Add multiple handlers using an object literal configuration\n      setHandlers: function(handlers){\n        _.each(handlers, _.bind(function(handler, name){\n          var context = null;\n  \n          if (_.isObject(handler) && !_.isFunction(handler)){\n            context = handler.context;\n            handler = handler.callback;\n          }\n  \n          this.setHandler(name, handler, context);\n        }, this));\n      },\n  \n      // Add a handler for the given name, with an\n      // optional context to run the handler within\n      setHandler: function(name, handler, context){\n        var config = {\n          callback: handler,\n          context: context\n        };\n  \n        this._wreqrHandlers[name] = config;\n  \n        this.trigger(\"handler:add\", name, handler, context);\n      },\n  \n      // Determine whether or not a handler is registered\n      hasHandler: function(name){\n        return !! this._wreqrHandlers[name];\n      },\n  \n      // Get the currently registered handler for\n      // the specified name. Throws an exception if\n      // no handler is found.\n      getHandler: function(name){\n        var config = this._wreqrHandlers[name];\n  \n        if (!config){\n          return;\n        }\n  \n        return function(){\n          return config.callback.apply(config.context, arguments);\n        };\n      },\n  \n      // Remove a handler for the specified name\n      removeHandler: function(name){\n        delete this._wreqrHandlers[name];\n      },\n  \n      // Remove all handlers from this registry\n      removeAllHandlers: function(){\n        this._wreqrHandlers = {};\n      }\n    });\n  \n    return Handlers;\n  })(Backbone, _);\n  \n  // Wreqr.CommandStorage\n  // --------------------\n  //\n  // Store and retrieve commands for execution.\n  Wreqr.CommandStorage = (function(){\n    \"use strict\";\n  \n    // Constructor function\n    var CommandStorage = function(options){\n      this.options = options;\n      this._commands = {};\n  \n      if (_.isFunction(this.initialize)){\n        this.initialize(options);\n      }\n    };\n  \n    // Instance methods\n    _.extend(CommandStorage.prototype, Backbone.Events, {\n  \n      // Get an object literal by command name, that contains\n      // the `commandName` and the `instances` of all commands\n      // represented as an array of arguments to process\n      getCommands: function(commandName){\n        var commands = this._commands[commandName];\n  \n        // we don't have it, so add it\n        if (!commands){\n  \n          // build the configuration\n          commands = {\n            command: commandName, \n            instances: []\n          };\n  \n          // store it\n          this._commands[commandName] = commands;\n        }\n  \n        return commands;\n      },\n  \n      // Add a command by name, to the storage and store the\n      // args for the command\n      addCommand: function(commandName, args){\n        var command = this.getCommands(commandName);\n        command.instances.push(args);\n      },\n  \n      // Clear all commands for the given `commandName`\n      clearCommands: function(commandName){\n        var command = this.getCommands(commandName);\n        command.instances = [];\n      }\n    });\n  \n    return CommandStorage;\n  })();\n  \n  // Wreqr.Commands\n  // --------------\n  //\n  // A simple command pattern implementation. Register a command\n  // handler and execute it.\n  Wreqr.Commands = (function(Wreqr, _){\n    \"use strict\";\n  \n    return Wreqr.Handlers.extend({\n      // default storage type\n      storageType: Wreqr.CommandStorage,\n  \n      constructor: function(options){\n        this.options = options || {};\n  \n        this._initializeStorage(this.options);\n        this.on(\"handler:add\", this._executeCommands, this);\n  \n        Wreqr.Handlers.prototype.constructor.apply(this, arguments);\n      },\n  \n      // Execute a named command with the supplied args\n      execute: function(name){\n        name = arguments[0];\n        var args = _.rest(arguments);\n  \n        if (this.hasHandler(name)){\n          this.getHandler(name).apply(this, args);\n        } else {\n          this.storage.addCommand(name, args);\n        }\n  \n      },\n  \n      // Internal method to handle bulk execution of stored commands\n      _executeCommands: function(name, handler, context){\n        var command = this.storage.getCommands(name);\n  \n        // loop through and execute all the stored command instances\n        _.each(command.instances, function(args){\n          handler.apply(context, args);\n        });\n  \n        this.storage.clearCommands(name);\n      },\n  \n      // Internal method to initialize storage either from the type's\n      // `storageType` or the instance `options.storageType`.\n      _initializeStorage: function(options){\n        var storage;\n  \n        var StorageType = options.storageType || this.storageType;\n        if (_.isFunction(StorageType)){\n          storage = new StorageType();\n        } else {\n          storage = StorageType;\n        }\n  \n        this.storage = storage;\n      }\n    });\n  \n  })(Wreqr, _);\n  \n  // Wreqr.RequestResponse\n  // ---------------------\n  //\n  // A simple request/response implementation. Register a\n  // request handler, and return a response from it\n  Wreqr.RequestResponse = (function(Wreqr, _){\n    \"use strict\";\n  \n    return Wreqr.Handlers.extend({\n      request: function(name){\n        if (this.hasHandler(name)) {\n          return this.getHandler(name).apply(this, _.rest(arguments));\n        }\n      }\n    });\n  \n  })(Wreqr, _);\n  \n  // Event Aggregator\n  // ----------------\n  // A pub-sub object that can be used to decouple various parts\n  // of an application through event-driven architecture.\n  \n  Wreqr.EventAggregator = (function(Backbone, _){\n    \"use strict\";\n    var EA = function(){};\n  \n    // Copy the `extend` function used by Backbone's classes\n    EA.extend = Backbone.Model.extend;\n  \n    // Copy the basic Backbone.Events on to the event aggregator\n    _.extend(EA.prototype, Backbone.Events);\n  \n    return EA;\n  })(Backbone, _);\n  \n  // Wreqr.Channel\n  // --------------\n  //\n  // An object that wraps the three messaging systems:\n  // EventAggregator, RequestResponse, Commands\n  Wreqr.Channel = (function(Wreqr){\n    \"use strict\";\n  \n    var Channel = function(channelName) {\n      this.vent        = new Backbone.Wreqr.EventAggregator();\n      this.reqres      = new Backbone.Wreqr.RequestResponse();\n      this.commands    = new Backbone.Wreqr.Commands();\n      this.channelName = channelName;\n    };\n  \n    _.extend(Channel.prototype, {\n  \n      // Remove all handlers from the messaging systems of this channel\n      reset: function() {\n        this.vent.off();\n        this.vent.stopListening();\n        this.reqres.removeAllHandlers();\n        this.commands.removeAllHandlers();\n        return this;\n      },\n  \n      // Connect a hash of events; one for each messaging system\n      connectEvents: function(hash, context) {\n        this._connect('vent', hash, context);\n        return this;\n      },\n  \n      connectCommands: function(hash, context) {\n        this._connect('commands', hash, context);\n        return this;\n      },\n  \n      connectRequests: function(hash, context) {\n        this._connect('reqres', hash, context);\n        return this;\n      },\n  \n      // Attach the handlers to a given message system `type`\n      _connect: function(type, hash, context) {\n        if (!hash) {\n          return;\n        }\n  \n        context = context || this;\n        var method = (type === 'vent') ? 'on' : 'setHandler';\n  \n        _.each(hash, _.bind(function(fn, eventName) {\n          this[type][method](eventName, _.bind(fn, context));\n        }, this));\n      }\n    });\n  \n  \n    return Channel;\n  })(Wreqr);\n  \n  // Wreqr.Radio\n  // --------------\n  //\n  // An object that lets you communicate with many channels.\n  Wreqr.radio = (function(Wreqr, _){\n    \"use strict\";\n  \n    var Radio = function() {\n      this._channels = {};\n      this.vent = {};\n      this.commands = {};\n      this.reqres = {};\n      this._proxyMethods();\n    };\n  \n    _.extend(Radio.prototype, {\n  \n      channel: function(channelName) {\n        if (!channelName) {\n          throw new Error('Channel must receive a name');\n        }\n  \n        return this._getChannel( channelName );\n      },\n  \n      _getChannel: function(channelName) {\n        var channel = this._channels[channelName];\n  \n        if(!channel) {\n          channel = new Wreqr.Channel(channelName);\n          this._channels[channelName] = channel;\n        }\n  \n        return channel;\n      },\n  \n      _proxyMethods: function() {\n        _.each(['vent', 'commands', 'reqres'], _.bind(function(system) {\n          _.each( messageSystems[system], _.bind(function(method) {\n            this[system][method] = proxyMethod(this, system, method);\n          }, this));\n        }, this));\n      }\n    });\n  \n  \n    var messageSystems = {\n      vent: [\n        'on',\n        'off',\n        'trigger',\n        'once',\n        'stopListening',\n        'listenTo',\n        'listenToOnce'\n      ],\n  \n      commands: [\n        'execute',\n        'setHandler',\n        'setHandlers',\n        'removeHandler',\n        'removeAllHandlers'\n      ],\n  \n      reqres: [\n        'request',\n        'setHandler',\n        'setHandlers',\n        'removeHandler',\n        'removeAllHandlers'\n      ]\n    };\n  \n    var proxyMethod = function(radio, system, method) {\n      return function(channelName) {\n        var messageSystem = radio._getChannel(channelName)[system];\n  \n        return messageSystem[method].apply(messageSystem, _.rest(arguments));\n      };\n    };\n  \n    return new Radio();\n  \n  })(Wreqr, _);\n  \n\n  return Backbone.Wreqr;\n\n}));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],8:[function(require,module,exports){\nmodule.exports = require('./lib/bloodhound');\n\n},{\"./lib/bloodhound\":10}],9:[function(require,module,exports){\nvar Promise = require('es6-promise').Promise;\nvar request = require('superagent');\n\nmodule.exports = function(o) {\n  return new Promise(function(resolve, reject) {\n    request.get(o.url).end(function(err, res) {\n      if(err) return reject(err);\n      resolve(res.body);\n    });\n  });\n};\n\n},{\"es6-promise\":22,\"superagent\":33}],10:[function(require,module,exports){\nvar _ = require('./utils');\nvar Promise = require('es6-promise').Promise;\nvar Remote = require('./remote');\nvar Prefetch = require('./prefetch');\nvar tokenizers = require('./tokenizers');\nvar oParser = require('./options_parser');\nvar SearchIndex = require('./search_index');\nvar Transport = require('./transport');\n\nfunction Bloodhound(o) {\n  o = oParser(o);\n\n  this.sorter = o.sorter;\n  this.identify = o.identify;\n  this.sufficient = o.sufficient;\n\n  this.local = o.local;\n  this.remote = o.remote ? new Remote(o.remote) : null;\n  this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\n\n  // the backing data structure used for fast pattern matching\n  this.index = new SearchIndex({\n    identify: this.identify,\n    datumTokenizer: o.datumTokenizer,\n    queryTokenizer: o.queryTokenizer\n  });\n\n  // hold off on intialization if the intialize option was explicitly false\n  o.initialize !== false && this.initialize();\n}\n\nBloodhound.tokenizers = tokenizers;\n\n_.mixin(Bloodhound.prototype, {\n\n  // ### super secret stuff used for integration with jquery plugin\n\n  __ttAdapter: function ttAdapter() {\n    var that = this;\n\n    return this.remote ? withAsync : withoutAsync;\n\n    function withAsync(query, sync, async) {\n      return that.search(query, sync, async);\n    }\n\n    function withoutAsync(query, sync) {\n      return that.search(query, sync);\n    }\n  },\n\n  _loadPrefetch: function loadPrefetch() {\n    var that = this, promise, serialized;\n\n    if (!this.prefetch) {\n      return new Promise(function(resolve, reject) {\n        resolve();\n      });\n    }\n\n    else if (serialized = this.prefetch.fromCache()) {\n      this.index.bootstrap(serialized);\n      return new Promise(function(resolve, reject) {\n        resolve();\n      });\n    }\n\n    else {\n      // this.prefetch.fromNetwork(done);\n      return new Promise(function(resolve, reject) {\n\n        // todo: promise\n        that.prefetch.fromNetwork(function(err, data) {\n          if (err) return reject(err);\n\n          try {\n            that.add(data);\n            that.prefetch.store(that.index.serialize());\n            resolve();\n          } catch(e) {\n            reject(e);\n          }\n        });\n      });\n    }\n  },\n\n  _initialize: function() {\n    var that = this, deferred;\n\n    // in case this is a reinitialization, clear previous data\n    this.clear();\n\n    (this.initPromise = this._loadPrefetch())\n    .then(addLocalToIndex); // local must be added to index after prefetch\n\n    return this.initPromise;\n\n    function addLocalToIndex() { that.add(that.local); }\n  },\n\n  // ### public\n\n  initialize: function(force) {\n    return !this.initPromise || force ? this._initialize() : this.initPromise;\n  },\n\n  // TODO: before initialize what happens?\n  add: function(data) {\n    this.index.add(data);\n    return this;\n  },\n\n  get: function(ids) {\n    ids = _.isArray(ids) ? ids : [].slice.call(arguments);\n    return this.index.get(ids);\n  },\n\n  search: function(query, sync, async) {\n    var that = this, local;\n\n    local = this.sorter(this.index.search(query));\n\n    // return a copy to guarantee no changes within this scope\n    // as this array will get used when processing the remote results\n    sync(this.remote ? local.slice() : local);\n\n    if (this.remote && local.length < this.sufficient) {\n      this.remote.get(query, processRemote);\n    }\n\n    else if (this.remote) {\n      // #149: prevents outdated rate-limited requests from being sent\n      this.remote.cancelLastRequest();\n    }\n\n    return this;\n\n    function processRemote(remote) {\n      var nonDuplicates = [];\n\n      // exclude duplicates\n      _.each(remote, function(r) {\n         !_.some(local, function(l) {\n          return that.identify(r) === that.identify(l);\n        }) && nonDuplicates.push(r);\n      });\n\n      async && async(nonDuplicates);\n    }\n  },\n\n  all: function() {\n    return this.index.all();\n  },\n\n  clear: function() {\n    this.index.reset();\n    return this;\n  },\n\n  clearPrefetchCache: function() {\n    this.prefetch && this.prefetch.clear();\n    return this;\n  },\n\n  clearRemoteCache: function() {\n    Transport.resetCache();\n    return this;\n  },\n\n  // DEPRECATED: will be removed in v1\n  ttAdapter: function() {\n    return this.__ttAdapter();\n  }\n});\n\nmodule.exports = Bloodhound;\n\n},{\"./options_parser\":12,\"./prefetch\":14,\"./remote\":15,\"./search_index\":16,\"./tokenizers\":17,\"./transport\":18,\"./utils\":19,\"es6-promise\":22}],11:[function(require,module,exports){\n/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n// inspired by https://github.com/jharding/lru-cache\n\nvar _ = require('./utils');\n\nfunction LruCache(maxSize) {\n  this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n  this.reset();\n\n  // if max size is less than 0, provide a noop cache\n  if (this.maxSize <= 0) {\n    this.set = this.get = _.noop;\n  }\n}\n\n_.mixin(LruCache.prototype, {\n  set: function set(key, val) {\n    var tailItem = this.list.tail, node;\n\n    // at capacity\n    if (this.size >= this.maxSize) {\n      this.list.remove(tailItem);\n      delete this.hash[tailItem.key];\n\n      this.size--;\n    }\n\n    // writing over existing key\n    if (node = this.hash[key]) {\n      node.val = val;\n      this.list.moveToFront(node);\n    }\n\n    // new key\n    else {\n      node = new Node(key, val);\n\n      this.list.add(node);\n      this.hash[key] = node;\n\n      this.size++;\n    }\n  },\n\n  get: function get(key) {\n    var node = this.hash[key];\n\n    if (node) {\n      this.list.moveToFront(node);\n      return node.val;\n    }\n  },\n\n  reset: function reset() {\n    this.size = 0;\n    this.hash = {};\n    this.list = new List();\n  }\n});\n\nfunction List() {\n  this.head = this.tail = null;\n}\n\n_.mixin(List.prototype, {\n  add: function add(node) {\n    if (this.head) {\n      node.next = this.head;\n      this.head.prev = node;\n    }\n\n    this.head = node;\n    this.tail = this.tail || node;\n  },\n\n  remove: function remove(node) {\n    node.prev ? node.prev.next = node.next : this.head = node.next;\n    node.next ? node.next.prev = node.prev : this.tail = node.prev;\n  },\n\n  moveToFront: function(node) {\n    this.remove(node);\n    this.add(node);\n  }\n});\n\nfunction Node(key, val) {\n  this.key = key;\n  this.val = val;\n  this.prev = this.next = null;\n}\n\nmodule.exports = LruCache;\n\n},{\"./utils\":19}],12:[function(require,module,exports){\nvar _ = require('./utils');\nvar ajax = require('./ajax');\nvar VERSION = require('./version');\n\nmodule.exports = function(o) {\n  var defaults, sorter;\n\n  defaults = {\n    initialize: true,\n    identify: _.stringify,\n    datumTokenizer: null,\n    queryTokenizer: null,\n    sufficient: 5,\n    sorter: null,\n    local: [],\n    prefetch: null,\n    remote: null\n  };\n\n  o = _.mixin(defaults, o || {});\n\n  // throw error if required options are not set\n  !o.datumTokenizer && _.error('datumTokenizer is required');\n  !o.queryTokenizer && _.error('queryTokenizer is required');\n\n  sorter = o.sorter;\n  o.sorter = sorter ? function(x) { return x.sort(sorter); } : _.identity;\n\n  o.local = _.isFunction(o.local) ? o.local() : o.local;\n  o.prefetch = parsePrefetch(o.prefetch);\n  o.remote = parseRemote(o.remote);\n\n  return o;\n};\n\nfunction parsePrefetch(o) {\n  var defaults;\n\n  if (!o) { return null; }\n\n  defaults = {\n    url: null,\n    ttl: 24 * 60 * 60 * 1000, // 1 day\n    cache: true,\n    cacheKey: null,\n    thumbprint: '',\n    prepare: _.identity,\n    transform: _.identity,\n    transport: null\n  };\n\n  // support basic (url) and advanced configuration\n  o = _.isString(o) ? { url: o } : o;\n  o = _.mixin(defaults, o);\n\n  // throw error if required options are not set\n  !o.url && _.error('prefetch requires url to be set');\n\n  // DEPRECATED: filter will be dropped in v1\n  o.transform = o.filter || o.transform;\n\n  o.cacheKey = o.cacheKey || o.url;\n  o.thumbprint = VERSION + o.thumbprint;\n  o.transport = o.transport ? callbackToDeferred(o.transport) : ajax;\n\n  return o;\n}\n\nfunction parseRemote(o) {\n  var defaults;\n\n  if (!o) { return; }\n\n  defaults = {\n    url: null,\n    cache: true, // leave undocumented\n    prepare: null,\n    replace: null,\n    wildcard: null,\n    limiter: null,\n    rateLimitBy: 'debounce',\n    rateLimitWait: 300,\n    transform: _.identity,\n    transport: null\n  };\n\n  // support basic (url) and advanced configuration\n  o = _.isString(o) ? { url: o } : o;\n  o = _.mixin(defaults, o);\n\n  // throw error if required options are not set\n  !o.url && _.error('remote requires url to be set');\n\n  // DEPRECATED: filter will be dropped in v1\n  o.transform = o.filter || o.transform;\n\n  o.prepare = toRemotePrepare(o);\n  o.limiter = toLimiter(o);\n  o.transport = o.transport ? callbackToDeferred(o.transport) : ajax;\n\n  delete o.replace;\n  delete o.wildcard;\n  delete o.rateLimitBy;\n  delete o.rateLimitWait;\n\n  return o;\n}\n\nfunction toRemotePrepare(o) {\n  var prepare, replace, wildcard;\n\n  prepare = o.prepare;\n  replace = o.replace;\n  wildcard = o.wildcard;\n\n  if (prepare) { return prepare; }\n\n  if (replace) {\n    prepare = prepareByReplace;\n  }\n\n  else if (o.wildcard) {\n    prepare = prepareByWildcard;\n  }\n\n  else {\n    prepare = idenityPrepare;\n  }\n\n  return prepare;\n\n  function prepareByReplace(query, settings) {\n    settings.url = replace(settings.url, query);\n    return settings;\n  }\n\n  function prepareByWildcard(query, settings) {\n    settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\n    return settings;\n  }\n\n  function idenityPrepare(query, settings) {\n    return settings;\n  }\n}\n\nfunction toLimiter(o) {\n  var limiter, method, wait;\n\n  limiter = o.limiter;\n  method = o.rateLimitBy;\n  wait = o.rateLimitWait;\n\n  if (!limiter) {\n    limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\n  }\n\n  return limiter;\n\n  function debounce(wait) {\n    return function(fn) {\n      return _.debounce(fn, wait);\n    };\n  }\n\n  function throttle(wait) {\n    return function (fn) {\n      return _.throttle(fn, wait);\n    };\n  }\n}\n\nfunction callbackToDeferred(fn) {\n  return function(o) {\n    // var deferred = $.Deferred();\n\n    // fn(o, onSuccess, onError);\n\n    // return deferred;\n\n    // function onSuccess(resp) {\n    //   // defer in case fn is synchronous, otherwise done\n    //   // and always handlers will be attached after the resolution\n    //   _.defer(function() { deferred.resolve(resp); });\n    // }\n\n    // function onError(err) {\n    //   // defer in case fn is synchronous, otherwise done\n    //   // and always handlers will be attached after the resolution\n    //   _.defer(function() { deferred.reject(err); });\n    // }\n  };\n}\n\n},{\"./ajax\":9,\"./utils\":19,\"./version\":20}],13:[function(require,module,exports){\nvar storage2 = require('storage2');\nvar _ = require('./utils');\n\nvar LOCAL_STORAGE;\n\ntry {\n  LOCAL_STORAGE = storage2.localStorage;\n\n  // while in private browsing mode, some browsers make\n  // localStorage available, but throw an error when used\n  LOCAL_STORAGE.setItem('~~~', '!');\n  LOCAL_STORAGE.removeItem('~~~');\n} catch (err) {\n  LOCAL_STORAGE = null;\n}\n\n// constructor\n// -----------\n\nfunction PersistentStorage(namespace, override) {\n  this.prefix = ['__', namespace, '__'].join('');\n  this.ttlKey = '__ttl__';\n  this.keyMatcher = new RegExp('^' + _.escapeRegExChars(this.prefix));\n\n  // for testing purpose\n  this.ls = override || LOCAL_STORAGE;\n\n  // if local storage isn't available, everything becomes a noop\n  !this.ls && this._noop();\n}\n\n// instance methods\n// ----------------\n\n_.mixin(PersistentStorage.prototype, {\n  // ### private\n\n  _prefix: function(key) {\n    return this.prefix + key;\n  },\n\n  _ttlKey: function(key) {\n    return this._prefix(key) + this.ttlKey;\n  },\n\n  _noop: function() {\n    this.get =\n    this.set =\n    this.remove =\n    this.clear =\n    this.isExpired = _.noop;\n  },\n\n  _safeSet: function(key, val) {\n    try {\n      this.ls.setItem(key, val);\n    } catch (err) {\n      // hit the localstorage limit so clean up and better luck next time\n      if (err.name === 'QuotaExceededError') {\n        this.clear();\n        this._noop();\n      }\n    }\n  },\n\n  // ### public\n\n  get: function(key) {\n    if (this.isExpired(key)) {\n      this.remove(key);\n    }\n\n    return decode(this.ls.getItem(this._prefix(key)));\n  },\n\n  set: function(key, val, ttl) {\n    if (_.isNumber(ttl)) {\n      this._safeSet(this._ttlKey(key), encode(now() + ttl));\n    }\n\n    else {\n      this.ls.removeItem(this._ttlKey(key));\n    }\n\n    return this._safeSet(this._prefix(key), encode(val));\n  },\n\n  remove: function(key) {\n    this.ls.removeItem(this._ttlKey(key));\n    this.ls.removeItem(this._prefix(key));\n\n    return this;\n  },\n\n  clear: function() {\n    var i, keys = gatherMatchingKeys(this.keyMatcher);\n\n    for (i = keys.length; i--;) {\n      this.remove(keys[i]);\n    }\n\n    return this;\n  },\n\n  isExpired: function(key) {\n    var ttl = decode(this.ls.getItem(this._ttlKey(key)));\n\n    return _.isNumber(ttl) && now() > ttl ? true : false;\n  }\n});\n\n\n// helper functions\n// ----------------\n\nfunction now() {\n  return new Date().getTime();\n}\n\nfunction encode(val) {\n  // convert undefined to null to avoid issues with JSON.parse\n  return JSON.stringify(_.isUndefined(val) ? null : val);\n}\n\nfunction decode(val) {\n  return JSON.parse(val);\n  // return $.parseJSON(val);\n}\n\nfunction gatherMatchingKeys(keyMatcher) {\n  var i, key, keys = [], len = LOCAL_STORAGE.length;\n\n  for (i = 0; i < len; i++) {\n    if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\n      keys.push(key.replace(keyMatcher, ''));\n    }\n  }\n\n  return keys;\n}\n\nmodule.exports = PersistentStorage;\n\n},{\"./utils\":19,\"storage2\":28}],14:[function(require,module,exports){\nvar PersistentStorage = require('./persistent_storage');\nvar _ = require('./utils');\n\nvar keys = { data: 'data', protocol: 'protocol', thumbprint: 'thumbprint' };\nvar location = null;\n\n\nif(typeof window !== 'undefined') {\n  location = window.location;\n} else {\n  location = {\n    protocol: 'https:'\n  };\n}\n\n\n// constructor\n// -----------\n\n// defaults for options are handled in options_parser\nfunction Prefetch(o) {\n  this.url = o.url;\n  this.ttl = o.ttl;\n  this.cache = o.cache;\n  this.prepare = o.prepare;\n  this.transform = o.transform;\n  this.transport = o.transport;\n  this.thumbprint = o.thumbprint;\n\n  this.storage = new PersistentStorage(o.cacheKey);\n}\n\n_.mixin(Prefetch.prototype, {\n\n  _settings: function() {\n    return { url: this.url, type: 'GET', dataType: 'json' };\n  },\n\n  store: function(data) {\n    if (!this.cache) { return; }\n\n    this.storage.set(keys.data, data, this.ttl);\n    this.storage.set(keys.protocol, location.protocol, this.ttl);\n    this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\n  },\n\n  fromCache: function() {\n    var stored = {}, isExpired;\n\n    if (!this.cache) { return null; }\n\n    stored.data = this.storage.get(keys.data);\n    stored.protocol = this.storage.get(keys.protocol);\n    stored.thumbprint = this.storage.get(keys.thumbprint);\n\n    // the stored data is considered expired if the thumbprints\n    // don't match or if the protocol it was originally stored under\n    // has changed\n    isExpired =\n      stored.thumbprint !== this.thumbprint ||\n      stored.protocol !== location.protocol;\n\n    // TODO: if expired, remove from local storage\n\n    return stored.data && !isExpired ? stored.data : null;\n  },\n\n  fromNetwork: function(cb) {\n    var that = this, settings;\n\n    if (!cb) { return; }\n\n    settings = this.prepare(this._settings());\n\n    // this.transport(settings).fail(onError).done(onResponse);\n    this.transport(settings).then(onResponse, onError);\n\n    function onError() { cb(true); }\n    function onResponse(resp) { cb(null, that.transform(resp)); }\n  },\n\n  clear: function() {\n    this.storage.clear();\n    return this;\n  }\n});\n\nmodule.exports = Prefetch;\n\n},{\"./persistent_storage\":13,\"./utils\":19}],15:[function(require,module,exports){\n/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar _ = require('./utils');\nvar Transport = require('./transport');\n\nfunction Remote(o) {\n  this.url = o.url;\n  this.prepare = o.prepare;\n  this.transform = o.transform;\n\n  this.transport = new Transport({\n    cache: o.cache,\n    limiter: o.limiter,\n    transport: o.transport\n  });\n}\n\n_.mixin(Remote.prototype, {\n  // ### private\n\n  _settings: function settings() {\n    return {\n      url: this.url,\n      type: 'GET',\n      dataType: 'json'\n    };\n  },\n\n  get: function get(query, cb) {\n    var that = this, settings;\n\n    if (!cb) { return; }\n\n    query = query || '';\n    settings = this.prepare(query, this._settings());\n\n    return this.transport.get(settings, onResponse);\n\n    function onResponse(err, resp) {\n      err ? cb([]) : cb(that.transform(resp));\n    }\n  },\n\n  cancelLastRequest: function cancelLastRequest() {\n    this.transport.cancel();\n  }\n});\n\nmodule.exports = Remote;\n},{\"./transport\":18,\"./utils\":19}],16:[function(require,module,exports){\nvar _ = require('./utils');\n\nvar CHILDREN = 'c';\nvar IDS = 'i';\n\nfunction SearchIndex(o) {\n  o = o || {};\n\n  if (!o.datumTokenizer || !o.queryTokenizer) {\n    throw new Error('datumTokenizer and queryTokenizer are both required');\n  }\n\n  this.identify = o.identify || _.stringify;\n  this.datumTokenizer = o.datumTokenizer;\n  this.queryTokenizer = o.queryTokenizer;\n\n  this.reset();\n}\n\n_.mixin(SearchIndex.prototype, {\n\n  bootstrap: function(o) {\n    this.datums = o.datums;\n    this.trie = o.trie;\n  },\n\n  add: function(data) {\n    var that = this;\n\n    data = _.isArray(data) ? data : [data];\n\n    _.each(data, function(datum) {\n      var id, tokens;\n\n      that.datums[id = that.identify(datum)] = datum;\n      tokens = normalizeTokens(that.datumTokenizer(datum));\n\n      _.each(tokens, function(token) {\n        var node, chars, ch;\n\n        node = that.trie;\n        chars = token.split('');\n\n        while (ch = chars.shift()) {\n          node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\n          node[IDS].push(id);\n        }\n      });\n    });\n  },\n\n  get: function(ids) {\n    var that = this;\n\n    return _.map(ids, function(id) { return that.datums[id]; });\n  },\n\n  search: function(query) {\n    var that = this, tokens, matches;\n\n    tokens = normalizeTokens(this.queryTokenizer(query));\n\n    _.each(tokens, function(token) {\n      var node, chars, ch, ids;\n\n      // previous tokens didn't share any matches\n      if (matches && matches.length === 0) {\n        return false;\n      }\n\n      node = that.trie;\n      chars = token.split('');\n\n      while (node && (ch = chars.shift())) {\n        node = node[CHILDREN][ch];\n      }\n\n      if (node && chars.length === 0) {\n        ids = node[IDS].slice(0);\n        matches = matches ? getIntersection(matches, ids) : ids;\n      }\n\n      // break early if we find out there are no possible matches\n      else {\n        matches = [];\n        return false;\n      }\n    });\n\n    return matches ?\n      _.map(unique(matches), function(id) { return that.datums[id]; }) : [];\n  },\n\n  all: function() {\n    var values = [];\n\n    for (var key in this.datums) {\n      values.push(this.datums[key]);\n    }\n\n    return values;\n  },\n\n  reset: function() {\n    this.datums = {};\n    this.trie = newNode();\n  },\n\n  serialize: function serialize() {\n    return { datums: this.datums, trie: this.trie };\n  }\n});\n\n\nfunction normalizeTokens(tokens) {\n // filter out falsy tokens\n  tokens = _.filter(tokens, function(token) { return !!token; });\n\n  // normalize tokens\n  tokens = _.map(tokens, function(token) { return token.toLowerCase(); });\n\n  return tokens;\n}\n\nfunction newNode() {\n  var node = {};\n\n  node[IDS] = [];\n  node[CHILDREN] = {};\n\n  return node;\n}\n\nfunction unique(array) {\n  var seen = {}, uniques = [];\n\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (!seen[array[i]]) {\n      seen[array[i]] = true;\n      uniques.push(array[i]);\n    }\n  }\n\n  return uniques;\n}\n\nfunction getIntersection(arrayA, arrayB) {\n  var ai = 0, bi = 0, intersection = [];\n\n  arrayA = arrayA.sort();\n  arrayB = arrayB.sort();\n\n  var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n\n  while (ai < lenArrayA && bi < lenArrayB) {\n    if (arrayA[ai] < arrayB[bi]) {\n      ai++;\n    }\n\n    else if (arrayA[ai] > arrayB[bi]) {\n      bi++;\n    }\n\n    else {\n      intersection.push(arrayA[ai]);\n      ai++;\n      bi++;\n    }\n  }\n\n  return intersection;\n}\n\nmodule.exports = SearchIndex;\n\n},{\"./utils\":19}],17:[function(require,module,exports){\n/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar _ = require('./utils');\n\nfunction whitespace(str) {\n  str = _.toStr(str);\n  return str ? str.split(/\\s+/) : [];\n}\n\nfunction nonword(str) {\n  str = _.toStr(str);\n  return str ? str.split(/\\W+/) : [];\n}\n\nfunction getObjTokenizer(tokenizer) {\n  return function setKey(keys) {\n    keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\n\n    return function tokenize(o) {\n      var tokens = [];\n\n      _.each(keys, function(k) {\n        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n      });\n\n      return tokens;\n    };\n  };\n}\n\nmodule.exports = {\n  nonword: nonword,\n  whitespace: whitespace,\n  obj: {\n    nonword: getObjTokenizer(nonword),\n    whitespace: getObjTokenizer(whitespace)\n  }\n};\n\n},{\"./utils\":19}],18:[function(require,module,exports){\nvar LruCache = require('./lru_cache');\nvar _ = require('./utils');\n\nvar pendingRequestsCount = 0;\nvar pendingRequests = {};\nvar maxPendingRequests = 6;\nvar sharedCache = new LruCache(10);\n\nfunction Transport(o) {\n  o = o || {};\n\n  this.cancelled = false;\n  this.lastReq = null;\n\n  this._send = o.transport;\n  this._get = o.limiter ? o.limiter(this._get) : this._get;\n\n  this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n}\n\nTransport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n  maxPendingRequests = num;\n};\n\nTransport.resetCache = function resetCache() {\n  sharedCache.reset();\n};\n\n_.mixin(Transport.prototype, {\n\n  _fingerprint: function(o) {\n    o = o || {};\n    return o.url + o.type + JSON.stringify(o.data || {}); \n  },\n\n  _get: function(o, cb) {\n    var that = this, fingerprint, jqXhr;\n\n    fingerprint = this._fingerprint(o);\n\n    // #149: don't make a network request if there has been a cancellation\n    // or if the url doesn't match the last url Transport#get was invoked with\n    if (this.cancelled || fingerprint !== this.lastReq) { return; }\n\n    // a request is already in progress, piggyback off of it\n    if (jqXhr = pendingRequests[fingerprint]) {\n      // jqXhr.done(done).fail(fail);\n      jqXhr.then(done, fail);\n    }\n\n    // under the pending request threshold, so fire off a request\n    else if (pendingRequestsCount < maxPendingRequests) {\n      pendingRequestsCount++;\n      pendingRequests[fingerprint] =\n        // this._send(o).done(done).fail(fail).always(always);\n        this._send(o).then(function(resp) {\n          done(resp);\n          always();\n        }, function() {\n          fail();\n          always();\n        });\n    }\n\n    // at the pending request threshold, so hang out in the on deck circle\n    else {\n      this.onDeckRequestArgs = [].slice.call(arguments, 0);\n    }\n\n    function done(resp) {\n      cb(null, resp);\n      that._cache.set(fingerprint, resp);\n    }\n\n    function fail() {\n      cb(true);\n    }\n\n    function always() {\n      pendingRequestsCount--;\n      delete pendingRequests[fingerprint];\n\n      // ensures request is always made for the last query\n      if (that.onDeckRequestArgs) {\n        that._get.apply(that, that.onDeckRequestArgs);\n        that.onDeckRequestArgs = null;\n      }\n    }\n  },\n\n  get: function(o, cb) {\n    var resp, fingerprint;\n\n    cb = cb || _.noop;\n    o = _.isString(o) ? { url: o } : (o || {});\n\n    fingerprint = this._fingerprint(o);\n\n    this.cancelled = false;\n    this.lastReq = fingerprint;\n\n    // in-memory cache hit\n    if (resp = this._cache.get(fingerprint)) {\n      cb(null, resp);\n    }\n\n    // go to network\n    else {\n      this._get(o, cb);\n    }\n  },\n\n  cancel: function() {\n    this.cancelled = true;\n  }\n});\n\nmodule.exports = Transport;\n\n},{\"./lru_cache\":11,\"./utils\":19}],19:[function(require,module,exports){\n/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar assign = require('object-assign');\n\nvar _ = {\n  isMsie: function() {\n    // from https://github.com/ded/bowser/blob/master/bowser.js\n    return (/(msie|trident)/i).test(navigator.userAgent) ?\n      navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n  },\n\n  isBlankString: function(str) { return !str || /^\\s*$/.test(str); },\n\n  // http://stackoverflow.com/a/6969486\n  escapeRegExChars: function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  },\n\n  isString: function(obj) { return typeof obj === 'string'; },\n\n  isNumber: function(obj) { return typeof obj === 'number'; },\n\n  isArray: Array.isArray,\n\n  isFunction: function(obj) {\n\t\treturn typeof obj === 'function';\n\t},\n\n  isObject: function(obj) {\n    return typeof obj === 'object';\n  },\n\n  isUndefined: function(obj) { return typeof obj === 'undefined'; },\n\n  isElement: function(obj) { return !!(obj && obj.nodeType === 1); },\n\n  isJQuery: function(obj) { return obj instanceof $; },\n\n  toStr: function toStr(s) {\n    return (_.isUndefined(s) || s === null) ? '' : s + '';\n  },\n\n  bind: function(fn, context) {\n    return fn.bind(context);\n  },\n\n  each: function(collection, cb) {\n    collection.forEach(cb);\n  },\n\n  map: function(array, fn) {\n    return array.map(fn);\n  },\n\n  filter: function(array, fn) {\n    return array.filter(fn);\n  },\n\n  every: function(obj, test) {\n    var result = true;\n\n    if (!obj) { return result; }\n\n    // $.each(obj, function(key, val) {\n    //   if (!(result = test.call(null, val, key, obj))) {\n    //     return false;\n    //   }\n    // });\n\n    for(var key in obj) {\n      if(obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (!(result = test.call(null, val, key, obj))) {\n          return false;\n        }\n      }\n    }\n\n    return !!result;\n  },\n\n  some: function(obj, test) {\n    var result = false;\n\n    if (!obj) { return result; }\n\n    // $.each(obj, function(key, val) {\n    //   if (result = test.call(null, val, key, obj)) {\n    //     return false;\n    //   }\n    // });\n\n    for(var key in obj) {\n      if(obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (result = test.call(null, val, key, obj)) {\n          return false;\n        }\n      }\n    }\n\n    return !!result;\n  },\n\n  mixin: require('object-assign'),\n\n  identity: function(x) { return x; },\n\n  clone: function(obj) { return assign({}, obj); },\n\n  getIdGenerator: function() {\n    var counter = 0;\n    return function() { return counter++; };\n  },\n\n  templatify: function templatify(obj) {\n    return _.isFunction(obj) ? obj : template;\n\n    function template() { return String(obj); }\n  },\n\n  defer: function(fn) { setTimeout(fn, 0); },\n\n  debounce: function(func, wait, immediate) {\n    var timeout, result;\n\n    return function() {\n      var context = this, args = arguments, later, callNow;\n\n      later = function() {\n        timeout = null;\n        if (!immediate) { result = func.apply(context, args); }\n      };\n\n      callNow = immediate && !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n\n      if (callNow) { result = func.apply(context, args); }\n\n      return result;\n    };\n  },\n\n  throttle: function(func, wait) {\n    var context, args, timeout, result, previous, later;\n\n    previous = 0;\n    later = function() {\n      previous = new Date();\n      timeout = null;\n      result = func.apply(context, args);\n    };\n\n    return function() {\n      var now = new Date(),\n          remaining = wait - (now - previous);\n\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      }\n\n      else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  },\n\n  stringify: function(val) {\n    return _.isString(val) ? val : JSON.stringify(val);\n  },\n\n  noop: function() {},\n\n  error: function(msg) {\n    throw new Error(msg);\n  }\n};\n\nmodule.exports = _;\n\n},{\"object-assign\":26}],20:[function(require,module,exports){\n/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nmodule.exports = '1.0.0';\n\n},{}],21:[function(require,module,exports){\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n},{}],22:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   3.3.1\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  return function () {\n    vertxNext(flush);\n  };\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        _resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      _reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      _reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    _reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return _resolve(promise, value);\n    }, function (reason) {\n      return _reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      _reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction _resolve(promise, value) {\n  if (promise === value) {\n    _reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction _reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      _reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      _resolve(promise, value);\n    }, function rejectPromise(reason) {\n      _reject(promise, reason);\n    });\n  } catch (e) {\n    _reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    _reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var _input = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$ = c.resolve;\n\n  if (resolve$$ === resolve) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$) {\n        return resolve$$(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      _reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve;\nPromise.reject = reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nfunction polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}\n\npolyfill();\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\n\nreturn Promise;\n\n})));\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":27}],23:[function(require,module,exports){\n(function (global){\n/*! Lity - v1.6.6 - 2016-04-22\n* http://sorgalla.com/lity/\n* Copyright (c) 2016 Jan Sorgalla; Licensed MIT */\n(function(window, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], function($) {\n            return factory(window, $);\n        });\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = factory(window, (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null));\n    } else {\n        window.lity = factory(window, window.jQuery || window.Zepto);\n    }\n}(typeof window !== \"undefined\" ? window : this, function(window, $) {\n    'use strict';\n\n    var document = window.document;\n\n    var _win = $(window);\n    var _html = $('html');\n    var _instanceCount = 0;\n\n    var _imageRegexp = /(^data:image\\/)|(\\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\\?\\S*)?$)/i;\n    var _youtubeRegex = /(youtube(-nocookie)?\\.com|youtu\\.be)\\/(watch\\?v=|v\\/|u\\/|embed\\/?)?([\\w-]{11})(.*)?/i;\n    var _vimeoRegex =  /(vimeo(pro)?.com)\\/(?:[^\\d]+)?(\\d+)\\??(.*)?$/;\n    var _googlemapsRegex = /((maps|www)\\.)?google\\.([^\\/\\?]+)\\/?((maps\\/?)?\\?)(.*)/i;\n\n    var _defaultHandlers = {\n        image: imageHandler,\n        inline: inlineHandler,\n        iframe: iframeHandler\n    };\n\n    var _defaultOptions = {\n        esc: true,\n        handler: null,\n        template: '<div class=\"lity\" tabindex=\"-1\"><div class=\"lity-wrap\" data-lity-close><div class=\"lity-loader\">Loading...</div><div class=\"lity-container\"><div class=\"lity-content\"></div><button class=\"lity-close\" type=\"button\" title=\"Close (Esc)\" data-lity-close></button></div></div></div>'\n    };\n\n    function globalToggle() {\n        _html[_instanceCount > 0 ? 'addClass' : 'removeClass']('lity-active');\n    }\n\n    var transitionEndEvent = (function() {\n        var el = document.createElement('div');\n\n        var transEndEventNames = {\n            WebkitTransition: 'webkitTransitionEnd',\n            MozTransition: 'transitionend',\n            OTransition: 'oTransitionEnd otransitionend',\n            transition: 'transitionend'\n        };\n\n        for (var name in transEndEventNames) {\n            if (el.style[name] !== undefined) {\n                return transEndEventNames[name];\n            }\n        }\n\n        return false;\n    })();\n\n    function transitionEnd(element) {\n        var deferred = $.Deferred();\n\n        if (!transitionEndEvent) {\n            deferred.resolve();\n        } else {\n            element.one(transitionEndEvent, deferred.resolve);\n            setTimeout(deferred.resolve, 500);\n        }\n\n        return deferred.promise();\n    }\n\n    function settings(currSettings, key, value) {\n        if (arguments.length === 1) {\n            return $.extend({}, currSettings);\n        }\n\n        if (typeof key === 'string') {\n            if (typeof value === 'undefined') {\n                return typeof currSettings[key] === 'undefined' ?\n                    null :\n                    currSettings[key];\n            }\n            currSettings[key] = value;\n        } else {\n            $.extend(currSettings, key);\n        }\n\n        return this;\n    }\n\n    function parseQueryParams(params){\n        var pairs = decodeURI(params).split('&');\n        var obj = {}, p;\n\n        for (var i = 0, n = pairs.length; i < n; i++) {\n            if (!pairs[i]) {\n                continue;\n            }\n\n            p = pairs[i].split('=');\n            obj[p[0]] = p[1];\n        }\n\n        return obj;\n    }\n\n    function appendQueryParams(url, params) {\n        return url + (url.indexOf('?') > -1 ? '&' : '?') + $.param(params);\n    }\n\n    function error(msg) {\n        return $('<span class=\"lity-error\"/>').append(msg);\n    }\n\n    function imageHandler(target) {\n        if (!_imageRegexp.test(target)) {\n            return false;\n        }\n\n        var img = $('<img src=\"' + target + '\">');\n        var deferred = $.Deferred();\n        var failed = function() {\n            deferred.reject(error('Failed loading image'));\n        };\n\n        img\n            .on('load', function() {\n                if (this.naturalWidth === 0) {\n                    return failed();\n                }\n\n                deferred.resolve(img);\n            })\n            .on('error', failed)\n        ;\n\n        return deferred.promise();\n    }\n\n    function inlineHandler(target) {\n        var el;\n\n        try {\n            el = $(target);\n        } catch (e) {\n            return false;\n        }\n\n        if (!el.length) {\n            return false;\n        }\n\n        var placeholder = $('<span style=\"display:none !important\" class=\"lity-inline-placeholder\"/>');\n\n        return el\n            .after(placeholder)\n            .on('lity:ready', function(e, instance) {\n                instance.one('lity:remove', function() {\n                    placeholder\n                        .before(el.addClass('lity-hide'))\n                        .remove()\n                    ;\n                });\n            })\n        ;\n    }\n\n    function iframeHandler(target) {\n        var matches, url = target;\n\n        matches = _youtubeRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://www.youtube' + (matches[2] || '') + '.com/embed/' + matches[4],\n                $.extend(\n                    {\n                        autoplay: 1\n                    },\n                    parseQueryParams(matches[5] || '')\n                )\n            );\n        }\n\n        matches = _vimeoRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://player.vimeo.com/video/' + matches[3],\n                $.extend(\n                    {\n                        autoplay: 1\n                    },\n                    parseQueryParams(matches[4] || '')\n                )\n            );\n        }\n\n        matches = _googlemapsRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://www.google.' + matches[3] + '/maps?' + matches[6],\n                {\n                    output: matches[6].indexOf('layer=c') > 0 ? 'svembed' : 'embed'\n                }\n            );\n        }\n\n        return '<div class=\"lity-iframe-container\"><iframe frameborder=\"0\" allowfullscreen src=\"' + url + '\"></iframe></div>';\n    }\n\n    function lity(options) {\n        var _options = {},\n            _handlers = {},\n            _instance,\n            _content,\n            _ready = $.Deferred().resolve();\n\n        function keyup(e) {\n            if (e.keyCode === 27) {\n                close();\n            }\n        }\n\n        function resize() {\n            var height = document.documentElement.clientHeight ? document.documentElement.clientHeight : Math.round(_win.height());\n\n            _content\n                .css('max-height', Math.floor(height) + 'px')\n                .trigger('lity:resize', [_instance])\n            ;\n        }\n\n        function ready(el, content) {\n            if (!_instance) {\n                return;\n            }\n\n            _content = $(content);\n\n            _win.on('resize', resize);\n            resize();\n\n            _instance\n                .find('.lity-loader')\n                .each(function() {\n                    var el = $(this);\n                    transitionEnd(el).always(function() {\n                        el.remove();\n                    });\n                })\n            ;\n\n            _instance\n                .removeClass('lity-loading')\n                .find('.lity-content')\n                .empty()\n                .append(_content)\n            ;\n\n            _content\n                .removeClass('lity-hide')\n                .trigger('lity:ready', [_instance, el])\n            ;\n\n            _ready.resolve();\n        }\n\n        function init(handler, content, options, el) {\n            _ready = $.Deferred();\n\n            _instanceCount++;\n            globalToggle();\n\n            _instance = $(options.template)\n                .addClass('lity-loading')\n                .appendTo('body');\n\n            if (!!options.esc) {\n                _win.on('keyup', keyup);\n            }\n\n            setTimeout(function() {\n                _instance\n                    .addClass('lity-opened lity-' + handler)\n                    .on('click', '[data-lity-close]', function(e) {\n                        if ($(e.target).is('[data-lity-close]')) {\n                            close();\n                        }\n                    })\n                    .trigger('lity:open', [_instance, el])\n                ;\n\n                $.when(content).always($.proxy(ready, null, el));\n            }, 0);\n        }\n\n        function open(target, options, el) {\n            var handler, content, handlers = $.extend({}, _defaultHandlers, _handlers);\n\n            options = $.extend(\n                {},\n                _defaultOptions,\n                _options,\n                options\n            );\n\n            if (options.handler && handlers[options.handler]) {\n                content = handlers[options.handler](target, popup);\n                handler = options.handler;\n            } else {\n                var lateHandlers = {};\n\n                // Run inline and iframe handlers after all other handlers\n                $.each(['inline', 'iframe'], function(i, name) {\n                    if (handlers[name]) {\n                        lateHandlers[name] = handlers[name];\n                    }\n\n                    delete handlers[name];\n                });\n\n                var call = function(name, callback) {\n                    // Handler might be \"removed\" by setting callback to null\n                    if (!callback) {\n                        return true;\n                    }\n\n                    content = callback(target, popup);\n\n                    if (!!content) {\n                        handler = name;\n                        return false;\n                    }\n                };\n\n                $.each(handlers, call);\n\n                if (!handler) {\n                    $.each(lateHandlers, call);\n                }\n            }\n\n            if (content) {\n                $.when(close()).done($.proxy(init, null, handler, content, options, el));\n            }\n\n            return !!content;\n        }\n\n        function close() {\n            if (!_instance) {\n                return;\n            }\n\n            var deferred = $.Deferred();\n\n            _ready.done(function() {\n                _instanceCount--;\n                globalToggle();\n\n                _win\n                    .off('resize', resize)\n                    .off('keyup', keyup)\n                ;\n\n                _content.trigger('lity:close', [_instance]);\n\n                _instance\n                    .removeClass('lity-opened')\n                    .addClass('lity-closed')\n                ;\n\n                var instance = _instance, content = _content;\n                _instance = null;\n                _content = null;\n\n                transitionEnd(content.add(instance)).always(function() {\n                    content.trigger('lity:remove', [instance]);\n                    instance.remove();\n                    deferred.resolve();\n                });\n            });\n\n            return deferred.promise();\n        }\n\n        function popup(event) {\n            // If not an event, act as alias of popup.open\n            if (!event.preventDefault) {\n                return popup.open(event);\n            }\n\n            var el = $(this);\n            var target = el.data('lity-target') || el.attr('href') || el.attr('src');\n\n            if (!target) {\n                return;\n            }\n\n            var options = el.data('lity-options') || el.data('lity');\n\n            if (open(target, options, el)) {\n                el.blur();\n                event.preventDefault();\n            }\n        }\n\n        popup.handlers = $.proxy(settings, popup, _handlers);\n        popup.options = $.proxy(settings, popup, _options);\n\n        popup.open = function(target, options, el) {\n            open(target, options, el);\n            return popup;\n        };\n\n        popup.close = function() {\n            close();\n            return popup;\n        };\n\n        return popup.options(options);\n    }\n\n    lity.version = '1.6.6';\n    lity.handlers = $.proxy(settings, lity, _defaultHandlers);\n    lity.options = $.proxy(settings, lity, _defaultOptions);\n\n    $(document).on('click', '[data-lity]', lity());\n\n    return lity;\n}));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],24:[function(require,module,exports){\n(function (global){\n( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'backbone.View', 'backbone-view-options', 'backbone-courier', 'backbone-handle', 'backbone-subviews' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).View, require( 'backbone-view-options' ), require( 'backbone-courier' ), require( 'backbone-handle' ), require( 'backbone-subviews' ) );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, root.Backbone.View, root.Backbone.ViewOptions, root.Backbone.Courier, root.Backbone.Handle, root.Backbone.Subviews );\n\t}\n}( this, function( _, Backbone, Super, viewOptions, courier, handle, subviews ) {\n\nBackbone.ModuiBase = Super.extend( {\n\tclassName : 'view',\n\t\n\toptions : [],\n\n\tconstructor : function( options ) {\n\t\t//handle.add( Super.prototype ); // needs to be added to view prototype, so that logic executes before render() in derived classes\n\t\thandle.add( this ); // needs to be added to view prototype, so that logic executes before render() in derived classes\n\n\t\tviewOptions.add( this );\n\t\tthis.setOptions( options );\n\t\t\n\t\t// needs to be done before super is called, since super calls view#initialize,\n\t\t// and view#initialize might spawn events\n\t\tcourier.add( this );\n\n\t\t// must be done before super is called, since if this.render is referenced\n\t\t// in view#initialize (for example, if we bind an event to this.render),\n\t\t// we want it to reference the wrapped version (post subview) of render.\n\t\tsubviews.add( this );\n\n\t\tvar returnValue = Super.prototype.constructor.apply( this, arguments );\n\n\t\treturn returnValue;\n\t},\n\n\trender : function() {\n\t\tif( this.template ) {\n\t\t\tvar templateData = this.getOptions();\n\t\t\tif( this.model ) _.extend( templateData , this.model.attributes );\n\t\t\t_.extend( templateData , this._getTemplateData() );\n\n\t\t\tthis.$el.html( this._renderTemplate( templateData ) );\n\t\t}\n\t\t\n\t\tthis.resolveHandles();\n\t\t\n\t\treturn this;\n\t},\n\n\t_getTemplateData : function() {\n\t\t// this function may be overridden to add additional properties\n\t\t// to the object passed to the template's rendering function\n\t\treturn {};\n\t},\n\n\t_renderTemplate : function( templateData ) {\n\t\tvar html;\n\t\t\n\t\tif( _.isFunction( this.template ) )\n\t\t\thtml = this.template( templateData );\n\t\telse if( this.template.render )\n\t\t\thtml = this.template.render( templateData );\n\n\t\treturn html;\n\t},\n\n\t_onSubviewsRendered : function() {\n\t\t// override in derived classes\n\t}\n} );\n\nreturn Backbone.ModuiBase;\n\n} ) );\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"backbone-courier\":1,\"backbone-handle\":2,\"backbone-subviews\":3,\"backbone-view-options\":4}],25:[function(require,module,exports){\n(function (global){\n( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery', 'modui-base' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null), require( 'modui-base' ) );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ), root.Backbone.ModuiBase );\n\t}\n}( this, function( _, Backbone, $, Super ) {\n\nvar lastPossibleViewElement = $( 'body' )[ 0 ];\nvar mOpenPopups = [];\n\nvar kState_Closed = 'closed';\nvar kState_Open = 'open';\nvar kState_Closing = 'closing';\n\nvar kFadeTime = 100;\nvar kMinTimeAfterOpenBeforeCloseOnOutsideClick = 100;\n\nvar kPositions = [\n\t'bottom center',\n\t'top center',\n\t'right center',\n\t'left center',\n\t'bottom center right',\n\t'bottom center left',\n\t'top center right',\n\t'top center left',\n\t'bottom left',\n\t'bottom right',\n\t'top left',\n\t'top right',\n\t'right top',\n\t'right bottom',\n\t'left top',\n\t'left bottom'\n];\n\nvar kPositionClasses = _.map( kPositions, function( thisPosition ) {\n\treturn thisPosition.replace( /\\ /g, '-' );\n} );\n\nvar mWindowEventListenersAttached = false;\n\nBackbone.ModuiPopup = Super.extend( {\n\toptions : [\n\t\t'target!',\n\t\t'contents',\n\t\t{ position : 'bottom center' },\n\t\t{ strictPositioning : false },\n\t\t{ hideIfAllPositionsAreOutOfBounds : false },\n\t\t{ distanceAway : 12 }, // margin / pointer is 10 pixels. With this default the tip of the pointer ends up 2 pixels from target\n\t\t{ pointerOffset : 0 },\n\t\t{ keepWithinRect : function() { return {\n\t\t\ttop : $( window ).scrollTop(),\n\t\t\tbottom : $( window ).scrollTop() + $( window ).height(),\n\t\t\tleft   : 0,\n\t\t\tright  : $( window ).width()\n\t\t}; } },\n\t\t{ closeOnOutsideClick : true },\n\t\t'onClose',\n\t\t'signature',\n\t\t'zIndex',\n\t\t{ 'extraClassName' : '' }, // appended to regular class names to facilitate styling\n\t\t{ 'kPointerHeight' : 10 }\n\t],\n\n\tpassMessages : { '*' : '.' }, // pass all courier messages directly through to parent view. why??\n\n\tclassName : 'modui-popup',\n\n\tinitialize : function() {\n\t\tvar _this = this;\n\n\t\tthis._setupTargetEl();\n\n\t\tthis._setState( kState_Closed );\n\n\t\t// if( this.closeOnOutsideClick ) {\n\t\t// \tsetTimeout( function() {\n\t\t// \t\t// in case this popup is triggered by a click, we need to wait\n\t\t// \t\t// until the next event loop before we bind the outside click\n\t\t// \t\t// event to closing the popup. otherwise would close right away\n\t\t// \t\t_this.$el.bind( 'clickoutside', function( e ) {\n\t\t// \t\t\t// we do not close the popup if the clicked element is within the original\n\t\t// \t\t\t// target element that this popup is pointing at (or IS that element)\n\t\t// \t\t\tif( e.target !== _this.targetEl.get( 0 ) && ! $.contains( _this.targetEl.get( 0 ), e.target ) ) {\n\t\t// \t\t\t\t_this.close();\n\t\t// \t\t\t}\n\t\t// \t\t} );\n\t\t// \t} );\n\t\t// }\n\n\t\tif( ! mWindowEventListenersAttached ) {\n\t\t\t_attachWindowEventListeners();\n\t\t\tmWindowEventListenersAttached = true;\n\t\t}\n\t},\n\n\trender : function() {\n\t\tif( _.isString( this.contents ) ) {\n\t\t\tthis.$el.html( '<div class=\"html-contents\">' + this.contents + '</div>' );\n\t\t} else if( _.isObject( this.contents ) && _.isFunction( this.contents.render ) ) {\n\t\t\tthis.$el.html( '' );\n\t\t\tthis.$el.append( this.contents.$el );\n\t\t\tthis.contents.render();\n\t\t\tthis.contents.delegateEvents();\n\t\t} else {\n\t\t\t// if we don't have any contents specified, assume that this is\n\t\t\t// a derived class that defines its own contents with its own render.\n\t\t\tSuper.prototype.render.apply( this, arguments );\n\t\t}\n\n\t\tif( ! _.isUndefined( this.zIndex ) ) this.$el.css( 'z-index', this.zIndex );\n\t\telse {\n\t\t\t// if no explicit z-index is supplied, make sure we are in front of\n\t\t\t// our target (being mindful over browser support).\n\n\t\t\tvar popupZIndex = _getElementZIndex( this.$el );\n\t\t\tvar targetElZIndex = _getElementZIndex( this.targetEl );\n\t\t\tif( _.isNaN( popupZIndex ) || popupZIndex <= targetElZIndex ) {\n\t\t\t\tthis.$el.css( 'z-index', targetElZIndex + 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\tclose : function() {\n\t\tvar _this = this;\n\n\t\tif( this.state !== kState_Open ) return;\n\n\t\tthis.$el.unbind( 'clickoutside' );\n\t\tthis._setState( kState_Closing );\n\n\t\tthis.spawn( 'closing' );\n\n\t\tsetTimeout( function() {\n\t\t\tif( _this.state === kState_Closing ) {\n\t\t\t\t_this.remove();\n\t\t\t\tmOpenPopups = _.without( mOpenPopups, _this );\n\t\t\t\t_this.spawn( 'closed' );\n\t\t\t}\n\t\t}, kFadeTime );\n\n\t\tif( _.isFunction( this.onClose ) ) this.onClose.apply( this, arguments );\n\t},\n \n\treposition : function( allowedPositions, options ) {\n\t\tvar _this = this;\n\n\t\toptions = _.extend( {}, {\n\t\t\ttryAgainIfDimentionsChange : true,\n\t\t\thideIfAllPositionsAreOutOfBounds : this.hideIfAllPositionsAreOutOfBounds\n\t\t}, options );\n\n\t\tvar targetIsVisible = this.targetEl.is( ':visible' );\n\t\tthis.$el.toggle( targetIsVisible );\n\t\tif( ! targetIsVisible ) return false;\n\n\t\tif( _.isUndefined( allowedPositions ) ) {\n\t\t\tallowedPositions = [];\n\n\t\t\tif( _.isArray( this.position ) ) allowedPositions = allowedPositions.concat( this.position )\n\t\t\telse allowedPositions.push( this.position );\n\n\t\t\tif( this.currentPosition && this.state === 'open' ) {\n\t\t\t\t// give preference to current position, if we already have one!\n\n\t\t\t\tif( _.contains( allowedPositions, this.currentPosition ) || ! this.strictPositioning ) {\n\t\t\t\t\tallowedPositions.unshift( this.currentPosition );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( ! this.strictPositioning ) allowedPositions = _.union( allowedPositions, kPositions );\n\t\t}\n\n\t\tallowedPositions = _.unique( allowedPositions );\n\n\t\tvar targetIsFixed = _elementPositionIsFixed( this.targetEl );\n\n\t\tvar targetWidth = Math.round( this.targetEl.outerWidth() );\n\t\tvar targetHeight = Math.round( this.targetEl.outerHeight() );\n\n\t\tvar popupWidth  = Math.round( this.$el.outerWidth() );\n\t\tvar popupHeight = Math.round( this.$el.outerHeight() );\n\t\tvar popupMargin = Math.round( ( this.$el.outerWidth( true ) - this.$el.outerWidth() ) / 2 ); // later we assume vertical is the same as this horizontal margin\n\n\t\tvar kPointerHeight = this.kPointerHeight;\n\t\tvar pointerInsetForSidePositions = Math.round( kPointerHeight + kPointerHeight * .66 );\n\n\t\tvar offsetParent = $( window );\n\t\tvar parentWidth = Math.round( offsetParent.outerWidth() );\n\t\tvar parentHeight = Math.round( offsetParent.outerHeight() );\n\n\t\tvar distanceAway = this.distanceAway;\n\n\t\tvar targetOffset = this.targetEl.offset();\n\t\tvar pointerOffset = this.pointerOffset;\n\n\t\tvar cssPositionProps;\n\n\t\tvar firstPositionTried;\n\t\tvar currentPositionBeingTried = firstPositionTried = _.first( allowedPositions );\n\t\tvar haveTriedOtherPositions = false;\n\t\tvar degreeOfUndesirabilityByPosition = {};\n\t\tvar allPositionsAreOutOfBounds = false;\n\t\tvar done = false;\n\n\t\tdo {  // run through all our different positions to find one that works\n\t\t\tif( ! _.contains( kPositions, currentPositionBeingTried ) ) {\n\t\t\t\tthrow new Error( 'Invalid position for popup: ' + currentPositionBeingTried );\n\t\t\t}\n\n\t\t\tswitch( currentPositionBeingTried ) {\n\t\t\t\tcase 'bottom center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + ( targetWidth / 2 ) - ( popupWidth / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + ( targetWidth / 2 ) - ( popupWidth / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right top':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right bottom':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + targetHeight + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + ( targetHeight / 2 ) - ( popupHeight / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left top':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left bottom':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + targetHeight + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + ( targetHeight / 2 ) - ( popupHeight / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom center right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom center left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tright : parentWidth - Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tright : parentWidth - Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tright : parentWidth - ( targetOffset.left + targetWidth ) + pointerOffset - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + pointerOffset - popupMargin,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : parentWidth - ( targetOffset.left + targetWidth ) + pointerOffset - popupMargin,\n\t\t\t\t\t\tleft : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : targetOffset.left + pointerOffset - popupMargin,\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif( targetIsFixed ) {\n\t\t\t\tcssPositionProps.position = 'fixed';\n\t\t\t\tcssPositionProps.top -= $( window ).scrollTop();\n\t\t\t}\n\n\t\t\tthis.$el\n\t\t\t\t.css( cssPositionProps )\n\t\t\t\t.removeClass( 'top left bottom right' )\n\t\t\t\t.removeClass( kPositionClasses.join( ' ' ) )\n\t\t\t\t.addClass( currentPositionBeingTried.split( ' ' )[ 0 ] )\n\t\t\t\t.addClass( currentPositionBeingTried.replace( /\\ /g, '-' ) )\n\t\t\t;\n\n\t\t\tdegreeOfUndesirabilityByPosition[ currentPositionBeingTried ] = this._getDegreeOfUndesirabilityOfCurrentPosition();\n\t\t\tvar cantFitIntoKeepWithinRectInThisPosition = degreeOfUndesirabilityByPosition[ currentPositionBeingTried ] !== 0;\n\n\t\t\tif( cantFitIntoKeepWithinRectInThisPosition ) {\n\t\t\t\tif( currentPositionBeingTried === firstPositionTried && haveTriedOtherPositions ) {\n\t\t\t\t\t// if we have tried all the different positions and are now are back at our\n\t\t\t\t\t// original 'preferred' position, then, shit, all positions were out of bounds.\\\n\t\t\t\t\t// just leave the popup in its default position, eventhough it is also out of bounds.\n\n\t\t\t\t\tallPositionsAreOutOfBounds = true;\n\t\t\t\t\tdone = true;\n\t\t\t\t} else {\n\t\t\t\t\t// Popup is outside bounding rect. try a new position.\n\t\t\t\t\thaveTriedOtherPositions = true;\n\t\t\t\t\tcurrentPositionBeingTried = _getNextPositionToTry( currentPositionBeingTried, allowedPositions );\n\t\t\t\t}\n\t\t\t} else done = true;\n\t\t} while( ! done );\n\n\n\t\tif( allPositionsAreOutOfBounds && allowedPositions.length > 1 ) {\n\t\t\tvar bestOfTheBadPositions = _.first( _.sortBy( _.pairs( degreeOfUndesirabilityByPosition ), function( thisPosition ) {\n\t\t\t\t// if the current position and another position are tied, give preference to the current position\n\t\t\t\treturn thisPosition[ 1 ] + ( thisPosition[ 0 ] === _this.currentPosition && _this.state === 'open' ? -1 : 0 );\n\t\t\t} ) )[ 0 ];\n\n\t\t\tallPositionsAreOutOfBounds = ! this.reposition( [ bestOfTheBadPositions ], { hideIfAllPositionsAreOutOfBounds : false } )\n\t\t}\n\n\t\tif( this._dimentionsHaveChanged( popupWidth, popupHeight ) ) {\n\t\t\t// there is a fringe case in which positining the popup actually changes its width and / or height.\n\t\t\t// for example, if the popup is placed just a few pixels from the edge of the view port, it might shrink\n\t\t\t// and text will wrap. so we have to check to see if the width or height of the popup has changed since\n\t\t\t// we started this re-positioning process. if so, try repositioning it once at the same position. if that\n\t\t\t// doesn't work, then move on to another position to see if we have better luck.\n\t\t\tif( ! options.tryAgainIfDimentionsChange ) return false;\n\n\t\t\tallPositionsAreOutOfBounds = ! this.reposition( [ currentPositionBeingTried ], {\n\t\t\t\ttryAgainIfDimentionsChange : false,\n\t\t\t\thideIfAllPositionsAreOutOfBounds : false\n\t\t\t} );\n\n\t\t\t// try one more time, with our new width and height.\n\t\t\t// if( ! this.reposition( [ currentPositionBeingTried ], false ) ) {\n\t\t\t// \t// if that doesn't work, then give up on this position\n\t\t\t// \tnewAllowedPositions = _.without( allowedPositions, currentPositionBeingTried );\n\t\t\t// \tif( newAllowedPositions.length > 0 ) allPositionsAreOutOfBounds = this.reposition( newAllowedPositions );\n\t\t\t// }\n\t\t}\n\n\t\tthis.currentPosition = currentPositionBeingTried;\n\n\t\tif( options.hideIfAllPositionsAreOutOfBounds && allPositionsAreOutOfBounds ) {\n\t\t\tthis.$el.hide();\n\t\t}\n\t\t\n\t\treturn ! allPositionsAreOutOfBounds;\n\t},\n\n\t_onSubviewsRendered : function() {\n\t\tif( ! _.isUndefined( this.extraClassName ) ) this.$el.addClass( this.extraClassName );\n\t},\n\n\t_getDegreeOfUndesirabilityOfCurrentPosition : function() {\n\t\tvar myOffset = this.$el.offset();\n\t\tif( ! myOffset ) return false; // hidden elements have undefined offsets, not much we can do\n\n\t\tvar myWidth = this.$el.outerWidth();\n\t\tvar myHeight = this.$el.outerHeight();\n\n\t\tvar myRect = {\n\t\t\ttop : myOffset.top,\n\t\t\tright : myOffset.left + myWidth,\n\t\t\tbottom : myOffset.top + myHeight,\n\t\t\tleft : myOffset.left\n\t\t};\n\n\t\tvar keepWithinRect = _.result( this, 'keepWithinRect' );\n\n\t\tvar horizontalOverlap = Math.max( 0, Math.min( myRect.right, keepWithinRect.right ) - Math.max( myRect.left, keepWithinRect.left ) )\n\t\tvar veritcalOverlap = Math.max( 0, Math.min( myRect.bottom, keepWithinRect.bottom ) - Math.max( myRect.top, keepWithinRect.top ) );\n\n\t\tvar myRectArea = myWidth * myHeight;\n\n\t\tvar amountOutsideBoundingRect = myRectArea - horizontalOverlap * veritcalOverlap;\n\n\t\tvar documentRect = {\n\t\t\ttop : 0,\n\t\t\tleft : 0,\n\t\t\tright : $( document ).width(),\n\t\t\tbottom : $( document ).height()\n\t\t};\n\n\t\thorizontalOverlap = Math.max( 0, Math.min( myRect.right, documentRect.right ) - Math.max( myRect.left, documentRect.left ) )\n\t\tveritcalOverlap = Math.max( 0, Math.min( myRect.bottom, documentRect.bottom ) - Math.max( myRect.top, documentRect.top ) );\n\t\t\n\t\tvar amountOutsideDocument = myRectArea - horizontalOverlap * veritcalOverlap;\n\t\t\n\t\treturn Math.max( Math.round( amountOutsideBoundingRect + amountOutsideDocument * 10 ), 0 );\n\t},\n\n\t_onOptionsChanged : function( changedOptions ) {\n\t\tif( 'target' in changedOptions ) this._setupTargetEl();\n\t\tif( 'contents' in changedOptions ) this.render();\n\n\t\tthis.reposition();\n\t},\n\n\t_getParentView : function() {\n\t\tvar parent = null;\n\n\t\tvar curElement = this.targetEl;\n\t\twhile( curElement.length > 0 && curElement[0] !== lastPossibleViewElement ) {\n\t\t\tvar view = curElement.data( 'view' );\n\t\t\tif( view && _.isFunction( view.render ) ) {\n\t\t\t\tparent = view;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcurElement = curElement.parent();\n\t\t}\n\n\t\treturn parent;\n\t},\n\n\t_setState : function( newState ) {\n\t\tthis.state = newState;\n\t\tthis.$el.attr( 'data-state', this.state );\n\n\t\tif( newState === kState_Open ) this.timeOpened = (new Date()).getTime();\n\t},\n\n\t_setupTargetEl : function() {\n\t\tvar _this = this;\n\n\t\tthis.targetEl = _.isObject( this.target ) && _.isFunction( this.target.render ) ? this.target.$el : $( this.target );\n\n\t\tif( this.targetEl.length !== 1 ) throw new Error( 'Each ModuiPopup must have exactly one target element.' );\n\n\t\tthis.targetEl.on( 'remove', function() {\n\t\t\tif( _this.targetEl.get( 0 ) === $( this ).get( 0 ) ) {\n\t\t\t\t_this.close();\n\t\t\t}\n\t\t} );\n\t},\n\n\t_dimentionsHaveChanged : function( oldOuterWidth, oldOuterHeight ) {\n\t\tvar widthDifference = Math.abs( oldOuterWidth - Math.round( this.$el.outerWidth() ) );\n\t\tvar heightDifference = Math.abs( oldOuterHeight - Math.round( this.$el.outerHeight() ) );\n\n\t\treturn widthDifference > 1 || heightDifference > 1;\n\t}\n}, {\n\topen : function( options ) {\n\t\tvar popupInstance;\n\n\t\tif( options.signature ) {\n\t\t\tvar existingPopupsOfThisSignature = _.filter( mOpenPopups, function( thisPopup ) {\n\t\t\t\treturn thisPopup.signature === options.signature && thisPopup.state === kState_Open;\n\t\t\t} );\n\n\t\t\tif( existingPopupsOfThisSignature.length ) {\n\t\t\t\tvar popupWeAreGoingTokeep = existingPopupsOfThisSignature.pop();\n\n\t\t\t\tpopupInstance = popupWeAreGoingTokeep;\n\t\t\t\tpopupInstance.setOptions( options );\n\t\t\t\tpopupInstance.reposition();\n\n\t\t\t\t_.each( existingPopupsOfThisSignature, function( thisExtraPopup ) {\n\t\t\t\t\tthisExtraPopup.close();\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tif( ! popupInstance ) {\n\t\t\tpopupInstance = new this( options );\n\n\t\t\t$( 'body' ).append( popupInstance.$el );\n\n\t\t\tpopupInstance.render();\n\t\t\tpopupInstance.reposition();\n\t\t\tmOpenPopups.push( popupInstance );\n\t\t}\n\n\t\tpopupInstance._setState( kState_Open );\n\n\t\treturn popupInstance;\n\t}\n} );\n\n$( document ).bind( 'mousedown', function( e ) {\n\t_.each( mOpenPopups, function( thisPopup ) {\n\t\tif( thisPopup.closeOnOutsideClick &&\n\t\t\tthisPopup.state === kState_Open &&\n\t\t\t( new Date() ).getTime() - thisPopup.timeOpened > kMinTimeAfterOpenBeforeCloseOnOutsideClick ) {\n\t\t\tvar thisPopupDomEl = thisPopup.$el.get( 0 );\n\t\t\tif( thisPopupDomEl !== e.target && ! $.contains( thisPopupDomEl, e.target ) ) {\n\t\t\t\tthisPopup.close();\n\t\t\t}\n\t\t}\n\t} );\n} );\n\nfunction _getElementZIndex( elm ) {\n\tvar bodyDomEl = $( 'body' )[ 0 ];\n\tvar zIndex = parseInt( elm.css( 'zIndex' ) ) > 0 ? elm.css( 'zIndex' ) : 0;\n\n\twhile( elm.length > 0 && bodyDomEl !== elm.get( 0 ) ) {\n\t\tzIndex = ( parseInt( elm.css( 'zIndex' ) ) > 0 && parseInt( elm.css( 'zIndex' ), 10 ) > zIndex ) ? elm.css( 'zIndex' ) : zIndex;\n\t\telm = elm.parent();\n\t}\n\n\treturn zIndex;\n}\n\nfunction _attachWindowEventListeners() {\n\tif( window.addEventListener ) window.addEventListener( 'scroll', function( e ) {\n\t\t_.each( mOpenPopups, function( thisPopup ) {\n\t\t\tif( ! _elementPositionIsFixed( thisPopup.targetEl, e.target ) ) {\n\t\t\t\tthisPopup.reposition();\n\t\t\t}\n\t\t} );\n\t}, true );\n\n\t$( window ).resize( function() {\n\t\t_.each( mOpenPopups, function( thisPopup ) {\n\t\t\tthisPopup.reposition();\n\t\t} );\n\t} );\n\n};\n\nfunction _elementPositionIsFixed( el, relativeToDomEl ) {\n\tif( el.prop( 'tagName' ) === 'HTML' ) return false;\n\n\tif( el.css( 'position' ) === 'fixed' ) return true;\n\n\tvar offsetParent = el.offsetParent();\n\tif( relativeToDomEl && ! $.contains( relativeToDomEl, offsetParent.get( 0 ) ) ) return false;\n\n\treturn _elementPositionIsFixed( el.offsetParent(), relativeToDomEl );\n};\n\nfunction _getNextPositionToTry( position, positionsToTry ) {\n\tpositionIndex = _.indexOf( positionsToTry, position );\n\tif( positionIndex === -1 ) throw new Error( 'Could not find position \"' + position + '\" in the allowed positions.' );\n\n\treturn positionIndex === positionsToTry.length - 1 ? positionsToTry[ 0 ] : positionsToTry[ positionIndex + 1 ];\n}\n\n// return UMD\nreturn Backbone.ModuiPopup;\n\n} ) );\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"modui-base\":24}],26:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],27:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],28:[function(require,module,exports){\nvar Storage = require('./storage');\nvar cookie = require('./cookie');\n\nvar _storage_support = true;\n\ntry {\n  window.localStorage.setItem('test', '42');\n  window.sessionStorage.setItem('test', '42');\n} catch (e) {\n  _storage_support = false;\n}\n\nif (_storage_support) {\n  module.exports = {\n    localStorage: window.localStorage,\n    sessionStorage: window.sessionStorage\n  };\n} else {\n  var lsCookie = cookie.read('localStorage');\n\n  var ls = new Storage(\n    lsCookie ? JSON.parse(lsCookie) : {}, // init\n    function(data) {\n      // set\n      cookie.create('localStorage', JSON.stringify(data), 365);\n    },\n    function() {\n      // clear\n      cookie.create('localStorage', '', 365);\n    }\n  );\n\n  var ss = new Storage();\n\n  module.exports = {\n    localStorage: ls,\n    sessionStorage: ss\n  };\n}\n\n},{\"./cookie\":29,\"./storage\":31}],29:[function(require,module,exports){\nfunction createCookie(name, value, days) {\n  var date, expires;\n\n  if (days) {\n    date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = '; expires=' + date.toGMTString();\n  } else {\n    expires = '';\n  }\n  document.cookie = name + '=' + value + expires + '; path=/';\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + '=',\n    ca = document.cookie.split(';'),\n    i,\n    c;\n\n  for (i = 0; i < ca.length; i++) {\n    c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) === 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n\nmodule.exports = {\n  create: createCookie,\n  read: readCookie\n};\n\n},{}],30:[function(require,module,exports){\nmodule.exports = function(obj) {\n  var n = 0;\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      n += 1;\n    }\n  }\n\n  return n;\n};\n\n},{}],31:[function(require,module,exports){\nvar numKeys = require('./num-keys');\n\nfunction Storage(obj, set, clear) {\n  this._obj = obj || {};\n  this._set = set;\n  this._clear = clear;\n\n  this.length = 0;\n}\n\nvar proto = Storage.prototype;\n\n// html5 storage api\n\nproto.setItem = function(k, v) {\n  k = encodeURIComponent(k);\n  this._obj[k] = v;\n\n  this._updateLength();\n  if (this._set) this._set(this._obj);\n};\n\nproto.getItem = function(k) {\n  k = encodeURIComponent(k);\n  return this._obj[k] === undefined ? null : this._obj[k];\n};\n\nproto.removeItem = function(k) {\n  k = encodeURIComponent(k);\n  delete this._obj[k];\n\n  this._updateLength();\n  if (this._set) this._set(this._obj);\n};\n\nproto.key = function(i) {\n  var ctr = 0;\n  for (var k in this._obj) {\n    if (ctr === i) return decodeURIComponent(k);\n    else ctr++;\n  }\n\n  return null;\n};\n\nproto.clear = function() {\n  delete this['_obj'];\n\n  if (this._clear) this._clear();\n};\n\n// private\nproto._updateLength = function() {\n  this.length = numKeys(this._obj);\n};\n\nmodule.exports = Storage;\n\n},{\"./num-keys\":30}],32:[function(require,module,exports){\nfunction Agent() {\n  this._defaults = [];\n}\n\n[\"use\", \"on\", \"once\", \"set\", \"query\", \"type\", \"accept\", \"auth\", \"withCredentials\", \"sortQuery\", \"retry\", \"ok\", \"redirects\",\n \"timeout\", \"buffer\", \"serialize\", \"parse\", \"ca\", \"key\", \"pfx\", \"cert\"].forEach(function(fn) {\n  /** Default setting for all requests from this agent */\n  Agent.prototype[fn] = function(/*varargs*/) {\n    this._defaults.push({fn:fn, arguments:arguments});\n    return this;\n  }\n});\n\nAgent.prototype._setDefaults = function(req) {\n    this._defaults.forEach(function(def) {\n      req[def.fn].apply(req, def.arguments);\n    });\n};\n\nmodule.exports = Agent;\n\n},{}],33:[function(require,module,exports){\n/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = require('component-emitter');\nvar RequestBase = require('./request-base');\nvar isObject = require('./is-object');\nvar ResponseBase = require('./response-base');\nvar Agent = require('./agent-base');\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = exports = module.exports = function(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n}\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only version of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': serialize,\n  'application/json': JSON.stringify\n};\n\n/**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) { // could be empty line, just skip it\n      continue;\n    }\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[\\/+]json($|[^-\\w])/.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  var status = this.xhr.status;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n  this._setStatusProperties(status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (null === this.text && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method != 'HEAD'\n      ? this._parseBody(this.text ? this.text : this.xhr.response)\n      : null;\n  }\n}\n\nResponseBase(Response.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str) {\n  var parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse = typeof self.xhr.responseType == 'undefined' ? self.xhr.responseText : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n      }\n    } catch(custom_err) {\n      new_err = custom_err; // ok() callback can throw\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\nEmitter(Request.prototype);\nRequestBase(Request.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (1 === arguments.length) pass = '';\n  if (typeof pass === 'object' && pass !== null) { // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n  if (!options) {\n    options = {\n      type: 'function' === typeof btoa ? 'basic' : 'auto',\n    };\n  }\n\n  var encoder = function(string) {\n    if ('function' === typeof btoa) {\n      return btoa(string);\n    }\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n\n  return this._auth(user, pass, options, encoder);\n};\n\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, options){\n  if (file) {\n    if (this._data) {\n      throw Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n\n  var fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.buffer = Request.prototype.ca = Request.prototype.agent = function(){\n  console.warn(\"This is not supported in browser version of superagent\");\n  return this;\n};\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.pipe = Request.prototype.write = function(){\n  throw Error(\"Streaming is not supported in browser version of superagent\");\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nRequest.prototype._isHost = function _isHost(obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return obj && 'object' === typeof obj && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== '[object Object]';\n}\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  if (this._endCalled) {\n    console.warn(\"Warning: .end() was called twice. This is not supported in superagent\");\n  }\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // querystring\n  this._finalizeQueryString();\n\n  return this._end();\n};\n\nRequest.prototype._end = function() {\n  var self = this;\n  var xhr = (this.xhr = request.getXHR());\n  var data = this._formData || this._data;\n\n  this._setTimeouts();\n\n  // state change\n  xhr.onreadystatechange = function(){\n    var readyState = xhr.readyState;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n    if (4 != readyState) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (!this._formData && 'GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n\n    if (this.header.hasOwnProperty(field))\n      xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\nrequest.agent = function() {\n  return new Agent();\n};\n\n[\"GET\", \"POST\", \"OPTIONS\", \"PATCH\", \"PUT\", \"DELETE\"].forEach(function(method) {\n  Agent.prototype[method.toLowerCase()] = function(url, fn) {\n    var req = new request.Request(method, url);\n    this._setDefaults(req);\n    if (fn) {\n      req.end(fn);\n    }\n    return req;\n  };\n});\n\nAgent.prototype.del = Agent.prototype['delete'];\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn) {\n  var req = request('GET', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn) {\n  var req = request('HEAD', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn) {\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  var req = request('DELETE', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn) {\n  var req = request('PATCH', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn) {\n  var req = request('POST', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn) {\n  var req = request('PUT', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n},{\"./agent-base\":32,\"./is-object\":34,\"./request-base\":35,\"./response-base\":36,\"component-emitter\":21}],34:[function(require,module,exports){\n'use strict';\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\n/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n\n/**\n * Expose `RequestBase`.\n */\n\nmodule.exports = RequestBase;\n\n/**\n * Initialize a new `RequestBase`.\n *\n * @api public\n */\n\nfunction RequestBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in RequestBase.prototype) {\n    obj[key] = RequestBase.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.clearTimeout = function _clearTimeout(){\n  clearTimeout(this._timer);\n  clearTimeout(this._responseTimeoutTimer);\n  delete this._timer;\n  delete this._responseTimeoutTimer;\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Set format of binary response body.\n * In browser valid formats are 'blob' and 'arraybuffer',\n * which return Blob and ArrayBuffer, respectively.\n *\n * In Node all values result in Buffer.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeouts.\n *\n * - response timeout is time between sending request and receiving the first byte of the response. Includes DNS and connection time.\n * - deadline is the time from start of the request to receiving response body in full. If the deadline is too short large files may not load at all on slow connections.\n *\n * Value of 0 or false means no timeout.\n *\n * @param {Number|Object} ms or {response, deadline}\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.timeout = function timeout(options){\n  if (!options || 'object' !== typeof options) {\n    this._timeout = options;\n    this._responseTimeout = 0;\n    return this;\n  }\n\n  for(var option in options) {\n    switch(option) {\n      case 'deadline':\n        this._timeout = options.deadline;\n        break;\n      case 'response':\n        this._responseTimeout = options.response;\n        break;\n      default:\n        console.warn(\"Unknown timeout option\", option);\n    }\n  }\n  return this;\n};\n\n/**\n * Set number of retry attempts on error.\n *\n * Failed requests will be retried 'count' times if timeout or err.code >= 500.\n *\n * @param {Number} count\n * @param {Function} [fn]\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.retry = function retry(count, fn){\n  // Default to 1 if no count passed or true\n  if (arguments.length === 0 || count === true) count = 1;\n  if (count <= 0) count = 0;\n  this._maxRetries = count;\n  this._retries = 0;\n  this._retryCallback = fn;\n  return this;\n};\n\nvar ERROR_CODES = [\n  'ECONNRESET',\n  'ETIMEDOUT',\n  'EADDRINFO',\n  'ESOCKETTIMEDOUT'\n];\n\n/**\n * Determine if a request should be retried.\n * (Borrowed from segmentio/superagent-retry)\n *\n * @param {Error} err\n * @param {Response} [res]\n * @returns {Boolean}\n */\nRequestBase.prototype._shouldRetry = function(err, res) {\n  if (!this._maxRetries || this._retries++ >= this._maxRetries) {\n    return false;\n  }\n  if (this._retryCallback) {\n    try {\n      var override = this._retryCallback(err, res);\n      if (override === true) return true;\n      if (override === false) return false;\n      // undefined falls back to defaults\n    } catch(e) {\n      console.error(e);\n    }\n  }\n  if (res && res.status && res.status >= 500 && res.status != 501) return true;\n  if (err) {\n    if (err.code && ~ERROR_CODES.indexOf(err.code)) return true;\n    // Superagent timeout\n    if (err.timeout && err.code == 'ECONNABORTED') return true;\n    if (err.crossDomain) return true;\n  }\n  return false;\n};\n\n/**\n * Retry request\n *\n * @return {Request} for chaining\n * @api private\n */\n\nRequestBase.prototype._retry = function() {\n\n  this.clearTimeout();\n\n  // node\n  if (this.req) {\n    this.req = null;\n    this.req = this.request();\n  }\n\n  this._aborted = false;\n  this.timedout = false;\n\n  return this._end();\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} [reject]\n * @return {Request}\n */\n\nRequestBase.prototype.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    if (this._endCalled) {\n      console.warn(\"Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises\");\n    }\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject) {\n      self.end(function(err, res) {\n        if (err) innerReject(err);\n        else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n};\n\nRequestBase.prototype['catch'] = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nRequestBase.prototype.use = function use(fn) {\n  fn(this);\n  return this;\n};\n\nRequestBase.prototype.ok = function(cb) {\n  if ('function' !== typeof cb) throw Error(\"Callback required\");\n  this._okCallback = cb;\n  return this;\n};\n\nRequestBase.prototype._isResponseOK = function(res) {\n  if (!res) {\n    return false;\n  }\n\n  if (this._okCallback) {\n    return this._okCallback(res);\n  }\n\n  return res.status >= 200 && res.status < 300;\n};\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nRequestBase.prototype.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nRequestBase.prototype.getHeader = RequestBase.prototype.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nRequestBase.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nRequestBase.prototype.field = function(name, val) {\n  // name should be either a string or an object.\n  if (null === name || undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (this._data) {\n    console.error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      this.field(key, name[key]);\n    }\n    return this;\n  }\n\n  if (Array.isArray(val)) {\n    for (var i in val) {\n      this.field(name, val[i]);\n    }\n    return this;\n  }\n\n  // val should be defined now\n  if (null === val || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n  if ('boolean' === typeof val) {\n    val = '' + val;\n  }\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nRequestBase.prototype.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\nRequestBase.prototype._auth = function(user, pass, options, base64Encoder) {\n  switch (options.type) {\n    case 'basic':\n      this.set('Authorization', 'Basic ' + base64Encoder(user + ':' + pass));\n      break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n      break;\n\n    case 'bearer': // usage would be .auth(accessToken, { type: 'bearer' })\n      this.set('Authorization', 'Bearer ' + user);\n      break;\n  }\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequestBase.prototype.withCredentials = function(on) {\n  // This is browser-only functionality. Node side is no-op.\n  if (on == undefined) on = true;\n  this._withCredentials = on;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Maximum size of buffered response body, in bytes. Counts uncompressed size.\n * Default 200MB.\n *\n * @param {Number} n\n * @return {Request} for chaining\n */\nRequestBase.prototype.maxResponseSize = function(n){\n  if ('number' !== typeof n) {\n    throw TypeError(\"Invalid argument\");\n  }\n  this._maxResponseSize = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nRequestBase.prototype.toJSON = function() {\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header,\n  };\n};\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.send = function(data){\n  var isObj = isObject(data);\n  var type = this._header['content-type'];\n\n  if (this._formData) {\n    console.error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObj && !this._data) {\n    if (Array.isArray(data)) {\n      this._data = [];\n    } else if (!this._isHost(data)) {\n      this._data = {};\n    }\n  } else if (data && this._data && this._isHost(this._data)) {\n    throw Error(\"Can't merge these send calls\");\n  }\n\n  // merge\n  if (isObj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!isObj || this._isHost(data)) {\n    return this;\n  }\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Sort `querystring` by the sort function\n *\n *\n * Examples:\n *\n *       // default order\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery()\n *         .end(callback)\n *\n *       // customized sort function\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery(function(a, b){\n *           return a.length - b.length;\n *         })\n *         .end(callback)\n *\n *\n * @param {Function} sort\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.sortQuery = function(sort) {\n  // _sort default to true but otherwise can be a function or boolean\n  this._sort = typeof sort === 'undefined' ? true : sort;\n  return this;\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\nRequestBase.prototype._finalizeQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += (this.url.indexOf('?') >= 0 ? '&' : '?') + query;\n  }\n  this._query.length = 0; // Makes the call idempotent\n\n  if (this._sort) {\n    var index = this.url.indexOf('?');\n    if (index >= 0) {\n      var queryArr = this.url.substring(index + 1).split('&');\n      if ('function' === typeof this._sort) {\n        queryArr.sort(this._sort);\n      } else {\n        queryArr.sort();\n      }\n      this.url = this.url.substring(0, index) + '?' + queryArr.join('&');\n    }\n  }\n};\n\n// For backwards compat only\nRequestBase.prototype._appendQueryString = function() {console.trace(\"Unsupported\");}\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequestBase.prototype._timeoutError = function(reason, timeout, errno){\n  if (this._aborted) {\n    return;\n  }\n  var err = new Error(reason + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  err.code = 'ECONNABORTED';\n  err.errno = errno;\n  this.timedout = true;\n  this.abort();\n  this.callback(err);\n};\n\nRequestBase.prototype._setTimeouts = function() {\n  var self = this;\n\n  // deadline\n  if (this._timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self._timeoutError('Timeout of ', self._timeout, 'ETIME');\n    }, this._timeout);\n  }\n  // response timeout\n  if (this._responseTimeout && !this._responseTimeoutTimer) {\n    this._responseTimeoutTimer = setTimeout(function(){\n      self._timeoutError('Response timeout of ', self._responseTimeout, 'ETIMEDOUT');\n    }, this._responseTimeout);\n  }\n};\n\n},{\"./is-object\":34}],36:[function(require,module,exports){\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar utils = require('./utils');\n\n/**\n * Expose `ResponseBase`.\n */\n\nmodule.exports = ResponseBase;\n\n/**\n * Initialize a new `ResponseBase`.\n *\n * @api public\n */\n\nfunction ResponseBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in ResponseBase.prototype) {\n    obj[key] = ResponseBase.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponseBase.prototype.get = function(field) {\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponseBase.prototype._setHeaderProperties = function(header){\n    // TODO: moar!\n    // TODO: make this a util\n\n    // content-type\n    var ct = header['content-type'] || '';\n    this.type = utils.type(ct);\n\n    // params\n    var params = utils.params(ct);\n    for (var key in params) this[key] = params[key];\n\n    this.links = {};\n\n    // links\n    try {\n        if (header.link) {\n            this.links = utils.parseLinks(header.link);\n        }\n    } catch (err) {\n        // ignore\n    }\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponseBase.prototype._setStatusProperties = function(status){\n    var type = status / 100 | 0;\n\n    // status / class\n    this.status = this.statusCode = status;\n    this.statusType = type;\n\n    // basics\n    this.info = 1 == type;\n    this.ok = 2 == type;\n    this.redirect = 3 == type;\n    this.clientError = 4 == type;\n    this.serverError = 5 == type;\n    this.error = (4 == type || 5 == type)\n        ? this.toError()\n        : false;\n\n    // sugar\n    this.created = 201 == status;\n    this.accepted = 202 == status;\n    this.noContent = 204 == status;\n    this.badRequest = 400 == status;\n    this.unauthorized = 401 == status;\n    this.notAcceptable = 406 == status;\n    this.forbidden = 403 == status;\n    this.notFound = 404 == status;\n    this.unprocessableEntity = 422 == status;\n};\n\n},{\"./utils\":37}],37:[function(require,module,exports){\n'use strict';\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = function(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = function(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = function(str){\n  return str.split(/ *, */).reduce(function(obj, str){\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = function(header, changesOrigin){\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header['host'];\n  // secuirty\n  if (changesOrigin) {\n    delete header['authorization'];\n    delete header['cookie'];\n  }\n  return header;\n};\n\n},{}],38:[function(require,module,exports){\n/* Citation controller */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var searchIndex = require('../search')(Backbone);\n\n  var showBookRefs = function (terms) {\n\n    App.addRegions({\n      BookRefs: '#search-book-refs'\n    });\n\n    terms = decodeURIComponent(terms.replace(/\\+/g, '%20'));\n\n    if (terms) {\n      searchIndex(terms, function (results) {\n        if (results.length) {\n\n          App.addRegions({\n            'BookRefs': '#search-book-refs'\n          });\n          App.BookRefs.show(Module.Views.Layout);\n\n          Module.Views.Layout.showChildView('bookRefs', new Module.Views.BookRef.CollectionView({\n            collection: new Module.Models.BookRef.Collection(results)\n          }));\n\n        }\n      });\n    }\n\n  };\n\n  return Backbone.Marionette.Controller.extend({\n    showBookRefs: showBookRefs\n  });\n\n};\n\n},{\"../search\":42}],39:[function(require,module,exports){\n/* Book index module */\n\nmodule.exports = function (Module, App, Backbone) {\n\n  'use strict';\n\n  require('./models/book-ref-model.js')(Module, App, Backbone);\n  require('./views/layout-view.js')(Module, App, Backbone);\n  require('./views/book-ref-view.js')(Module, App, Backbone);\n\n  var Router = require('./routers')(Module, App, Backbone);\n  var Controller = require('./controllers')(Module, App, Backbone);\n\n  App.addInitializer(function () {\n    Module.router = new Router({\n      controller: new Controller()\n    });\n  });\n\n};\n\n},{\"./controllers\":38,\"./models/book-ref-model.js\":40,\"./routers\":41,\"./views/book-ref-view.js\":45,\"./views/layout-view.js\":46}],40:[function(require,module,exports){\n/* Book reference model */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var Model = Backbone.Model.extend({\n\n    defaults: {\n      name: '',\n      ref: ''\n    }\n\n  });\n\n  var Collection = Backbone.Collection.extend({\n    model: Model\n  });\n\n  Module.Models = Module.Models || {};\n\n  Module.Models.BookRef = {\n    Model: Model,\n    Collection: Collection\n  };\n\n};\n\n},{}],41:[function(require,module,exports){\n/* Book index router */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n  return Backbone.Marionette.AppRouter.extend({\n    appRoutes: {\n      '?s=:terms': 'showBookRefs'\n    }\n  });\n};\n\n},{}],42:[function(require,module,exports){\n/* Book index search */\n\nmodule.exports = function (Backbone) {\n\n  'use strict';\n\n  var Bloodhound = require('bloodhound-js');\n  var indexTerms = require('../../data/index.json');\n\n  var _ = Backbone._;\n\n  var engine = new Bloodhound({\n    local: indexTerms,\n    identify: function (obj) {\n      return obj.id;\n    },\n    queryTokenizer: Bloodhound.tokenizers.whitespace,\n    datumTokenizer: function (d) {\n      return Bloodhound.tokenizers.whitespace(d.name);\n    }\n  });\n\n  // Build simplified results array from Bloodhound matches.\n  var buildResults = function (data, cb) {\n\n    var sortedData = _.sortBy(data, function (datum) {\n      return datum.parent;\n    });\n\n    var results = [];\n\n    // Parse results.\n    _.each(sortedData, function (datum) {\n      // Only proceed if the reference exists and has not already been added.\n      if (datum.ref && _.findWhere(results, {ref: datum.ref}) === undefined) {\n        results.push({\n          name: datum.name,\n          ref: datum.ref\n        });\n      }\n    });\n\n    // Format page numbers and section references.\n    _.each(results, function (result) {\n      var refs = result.ref.split(', ');\n      result.ref = _.map(refs, function (ref) {\n        if (ref.indexOf('.') !== -1) {\n          return '<em>' + ref + '</em>';\n        } else if (ref.indexOf('') !== -1) {\n          return 'pps. ' + ref;\n        } else {\n          return 'p. ' + ref;\n        }\n      }).join(', ');\n    });\n\n    cb(results);\n\n  };\n\n  // Initialize Bloodhound.\n  var promise = engine.initialize();\n\n  // Export search function.\n  return function (terms, cb) {\n    promise.then(function () {\n      engine.search(terms, function (data) {\n        buildResults(data, cb);\n      });\n    });\n  };\n\n};\n\n},{\"../../data/index.json\":57,\"bloodhound-js\":8}],43:[function(require,module,exports){\n(function (global){\nvar _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<strong>'+\n((__t=( data.name + ':' ))==null?'':__t)+\n'</strong> '+\n((__t=( data.ref ))==null?'':__t)+\n'\\n';\nreturn __p;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],44:[function(require,module,exports){\n(function (global){\nvar _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4>From the <em>Handbook</em></h4>\\n<p>You will also find content related to your search terms in the <em>Handbook</em>. Numbers in <em>italic</em> are section references.</p>\\n<div id=\"book-refs\"></div>\\n';\nreturn __p;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],45:[function(require,module,exports){\n/* Book reference views */\n\n'use strict';\n\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var ItemView = Backbone.Marionette.ItemView.extend({\n    tagName: 'p',\n    className: 'book-ref',\n    template: require('../templates/book-ref.tpl')\n  });\n\n  var CollectionView = Backbone.Marionette.CollectionView.extend({\n    childView: ItemView,\n    tagName: 'div',\n    className: 'book-refs'\n  });\n\n  Module.Views = Module.Views || {};\n\n  Module.Views.BookRef = {\n    ItemView: ItemView,\n    CollectionView: CollectionView\n  };\n\n};\n\n},{\"../templates/book-ref.tpl\":43}],46:[function(require,module,exports){\n/* Layout view */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var Layout = Backbone.Marionette.LayoutView.extend({\n\n    template: require('../templates/layout.tpl'),\n\n    regions: {\n      bookRefs: '#book-refs'\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n  Module.Views.Layout = new Layout();\n\n};\n\n},{\"../templates/layout.tpl\":44}],47:[function(require,module,exports){\n/* FAQ module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  /**\n   * since author tiles are used on various sections but have to not link on behind-the-style,\n   * disable link functionality here rather than duplicating markup\n   */\n  $('.category-behind-the-style .instructor-tile a, .category-teaching-resources .instructor-tile a').each(function() {\n    $(this).css({ 'cursor': 'default' });\n    $(this).on('click', function(e) {\n      e.preventDefault();\n    });\n  });\n\n};\n\n},{}],48:[function(require,module,exports){\n/* Citation controller */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var citationData = require('../../data/citations.json');\n\n  var showCitationForm = function (citationType) {\n\n    citationType = citationType || 'empty';\n\n    App.Content.show(Module.Views.Layout, {\n      forceShow: true,\n      preventDestroy: true\n    });\n\n    Module.Views.Layout.showChildView('form', new Module.Views.Citation.CollectionView({\n      collection: new Module.Models.Citation.Collection(citationData[citationType])\n    }));\n\n  };\n\n  return Backbone.Marionette.Controller.extend({\n    showCitationForm: showCitationForm\n  });\n\n};\n\n},{\"../../data/citations.json\":56}],49:[function(require,module,exports){\n/* Citation module */\n\nmodule.exports = function (Module, App, Backbone) {\n\n  'use strict';\n\n  require('./models/citation-model.js')(Module, App, Backbone);\n  require('./views/citation-view.js')(Module, App, Backbone);\n  require('./views/layout-view.js')(Module, App, Backbone);\n\n  var Router = require('./routers')(Module, App, Backbone);\n  var Controller = require('./controllers')(Module, App, Backbone);\n\n  App.addInitializer(function () {\n    Module.router = new Router({\n      controller: new Controller()\n    });\n  });\n\n};\n\n},{\"./controllers\":48,\"./models/citation-model.js\":50,\"./routers\":51,\"./views/citation-view.js\":54,\"./views/layout-view.js\":55}],50:[function(require,module,exports){\n/* Citation model */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  Module.Models = Module.Models || {};\n\n  var _ = Backbone._;\n\n  var Model = Backbone.Model.extend({\n\n    defaults: function () {\n      return {\n\n        title: '',\n        author: '',\n        version: '',\n        number: '',\n        publisher: '',\n        pubdate: '',\n        location: '',\n\n        container: true,\n        containerNumber: 1,\n\n        schema: {\n          source: {\n            author: {\n              name: 'Author',\n              punctuation: '.'\n            },\n            title: {\n              name: 'Title of source',\n              punctuation: '.'\n            }\n          },\n          container: {\n            title: {\n              name: 'Title of container',\n              punctuation: ','\n            },\n            author: {\n              name: 'Other contributors',\n              punctuation: ','\n            },\n            version: {\n              name: 'Version',\n              punctuation: ','\n            },\n            number: {\n              name: 'Number',\n              punctuation: ','\n            },\n            publisher: {\n              name: 'Publisher',\n              punctuation: ','\n            },\n            pubdate: {\n              name: 'Publication date',\n              punctuation: ','\n            },\n            location: {\n              name: 'Location',\n              punctuation: '.'\n            }\n          }\n        },\n\n        callouts: {},\n        classNames: {},\n        images: {},\n\n        order: this.collection.nextOrder()\n      };\n    },\n\n    setClassNames: function () {\n      var modelAttrs = this.attributes;\n      var classNames = {};\n\n      _.each(_.keys(modelAttrs.schema.container), function (attr) {\n        var attrClassNames = [];\n\n        if (modelAttrs[attr]) {\n          attrClassNames.push('has-value');\n        }\n\n        if (modelAttrs.callouts[attr]) {\n          attrClassNames.push('has-callout');\n        }\n\n        if (modelAttrs.images[attr]) {\n          attrClassNames.push('has-image');\n        }\n\n        classNames[attr] = attrClassNames.join(' ');\n      });\n\n      this.set({\n        classNames: classNames\n      });\n    },\n\n    getCitationString: function () {\n\n      var modelAttrs = this.attributes;\n\n      var formatAttribute = function (attr, str) {\n        return str.replace(/_([^_]+)_/g, '<em>$1</em>');\n      };\n\n      var filterAttrs = (modelAttrs.container) ? _.keys(modelAttrs.schema.container) : _.keys(modelAttrs.schema.source);\n\n      // Filter attributes for valid string values, then reduce to a\n      // citation string.\n      var attrs = _.filter(filterAttrs, function (attr) {\n        var val = modelAttrs[attr];\n        return (typeof val === 'string' && val.replace(/\\s/g, '') !== '');\n      });\n\n      var citation = attrs.map(function (attr) {\n        return '<span class=\"field-' + attr + '\">' + formatAttribute(attr, modelAttrs[attr]) + '</span>';\n      });\n\n      // Wrap in span.\n      return '<span class=\"container-' + this.attributes.order + '\">' + citation.join(' ') + '</span> ';\n\n    }\n\n  });\n\n  var Collection = Backbone.Collection.extend({\n\n    model: Model,\n    comparator: 'order',\n\n    initialize: function () {\n      this.bind('add remove', this.updateNumbers);\n    },\n\n    updateNumbers: function () {\n      this.each(function (model, i) {\n        model.set('containerNumber', i);\n      });\n    },\n\n    counter: 0,\n\n    nextOrder: function () {\n      this.counter = this.counter + 1;\n      return this.counter;\n    }\n\n  });\n\n  Module.Models.Citation = {\n    Model: Model,\n    Collection: Collection\n  };\n\n};\n\n},{}],51:[function(require,module,exports){\n/* Citation router */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n  return Backbone.Marionette.AppRouter.extend({\n    appRoutes: {\n      'whats-new/': 'showCitationForm',\n      'works-cited-a-quick-guide-:type/': 'showCitationForm'\n    }\n  });\n};\n\n},{}],52:[function(require,module,exports){\n(function (global){\nvar _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div id=\"citation-form\"></div>\\n<div class=\"citation-output\">\\n  <h4 class=\"citation-output-head\">Final works-cited-list entry</h4>\\n  <p id=\"citation-el\"></p>\\n</div>\\n<div id=\"citation-lightbox-placeholder\" class=\"lity-hide\"></div>\\n';\nreturn __p;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],53:[function(require,module,exports){\n(function (global){\nvar _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='';\n var attrs = (data.container) ? data.schema.container : data.schema.source \n__p+='\\n\\n';\n if (data.container) { \n__p+='\\n<h3>Container '+\n((__t=( data.order - 1 ))==null?'':__t)+\n'</h3>\\n';\n } \n__p+='\\n\\n';\n _.each(attrs, function (value, key) { \n__p+='\\n<p class=\"citation-field '+\n((__t=( data.classNames[key] ))==null?'':__t)+\n'\" data-name=\"'+\n((__t=( key ))==null?'':__t)+\n'\">\\n  <label for=\"container-title-'+\n((__t=( data.order ))==null?'':__t)+\n'\">'+\n((__t=( value.name ))==null?'':__t)+\n'<span class=\"punctuation\">'+\n((__t=( value.punctuation ))==null?'':__t)+\n'</span></label>\\n  <span id=\"container-title-'+\n((__t=( data.order ))==null?'':__t)+\n'\" class=\"field-value\">'+\n((__t=( data[key] ))==null?'':__t)+\n'</span>\\n  <span data-lity-image=\"'+\n((__t=( data.images[key] ))==null?'':__t)+\n'\" class=\"image-link\"></span>\\n</p>\\n';\n }); \n__p+='\\n';\nreturn __p;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],54:[function(require,module,exports){\n/* Citation views */\n\n/*global wp_theme*/\n\n'use strict';\n\nvar popup = require('modui-popup');\nvar lity = require('lity');\n\nvar template = require('../templates/container-form.tpl');\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var $ = Backbone.$;\n  var _ = Backbone._;\n\n  var ItemView = Backbone.Marionette.ItemView.extend({\n\n    tagName: 'fieldset',\n    template: template,\n\n    className: function () {\n      return this.model.get('container') ? 'container' : 'source';\n    },\n\n    events: {\n      'click .remove-container': 'removeContainer',\n      'click .citation-field': 'maybeShowPopup',\n      'click .image-link': 'showLightbox',\n      'keyup input': 'updateField'\n    },\n\n    onRender: function () {\n      var view = this;\n      setTimeout(function () {\n        $('.has-callout').each(function () {\n          view.showPopup($(this), $(this).data('name'));\n        });\n      }, 1000);\n    },\n\n    updateField: function (evt) {\n      var $field = $(evt.target);\n      var newAttr = {};\n      newAttr[$field.attr('name')] = $field.val();\n      this.model.set(newAttr);\n    },\n\n    removeContainer: function () {\n      this.model.collection.remove(this.model);\n    },\n\n    showPopup: function ($target, fieldName) {\n      if (this.model.attributes.callouts[fieldName]) {\n        popup.open({\n          target: $target,\n          position: 'right center',\n          contents: this.model.attributes.callouts[fieldName]\n        });\n      }\n    },\n\n    maybeShowPopup: function (evt) {\n      var $target = $(evt.target).closest('.citation-field');\n      var fieldName = $target.data('name');\n      this.showPopup($target, fieldName);\n    },\n\n    showLightbox: function (evt) {\n      var lightbox = lity();\n      var imageURL = $(evt.target).data('lity-image');\n      // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n      lightbox(wp_theme.asset_path + imageURL);\n      // jscs:enable\n    },\n\n    serializeData: function () {\n      this.model.setClassNames();\n      return this.model.toJSON();\n    }\n\n  });\n\n  var CollectionView = Backbone.Marionette.CollectionView.extend({\n\n    childView: ItemView,\n    tagName: 'div',\n    className: 'citation',\n\n    events: {\n      'click .add-container': 'addContainer',\n      'keyup input': 'updateCitation'\n    },\n\n    onRender: function () {\n      this.updateCitation();\n    },\n\n    addContainer: function () {\n      this.collection.add({});\n    },\n\n    onRemoveChild: function () {\n      this.updateCitation();\n    },\n\n    updateCitation: function () {\n      var citation = _.map(this.collection.models, function (model) {\n        return model.getCitationString();\n      });\n      $('#citation-el').html(citation.join(''));\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n\n  Module.Views.Citation = {\n    ItemView: ItemView,\n    CollectionView: CollectionView\n  };\n\n};\n\n},{\"../templates/container-form.tpl\":53,\"lity\":23,\"modui-popup\":25}],55:[function(require,module,exports){\n/* Layout view */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var layoutTemplate = require('../templates/citation-layout.tpl');\n\n  var Layout = Backbone.Marionette.LayoutView.extend({\n\n    template: layoutTemplate,\n    className: 'citation-template',\n\n    regions: {\n      output: '#citation-output',\n      form: '#citation-form'\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n  Module.Views.Layout = new Layout();\n\n};\n\n},{\"../templates/citation-layout.tpl\":52}],56:[function(require,module,exports){\nmodule.exports={\n  'empty': [\n    {\n      container: false,\n    },\n    {}\n  ],\n  'book': [\n    {\n      author: 'Copeland, Edward.',\n      title: 'Money.',\n      container: false,\n      images: {\n        author: '/assets/images/citation-book-3.png',\n        title: '/assets/images/citation-book-3.png'\n      }\n    },\n    {\n      title: '<em>The Cambridge Companion to Jane Austen</em>,',\n      author: 'edited by Copeland and Juliet McMaster,',\n      publisher: 'Cambridge UP,',\n      pubdate: '1997,',\n      location: 'pp. 131-48.',\n      callouts: {\n        version: 'For guidance on when to skip items in the template, see p. 20 of the <em>MLA Handbook</em>.'\n      },\n      images: {\n        author: '/assets/images/citation-book-1.png',\n        title: '/assets/images/citation-book-1.png',\n        publisher: '/assets/images/citation-book-1.png',\n        pubdate: '/assets/images/citation-book-2.png',\n        location: '/assets/images/citation-book-3.png'\n      }\n    }\n  ],\n  'video': [\n    {\n      title: '<em>Curiosity</em> Rover Report (August 2015): Three Years on Mars!',\n      container: false,\n      callouts: {\n        author: 'This source has no author. See pp. 24 and 5556 of the <em>MLA Handbook</em> for more guidance.'\n      },\n      images: {\n        title: '/assets/images/citation-video-1.png'\n      }\n    },\n    {\n      title: '<em>NASAs Journey to Mars: Videos</em>,',\n      author: 'edited by Sarah Loff,',\n      publisher: 'National Aeronautics and Space Administration,',\n      pubdate: '30 July 2015,',\n      location: 'www.nasa.gov/topics/journeytomars/videos/index.html.',\n      images: {\n        author: '/assets/images/citation-video-1.png',\n        title: '/assets/images/citation-video-1.png',\n        publisher: '/assets/images/citation-video-1.png',\n        pubdate: '/assets/images/citation-video-1.png',\n        location: '/assets/images/citation-video-1.png',\n      }\n    }\n  ],\n  'journal': [\n    {\n      title: 'Between Image and Word, Color, and Time: Jacob Lawrences <em>The Migration Series</em>.',\n      author: 'Lorensen, Jutta.',\n      container: false,\n      images: {\n        author: '/assets/images/citation-journal-1.png',\n        title: '/assets/images/citation-journal-1.png'\n      }\n    },\n    {\n      title: '<em>African American Review</em>,',\n      number: 'vol. 40, no. 3,',\n      pubdate: '2006,',\n      location: 'pp. 571-86.',\n      images: {\n        title: '/assets/images/citation-journal-1.png',\n        number: '/assets/images/citation-journal-1.png',\n        pubdate: '/assets/images/citation-journal-1.png',\n        location: '/assets/images/citation-journal-1.png'\n      }\n    },\n    {\n      title: '<em>EBSCOHost</em>,',\n      location: 'search.ebscohost.com/login.aspx?direct=true&db=f5h&AN=24093790&site=ehost-live.',\n      callouts: {\n        title: 'Learn where to find publication information for online sources and when to omit a publishers name on pp. 17 and 42 of the <em>MLA Handbook</em>.'\n      },\n      images: {\n        title: '/assets/images/citation-journal-1.png',\n        location: '/assets/images/citation-journal-1.png'\n      }\n    }\n  ]\n}\n\n},{}],57:[function(require,module,exports){\nmodule.exports=[{\"id\":1,\"name\":\"in online usernames @\",\"parent\":null,\"ref\":\"24\"},{\"id\":1001,\"name\":\"in online usernames @ ignored in alphabetization\",\"parent\":1,\"ref\":\"2.7.1\"},{\"id\":3,\"name\":\"abbreviations\",\"parent\":null,\"ref\":\"1.6\"},{\"id\":1002,\"name\":\"abbreviations of common academic terms\",\"parent\":3,\"ref\":\"1.6.2\"},{\"id\":2001,\"name\":\"in in-text citations authors first names\",\"parent\":1003,\"ref\":\"55\"},{\"id\":2002,\"name\":\"in in-text citations corporate authors\",\"parent\":1003,\"ref\":\"3.1.2\"},{\"id\":2003,\"name\":\"in in-text citations indirect sources (<em>qtd. in</em>)\",\"parent\":1003,\"ref\":\"3.4\"},{\"id\":2004,\"name\":\"in in-text citations three or more authors (<em>et al.</em>)\",\"parent\":1003,\"ref\":\"3.1.1\"},{\"id\":2005,\"name\":\"in in-text citations titles of sources\",\"parent\":1003,\"ref\":\"5556, 1.6.4, 3.2.1\"},{\"id\":2006,\"name\":\"in text numbers with abbreviations\",\"parent\":1004,\"ref\":\"1.4.1\"},{\"id\":2007,\"name\":\"in text titles of sources\",\"parent\":1004,\"ref\":\"1.2.3\"},{\"id\":2008,\"name\":\"in text use of periods\",\"parent\":1004,\"ref\":\"1.6\"},{\"id\":2009,\"name\":\"in works-cited lists editions\",\"parent\":1005,\"ref\":\"2.3\"},{\"id\":2010,\"name\":\"in works-cited lists months\",\"parent\":1005,\"ref\":\"1.5, 1.6.1\"},{\"id\":2011,\"name\":\"in works-cited lists publishers names\",\"parent\":1005,\"ref\":\"1.6.23\"},{\"id\":2012,\"name\":\"in works-cited lists versions\",\"parent\":1005,\"ref\":\"2.3\"},{\"id\":4,\"name\":\"documentation styles in academic disciplines\",\"parent\":null,\"ref\":\"56\"},{\"id\":5,\"name\":\"academic integrity\",\"parent\":null,\"ref\":\"6\"},{\"id\":6,\"name\":\"names of academic presses\",\"parent\":null,\"ref\":\"1.6.3\"},{\"id\":1006,\"name\":\"academic writing as conversation\",\"parent\":7,\"ref\":\"x, xiixiii, 5\"},{\"id\":1007,\"name\":\"academic writing cyclic nature of\",\"parent\":7,\"ref\":\"12\"},{\"id\":1008,\"name\":\"academic writing diversity of\",\"parent\":7,\"ref\":\"12728\"},{\"id\":1009,\"name\":\"academic writing evaluating sources for\",\"parent\":7,\"ref\":\"4, 1012\"},{\"id\":8,\"name\":\"ignored in alphabetization accents\",\"parent\":null,\"ref\":\"2.7.1\"},{\"id\":9,\"name\":\"for online sources access dates\",\"parent\":null,\"ref\":\"53\"},{\"id\":10,\"name\":\"accuracy of quotations\",\"parent\":null,\"ref\":\"1.3.1\"},{\"id\":11,\"name\":\"in works-cited lists actors\",\"parent\":null,\"ref\":\"24\"},{\"id\":13,\"name\":\"street addresses\",\"parent\":null,\"ref\":\"1.4.2\"},{\"id\":1010,\"name\":\"adjectives capitalized in titles\",\"parent\":14,\"ref\":\"1.2.1\"},{\"id\":1011,\"name\":\"adjectives in languages other than English\",\"parent\":14,\"ref\":\"1.2.5\"},{\"id\":1012,\"name\":\"adjectives in shortened titles\",\"parent\":14,\"ref\":\"3.2.1\"},{\"id\":1013,\"name\":\"adverbs capitalized in titles\",\"parent\":15,\"ref\":\"1.2.1\"},{\"id\":1014,\"name\":\"adverbs in languages other than English\",\"parent\":15,\"ref\":\"1.2.5\"},{\"id\":1015,\"name\":\"adverbs in shortened titles\",\"parent\":15,\"ref\":\"3.2.1\"},{\"id\":1016,\"name\":\"afterwords documenting\",\"parent\":16,\"ref\":\"2.2.1\"},{\"id\":1017,\"name\":\"afterwords referred to in text\",\"parent\":16,\"ref\":\"70\"},{\"id\":17,\"name\":\"<em>ALA-LC Romanization Tables</em>\",\"parent\":null,\"ref\":\"64, 74\"},{\"id\":1018,\"name\":\"alphabetization of names not in English\",\"parent\":19,\"ref\":\"1.1.4\"},{\"id\":2013,\"name\":\"of names not in English Asian languages\",\"parent\":1018,\"ref\":\"6364\"},{\"id\":2014,\"name\":\"of names not in English French\",\"parent\":1018,\"ref\":\"64\"},{\"id\":2015,\"name\":\"of names not in English German\",\"parent\":1018,\"ref\":\"6465\"},{\"id\":2016,\"name\":\"of names not in English Italian\",\"parent\":1018,\"ref\":\"65\"},{\"id\":2017,\"name\":\"of names not in English Latin\",\"parent\":1018,\"ref\":\"6566\"},{\"id\":2018,\"name\":\"of names not in English Spanish\",\"parent\":1018,\"ref\":\"66\"},{\"id\":1019,\"name\":\"alphabetization in works-cited lists\",\"parent\":19,\"ref\":\"2.7.14\"},{\"id\":2019,\"name\":\"in works-cited lists authors names\",\"parent\":1019,\"ref\":\"21, 22, 2.7.23\"},{\"id\":2020,\"name\":\"in works-cited lists letter by letter\",\"parent\":1019,\"ref\":\"2.7.1\"},{\"id\":2021,\"name\":\"in works-cited lists no author\",\"parent\":1019,\"ref\":\"2.7.4\"},{\"id\":2022,\"name\":\"in works-cited lists titles\",\"parent\":1019,\"ref\":\"2.7.4\"},{\"id\":1020,\"name\":\"<em>and</em> between authors names\",\"parent\":20,\"ref\":\"21\"},{\"id\":1021,\"name\":\"<em>and</em> between editors names\",\"parent\":20,\"ref\":\"23\"},{\"id\":21,\"name\":\"anonymous works\",\"parent\":null,\"ref\":\"24, 5556, 2.7.4\"},{\"id\":1022,\"name\":\"appendixes referred to in text\",\"parent\":23,\"ref\":\"70\"},{\"id\":1023,\"name\":\"appendixes in Web projects works-cited lists as\",\"parent\":23,\"ref\":\"128\"},{\"id\":24,\"name\":\"quotations and titles of sources in Arabic\",\"parent\":null,\"ref\":\"74, 1.3.8\"},{\"id\":1024,\"name\":\"archives locations of objects in\",\"parent\":26,\"ref\":\"4950\"},{\"id\":1025,\"name\":\"archives online\",\"parent\":26,\"ref\":\"11, 4143, 45, 48\"},{\"id\":27,\"name\":\"works of Aristotle\",\"parent\":null,\"ref\":\"122\"},{\"id\":1026,\"name\":\"<em>an</em> articles (<em>a</em> excluded in in-text citations\",\"parent\":28,\"ref\":\"3.2.1\"},{\"id\":1027,\"name\":\"<em>an</em> articles (<em>a</em> ignored in alphabetization\",\"parent\":28,\"ref\":\"2.7.4\"},{\"id\":1028,\"name\":\"<em>an</em> articles (<em>a</em> not capitalized in titles\",\"parent\":28,\"ref\":\"1.2.1\"},{\"id\":1029,\"name\":\"<em>an</em> articles (<em>a</em> omitted in corporate author names\",\"parent\":28,\"ref\":\"2.1.3\"},{\"id\":1030,\"name\":\"online and print articles quotation marks around titles of\",\"parent\":29,\"ref\":\"1.2.2\"},{\"id\":2023,\"name\":\"in works-cited lists authors names\",\"parent\":1031,\"ref\":\"21, 24, 2.1.1\"},{\"id\":2024,\"name\":\"in works-cited lists digital platforms\",\"parent\":1031,\"ref\":\"31, 32\"},{\"id\":2025,\"name\":\"in works-cited lists consecutive page numbers\",\"parent\":1031,\"ref\":\"46\"},{\"id\":2026,\"name\":\"in works-cited lists not consecutive page numbers\",\"parent\":1031,\"ref\":\"2.5.1\"},{\"id\":2027,\"name\":\"in works-cited lists pseudonyms\",\"parent\":1031,\"ref\":\"24, 2.1.1\"},{\"id\":2028,\"name\":\"in works-cited lists publication dates\",\"parent\":1031,\"ref\":\"4243, 4445\"},{\"id\":2029,\"name\":\"in works-cited lists republication in book collections\",\"parent\":1031,\"ref\":\"53\"},{\"id\":2030,\"name\":\"in works-cited lists titles\",\"parent\":1031,\"ref\":\"2728, 30\"},{\"id\":2031,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1031,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":1032,\"name\":\"in works-cited lists artworks generic descriptions of\",\"parent\":30,\"ref\":\"2829\"},{\"id\":1033,\"name\":\"in works-cited lists artworks locations of\",\"parent\":30,\"ref\":\"4950\"},{\"id\":1034,\"name\":\"Asian languages names of persons in\",\"parent\":31,\"ref\":\"62, 6364, 2.1.1\"},{\"id\":1035,\"name\":\"Asian languages quotations and titles of sources in\",\"parent\":31,\"ref\":\"74, 1.3.8\"},{\"id\":33,\"name\":\"authority of sources\",\"parent\":null,\"ref\":\"4, 1012\"},{\"id\":1036,\"name\":\"authors definition of\",\"parent\":34,\"ref\":\"2225\"},{\"id\":1037,\"name\":\"authors evaluating reliability of\",\"parent\":34,\"ref\":\"11\"},{\"id\":1038,\"name\":\"authors names gathering information on\",\"parent\":35,\"ref\":\"13, 1417, 2.1\"},{\"id\":1039,\"name\":\"authors names in in-text citations\",\"parent\":35,\"ref\":\"5458\"},{\"id\":2032,\"name\":\"in in-text citations authors with same last names\",\"parent\":1039,\"ref\":\"55\"},{\"id\":2033,\"name\":\"in in-text citations coauthors\",\"parent\":1039,\"ref\":\"3.1.1\"},{\"id\":2034,\"name\":\"in in-text citations multiple works by one author\",\"parent\":1039,\"ref\":\"55, 3.6\"},{\"id\":2035,\"name\":\"in in-text citations single authors\",\"parent\":1039,\"ref\":\"5455\"},{\"id\":2036,\"name\":\"in text first and subsequent uses of names\",\"parent\":1040,\"ref\":\"1.1.1\"},{\"id\":2037,\"name\":\"in text names not in English\",\"parent\":1040,\"ref\":\"1.1.4\"},{\"id\":2038,\"name\":\"in text pseudonyms and simplified names\",\"parent\":1040,\"ref\":\"1.1.3\"},{\"id\":2039,\"name\":\"in text titles of persons\",\"parent\":1040,\"ref\":\"1.1.2\"},{\"id\":2040,\"name\":\"in works-cited lists absence of author\",\"parent\":1041,\"ref\":\"24, 5556\"},{\"id\":2042,\"name\":\"in works-cited lists coauthors\",\"parent\":1041,\"ref\":\"2123, 2.7.3\"},{\"id\":2043,\"name\":\"in works-cited lists cross-references\",\"parent\":1041,\"ref\":\"2.1.1, 2.7.5\"},{\"id\":2044,\"name\":\"in works-cited lists film and television personnel\",\"parent\":1041,\"ref\":\"24\"},{\"id\":2045,\"name\":\"in works-cited lists married names\",\"parent\":1041,\"ref\":\"2.1.1\"},{\"id\":2046,\"name\":\"in works-cited lists multiple works by one author\",\"parent\":1041,\"ref\":\"2.1.3, 2.7.2\"},{\"id\":2047,\"name\":\"in works-cited lists pseudonyms and online usernames\",\"parent\":1041,\"ref\":\"24, 2.1.1\"},{\"id\":2048,\"name\":\"in works-cited lists punctuation\",\"parent\":1041,\"ref\":\"20, 2122\"},{\"id\":2049,\"name\":\"in works-cited lists titles and suffixes\",\"parent\":1041,\"ref\":\"7274, 1.1.2, 2.1.2\"},{\"id\":2050,\"name\":\"in works-cited lists translators\",\"parent\":1041,\"ref\":\"23\"},{\"id\":2051,\"name\":\"in works-cited lists variant forms of names\",\"parent\":1041,\"ref\":\"2.1.1\"},{\"id\":1042,\"name\":\"Bible abbreviations for\",\"parent\":36,\"ref\":\"1.6.4\"},{\"id\":2052,\"name\":\"abbreviations for Apocrypha\",\"parent\":1042,\"ref\":\"99100\"},{\"id\":2053,\"name\":\"abbreviations for New Testament\",\"parent\":1042,\"ref\":\"99\"},{\"id\":2054,\"name\":\"abbreviations for Old Testament and Hebrew Bible\",\"parent\":1042,\"ref\":\"9799\"},{\"id\":1043,\"name\":\"Bible in in-text citations\",\"parent\":36,\"ref\":\"12223, 1.6.4, 3.2.1\"},{\"id\":1044,\"name\":\"Bible treatment of titles of in text\",\"parent\":36,\"ref\":\"69\"},{\"id\":1045,\"name\":\"Bible in works-cited lists\",\"parent\":36,\"ref\":\"38, 123, 2.3\"},{\"id\":37,\"name\":\"referred to in text bibliographies\",\"parent\":null,\"ref\":\"70\"},{\"id\":1046,\"name\":\"blogs as parts of networks of blogs\",\"parent\":38,\"ref\":\"31\"},{\"id\":1047,\"name\":\"blogs republication of posts\",\"parent\":38,\"ref\":\"3\"},{\"id\":2055,\"name\":\"in works-cited lists comments\",\"parent\":1048,\"ref\":\"29, 44\"},{\"id\":2056,\"name\":\"in works-cited lists publishers\",\"parent\":1048,\"ref\":\"4142\"},{\"id\":2057,\"name\":\"in works-cited lists titles\",\"parent\":1048,\"ref\":\"28, 30\"},{\"id\":2058,\"name\":\"in works-cited lists URLs\",\"parent\":1048,\"ref\":\"48\"},{\"id\":1049,\"name\":\"book collections digital platforms for\",\"parent\":39,\"ref\":\"31, 34\"},{\"id\":1050,\"name\":\"book collections gathering information on\",\"parent\":39,\"ref\":\"16\"},{\"id\":2059,\"name\":\"in works-cited lists cross-references\",\"parent\":1051,\"ref\":\"2.7.5\"},{\"id\":2060,\"name\":\"in works-cited lists other contributors\",\"parent\":1051,\"ref\":\"38\"},{\"id\":2061,\"name\":\"in works-cited lists page numbers\",\"parent\":1051,\"ref\":\"46\"},{\"id\":2062,\"name\":\"in works-cited lists prior publication\",\"parent\":1051,\"ref\":\"50, 53\"},{\"id\":2063,\"name\":\"in works-cited lists publication dates for articles\",\"parent\":1051,\"ref\":\"42\"},{\"id\":2064,\"name\":\"in works-cited lists titles and subtitles\",\"parent\":1051,\"ref\":\"2627, 30, 35\"},{\"id\":40,\"name\":\"untitled book reviews\",\"parent\":null,\"ref\":\"29\"},{\"id\":2065,\"name\":\"in text capitalization and punctuation of titles\",\"parent\":1053,\"ref\":\"1.2.1\"},{\"id\":2066,\"name\":\"in text italics for titles\",\"parent\":1053,\"ref\":\"1.2.2\"},{\"id\":2067,\"name\":\"in text referring to parts of books\",\"parent\":1053,\"ref\":\"70\"},{\"id\":2068,\"name\":\"in text shortened titles\",\"parent\":1053,\"ref\":\"1.2.3\"},{\"id\":2069,\"name\":\"in text titles not in English\",\"parent\":1053,\"ref\":\"1.2.5\"},{\"id\":2070,\"name\":\"in text titles within titles\",\"parent\":1053,\"ref\":\"1.2.4\"},{\"id\":2071,\"name\":\"in works-cited lists authors names\",\"parent\":1054,\"ref\":\"2125, 2.1, 2.7.23\"},{\"id\":2072,\"name\":\"in works-cited lists editions\",\"parent\":1054,\"ref\":\"3839\"},{\"id\":2073,\"name\":\"in works-cited lists other contributors\",\"parent\":1054,\"ref\":\"3738\"},{\"id\":2074,\"name\":\"in works-cited lists prior publication\",\"parent\":1054,\"ref\":\"50, 53\"},{\"id\":2075,\"name\":\"in works-cited lists publication dates\",\"parent\":1054,\"ref\":\"15, 45, 46\"},{\"id\":2076,\"name\":\"in works-cited lists titles and subtitles\",\"parent\":1054,\"ref\":\"2527, 2.2\"},{\"id\":1055,\"name\":\"book series titles of\",\"parent\":42,\"ref\":\"69\"},{\"id\":1056,\"name\":\"book series in works-cited lists\",\"parent\":42,\"ref\":\"52\"},{\"id\":2077,\"name\":\"in text parts of works\",\"parent\":1057,\"ref\":\"70\"},{\"id\":2078,\"name\":\"in text titles of sources in English\",\"parent\":1057,\"ref\":\"1.2.1\"},{\"id\":2079,\"name\":\"in text titles of sources not in English\",\"parent\":1057,\"ref\":\"1.2.5\"},{\"id\":2080,\"name\":\"in works-cited lists editions\",\"parent\":1058,\"ref\":\"2.3\"},{\"id\":2081,\"name\":\"in works-cited lists generic descriptions of sources\",\"parent\":1058,\"ref\":\"29\"},{\"id\":2082,\"name\":\"in works-cited lists prefaces introductions\",\"parent\":1058,\"ref\":\"2.2.1\"},{\"id\":2083,\"name\":\"in works-cited lists titles of sources\",\"parent\":1058,\"ref\":\"2526, 1.2.1\"},{\"id\":2084,\"name\":\"in works-cited lists untitled sources\",\"parent\":1058,\"ref\":\"29\"},{\"id\":2085,\"name\":\"in works-cited lists versions\",\"parent\":1058,\"ref\":\"3839, 2.3\"},{\"id\":47,\"name\":\"centuries\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":49,\"name\":\"referred to in text chapters\",\"parent\":null,\"ref\":\"70\"},{\"id\":50,\"name\":\"fictional characters\",\"parent\":null,\"ref\":\"1.1.3\"},{\"id\":51,\"name\":\"<em>The</em> <em>Chicago Manual of Style</em>\",\"parent\":null,\"ref\":\"64, 74, 105\"},{\"id\":1059,\"name\":\"Chinese names of persons in\",\"parent\":52,\"ref\":\"62, 6364, 2.1.1\"},{\"id\":1060,\"name\":\"Chinese quotations and titles of sources in\",\"parent\":52,\"ref\":\"74, 1.3.8\"},{\"id\":53,\"name\":\"<em>circa</em>\",\"parent\":null,\"ref\":\"2.6.1\"},{\"id\":1061,\"name\":\"cities of publication of books\",\"parent\":55,\"ref\":\"51\"},{\"id\":1062,\"name\":\"cities of publication of newspapers\",\"parent\":55,\"ref\":\"2.6.1\"},{\"id\":1063,\"name\":\"coauthors in in-text citations\",\"parent\":56,\"ref\":\"3.1.1\"},{\"id\":1064,\"name\":\"coauthors in works-cited lists\",\"parent\":56,\"ref\":\"2123, 2.7.3\"},{\"id\":1065,\"name\":\"colons before block quotations\",\"parent\":57,\"ref\":\"87, 1.3.23\"},{\"id\":1066,\"name\":\"colons with quotation marks\",\"parent\":57,\"ref\":\"89\"},{\"id\":1067,\"name\":\"colons in titles\",\"parent\":57,\"ref\":\"1.2.1\"},{\"id\":1068,\"name\":\"comic books titles of\",\"parent\":58,\"ref\":\"31\"},{\"id\":1069,\"name\":\"comic books volume and issue numbers of\",\"parent\":58,\"ref\":\"40\"},{\"id\":1070,\"name\":\"commas in in-text citations\",\"parent\":59,\"ref\":\"3.6\"},{\"id\":1071,\"name\":\"commas in numbers\",\"parent\":59,\"ref\":\"1.4.2\"},{\"id\":1072,\"name\":\"commas with quotation marks\",\"parent\":59,\"ref\":\"8889\"},{\"id\":1073,\"name\":\"commas in works-cited lists\",\"parent\":59,\"ref\":\"20, 2.6\"},{\"id\":2086,\"name\":\"in works-cited lists authors names\",\"parent\":1073,\"ref\":\"21, 22\"},{\"id\":2087,\"name\":\"in works-cited lists other contributors\",\"parent\":1073,\"ref\":\"37\"},{\"id\":60,\"name\":\"online comments\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":61,\"name\":\"documentation unneeded for common knowledge\",\"parent\":null,\"ref\":\"10\"},{\"id\":62,\"name\":\"in works-cited lists compilers\",\"parent\":null,\"ref\":\"2.1.3\"},{\"id\":63,\"name\":\"conference titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":64,\"name\":\"in titles conjunctions\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":66,\"name\":\"copublishers\",\"parent\":null,\"ref\":\"2.4\"},{\"id\":1074,\"name\":\"copyright pages publication dates on\",\"parent\":67,\"ref\":\"15, 45, 46\"},{\"id\":1075,\"name\":\"copyright pages publishers names on\",\"parent\":67,\"ref\":\"41\"},{\"id\":1077,\"name\":\"copyright pages in in-text citations\",\"parent\":67,\"ref\":\"5556, 3.1.2\"},{\"id\":1078,\"name\":\"copyright pages in works-cited lists\",\"parent\":67,\"ref\":\"25, 2.1.3\"},{\"id\":68,\"name\":\"course titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":1079,\"name\":\"in works-cited lists cross-references for varying names of authors\",\"parent\":69,\"ref\":\"2.1.1\"},{\"id\":1080,\"name\":\"in works-cited lists cross-references for works in collections\",\"parent\":69,\"ref\":\"2.7.5\"},{\"id\":70,\"name\":\"<em>de</em> <em>da</em>\",\"parent\":null,\"ref\":\"65\"},{\"id\":72,\"name\":\"dates and times\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":1081,\"name\":\"dates and times abbreviations for\",\"parent\":72,\"ref\":\"1.6\"},{\"id\":1082,\"name\":\"dates and times for online works of access\",\"parent\":72,\"ref\":\"53\"},{\"id\":73,\"name\":\"<em>del</em> <em>de</em>\",\"parent\":null,\"ref\":\"66\"},{\"id\":74,\"name\":\"<em>du</em> <em>de</em>\",\"parent\":null,\"ref\":\"64\"},{\"id\":1083,\"name\":\"descriptive terms prefaces for documenting introductions\",\"parent\":75,\"ref\":\"2.2.1\"},{\"id\":1084,\"name\":\"descriptive terms for editors\",\"parent\":75,\"ref\":\"23\"},{\"id\":1085,\"name\":\"descriptive terms for film and television personnel\",\"parent\":75,\"ref\":\"24\"},{\"id\":1086,\"name\":\"descriptive terms for other contributors\",\"parent\":75,\"ref\":\"3738\"},{\"id\":1087,\"name\":\"descriptive terms for parts of works in text\",\"parent\":75,\"ref\":\"70\"},{\"id\":1088,\"name\":\"descriptive terms in place of titles in citations\",\"parent\":75,\"ref\":\"3.2.2\"},{\"id\":1089,\"name\":\"descriptive terms for unexpected types of works\",\"parent\":75,\"ref\":\"52\"},{\"id\":1090,\"name\":\"descriptive terms for untitled sources\",\"parent\":75,\"ref\":\"2829\"},{\"id\":76,\"name\":\"ignored in alphabetization diacritics\",\"parent\":null,\"ref\":\"2.7.1\"},{\"id\":1091,\"name\":\"dialogue quotations consisting solely of\",\"parent\":77,\"ref\":\"1.3.7\"},{\"id\":1092,\"name\":\"dialogue quoted from plays or screenplays\",\"parent\":77,\"ref\":\"1.3.4\"},{\"id\":1093,\"name\":\"digital media dates needed for\",\"parent\":78,\"ref\":\"4243, 4445\"},{\"id\":1094,\"name\":\"digital media gathering information on\",\"parent\":78,\"ref\":\"17\"},{\"id\":2088,\"name\":\"in works-cited lists publishers\",\"parent\":1095,\"ref\":\"4142\"},{\"id\":2089,\"name\":\"in works-cited lists titles of containers\",\"parent\":1095,\"ref\":\"3135\"},{\"id\":2090,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1095,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":2091,\"name\":\"in works-cited lists versions\",\"parent\":1095,\"ref\":\"39\"},{\"id\":79,\"name\":\"digital object identifiers (DOIs)\",\"parent\":null,\"ref\":\"48, 2.5.2\"},{\"id\":80,\"name\":\"digital reference managers\",\"parent\":null,\"ref\":\"12\"},{\"id\":82,\"name\":\"<em>Dr.</em> <em>Doctor</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":1096,\"name\":\"documentation commonsense approach to\",\"parent\":83,\"ref\":\"xiixiii, 34\"},{\"id\":1097,\"name\":\"documentation development of MLA style of\",\"parent\":83,\"ref\":\"xxii\"},{\"id\":1098,\"name\":\"documentation evaluating sources for\",\"parent\":83,\"ref\":\"3, 1012\"},{\"id\":1099,\"name\":\"documentation gathering information for\",\"parent\":83,\"ref\":\"1318\"},{\"id\":1100,\"name\":\"documentation importance of\",\"parent\":83,\"ref\":\"56\"},{\"id\":1101,\"name\":\"documentation in-text citations and\",\"parent\":83,\"ref\":\"5458\"},{\"id\":1102,\"name\":\"documentation organizing information for\",\"parent\":83,\"ref\":\"19\"},{\"id\":1103,\"name\":\"documentation recordkeeping and\",\"parent\":83,\"ref\":\"8, 910, 12\"},{\"id\":1104,\"name\":\"documentation in research projects in nonprint media\",\"parent\":83,\"ref\":\"12728\"},{\"id\":84,\"name\":\"DOIs (digital object identifiers)\",\"parent\":null,\"ref\":\"48, 2.5.2\"},{\"id\":1105,\"name\":\"drama and plays quotations of\",\"parent\":85,\"ref\":\"1.3.4\"},{\"id\":1106,\"name\":\"drama and plays titles of\",\"parent\":85,\"ref\":\"27, 1.2.2\"},{\"id\":1107,\"name\":\"DVDs disc numbers in sets of\",\"parent\":86,\"ref\":\"49\"},{\"id\":1108,\"name\":\"DVDs release dates of\",\"parent\":86,\"ref\":\"44\"},{\"id\":1109,\"name\":\"e-books digital platforms for\",\"parent\":87,\"ref\":\"31, 34, 47\"},{\"id\":1110,\"name\":\"e-books location indicators in\",\"parent\":87,\"ref\":\"3.3.3\"},{\"id\":88,\"name\":\"<em>ed.\",\"parent\":null,\"ref\":\"2.3</em>\"},{\"id\":1111,\"name\":\"editions publication dates of\",\"parent\":89,\"ref\":\"45, 46\"},{\"id\":1112,\"name\":\"editions works in multiple\",\"parent\":89,\"ref\":\"57, 3.3.2\"},{\"id\":1113,\"name\":\"in works-cited lists editors multiple works by\",\"parent\":90,\"ref\":\"2.7.2\"},{\"id\":1114,\"name\":\"in works-cited lists editors multivolume works and\",\"parent\":90,\"ref\":\"36\"},{\"id\":1115,\"name\":\"in works-cited lists editors as other contributors\",\"parent\":90,\"ref\":\"3738\"},{\"id\":1116,\"name\":\"in works-cited lists editors at start of entry\",\"parent\":90,\"ref\":\"23\"},{\"id\":1117,\"name\":\"in works-cited lists editors three or more\",\"parent\":90,\"ref\":\"23, 38\"},{\"id\":1118,\"name\":\"in works-cited lists editors two\",\"parent\":90,\"ref\":\"23\"},{\"id\":91,\"name\":\"<em>e.g.</em>\",\"parent\":null,\"ref\":\"1.6.2\"},{\"id\":93,\"name\":\"in quotations ellipses\",\"parent\":null,\"ref\":\"1.3.5\"},{\"id\":94,\"name\":\"in works-cited lists e-mail messages\",\"parent\":null,\"ref\":\"29\"},{\"id\":95,\"name\":\"use of <em>emphasis added</em>\",\"parent\":null,\"ref\":\"1.3.6\"},{\"id\":1119,\"name\":\"essays in containers\",\"parent\":96,\"ref\":\"32\"},{\"id\":1120,\"name\":\"essays titles of\",\"parent\":96,\"ref\":\"2728, 1.2.2\"},{\"id\":97,\"name\":\"<em>et al.</em>\",\"parent\":null,\"ref\":\"1.6.2\"},{\"id\":1121,\"name\":\"<em>et al.</em> in in-text citations\",\"parent\":97,\"ref\":\"3.1.1\"},{\"id\":1122,\"name\":\"<em>et al.</em> in works-cited lists\",\"parent\":97,\"ref\":\"22, 23, 38\"},{\"id\":98,\"name\":\"ethics and documentation\",\"parent\":null,\"ref\":\"6\"},{\"id\":99,\"name\":\"exclamation points and quotations\",\"parent\":null,\"ref\":\"1.3.7\"},{\"id\":101,\"name\":\"fictional characters\",\"parent\":null,\"ref\":\"1.1.3\"},{\"id\":1123,\"name\":\"television film digital platforms for\",\"parent\":102,\"ref\":\"31, 33\"},{\"id\":1124,\"name\":\"television film gathering information on\",\"parent\":102,\"ref\":\"18\"},{\"id\":1125,\"name\":\"television film research projects as\",\"parent\":102,\"ref\":\"128\"},{\"id\":1126,\"name\":\"television film timings in\",\"parent\":102,\"ref\":\"57\"},{\"id\":2092,\"name\":\"in works-cited lists contributors treated as authors\",\"parent\":1127,\"ref\":\"24\"},{\"id\":2093,\"name\":\"in works-cited lists disc numbers in DVD sets\",\"parent\":1127,\"ref\":\"49\"},{\"id\":2094,\"name\":\"in works-cited lists networks of airing\",\"parent\":1127,\"ref\":\"43\"},{\"id\":2095,\"name\":\"in works-cited lists other contributors\",\"parent\":1127,\"ref\":\"38\"},{\"id\":2096,\"name\":\"in works-cited lists production or distribution companies\",\"parent\":1127,\"ref\":\"41\"},{\"id\":2097,\"name\":\"in works-cited lists release dates\",\"parent\":1127,\"ref\":\"4344\"},{\"id\":2098,\"name\":\"in works-cited lists seasons and episode numbers\",\"parent\":1127,\"ref\":\"40\"},{\"id\":2099,\"name\":\"in works-cited lists series and episode titles\",\"parent\":1127,\"ref\":\"24, 28, 30, 33\"},{\"id\":2100,\"name\":\"in works-cited lists URLs\",\"parent\":1127,\"ref\":\"48\"},{\"id\":2101,\"name\":\"in works-cited lists versions\",\"parent\":1127,\"ref\":\"39\"},{\"id\":103,\"name\":\"as titles first lines of poems\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1128,\"name\":\"forewords documenting\",\"parent\":104,\"ref\":\"2.2.1\"},{\"id\":1129,\"name\":\"forewords referred to in text\",\"parent\":104,\"ref\":\"70\"},{\"id\":105,\"name\":\"online forums\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":1130,\"name\":\"forward slashes for line and stanza breaks in poetry\",\"parent\":106,\"ref\":\"1.3.3\"},{\"id\":2102,\"name\":\"in works-cited lists separating comparable items\",\"parent\":1131,\"ref\":\"2.6.2\"},{\"id\":2103,\"name\":\"in works-cited lists separating copublishers\",\"parent\":1131,\"ref\":\"2.4\"},{\"id\":1132,\"name\":\"French names of persons in\",\"parent\":108,\"ref\":\"64\"},{\"id\":1133,\"name\":\"French titles of sources in\",\"parent\":108,\"ref\":\"72\"},{\"id\":1134,\"name\":\"of books front matter documenting\",\"parent\":109,\"ref\":\"2.2.1\"},{\"id\":1135,\"name\":\"of books front matter referred to in text\",\"parent\":109,\"ref\":\"70\"},{\"id\":1136,\"name\":\"German names of persons in\",\"parent\":110,\"ref\":\"6465\"},{\"id\":1137,\"name\":\"German titles of sources in\",\"parent\":110,\"ref\":\"7273\"},{\"id\":111,\"name\":\"<em>Google</em>\",\"parent\":null,\"ref\":\"12\"},{\"id\":1138,\"name\":\"Greek documenting ancient works in\",\"parent\":113,\"ref\":\"122\"},{\"id\":1139,\"name\":\"Greek quotations and titles of sources in\",\"parent\":113,\"ref\":\"74, 1.3.8\"},{\"id\":1140,\"name\":\"hanging indention for quoted dialogue\",\"parent\":114,\"ref\":\"1.3.4\"},{\"id\":1141,\"name\":\"hanging indention for quoted poetry\",\"parent\":114,\"ref\":\"79\"},{\"id\":1142,\"name\":\"hanging indention in works-cited lists\",\"parent\":114,\"ref\":\"2.7\"},{\"id\":115,\"name\":\"quotations and titles of sources in Hebrew\",\"parent\":null,\"ref\":\"74, 1.3.8\"},{\"id\":116,\"name\":\"names of persons in Hungarian\",\"parent\":null,\"ref\":\"62\"},{\"id\":1143,\"name\":\"hyphens for authors names in works-cited lists\",\"parent\":117,\"ref\":\"2.1.3, 2.7.23\"},{\"id\":1144,\"name\":\"hyphens in compound terms and capitalization\",\"parent\":117,\"ref\":\"1.2.1\"},{\"id\":1145,\"name\":\"hyphens in persons names\",\"parent\":117,\"ref\":\"1.1.1\"},{\"id\":118,\"name\":\"<em>i.e.\",\"parent\":null,\"ref\":\"1.6.2</em>\"},{\"id\":119,\"name\":\"publishers imprints\",\"parent\":null,\"ref\":\"109\"},{\"id\":1146,\"name\":\"indention of quotations\",\"parent\":120,\"ref\":\"55, 7677\"},{\"id\":1147,\"name\":\"indention of quotations with translations\",\"parent\":120,\"ref\":\"1.3.8\"},{\"id\":1148,\"name\":\"indention of quoted dialogue\",\"parent\":120,\"ref\":\"1.3.4\"},{\"id\":1149,\"name\":\"indention in quoted poetry unusual\",\"parent\":120,\"ref\":\"79\"},{\"id\":121,\"name\":\"not capitalized in titles infinitives\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1150,\"name\":\"institutions objects in\",\"parent\":122,\"ref\":\"4950\"},{\"id\":1151,\"name\":\"institutions romanizing non-English names of\",\"parent\":122,\"ref\":\"1.3.8\"},{\"id\":1152,\"name\":\"Internet finding and retrieving sources on\",\"parent\":123,\"ref\":\"11\"},{\"id\":1153,\"name\":\"Internet research papers purchased on\",\"parent\":123,\"ref\":\"78\"},{\"id\":1154,\"name\":\"Internet URLs and DOIs and\",\"parent\":123,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":124,\"name\":\"in-text citations\",\"parent\":null,\"ref\":\"5458, 3.16\"},{\"id\":2104,\"name\":\"abbreviations in authors first names\",\"parent\":1155,\"ref\":\"55\"},{\"id\":2105,\"name\":\"abbreviations in corporate authors\",\"parent\":1155,\"ref\":\"3.1.2\"},{\"id\":2106,\"name\":\"abbreviations in indirect sources (<em>qtd. in</em>)\",\"parent\":1155,\"ref\":\"3.4\"},{\"id\":2107,\"name\":\"abbreviations in three or more authors (<em>et al.</em>)\",\"parent\":1155,\"ref\":\"3.1.1\"},{\"id\":2108,\"name\":\"abbreviations in titles of sources\",\"parent\":1155,\"ref\":\"5556, 1.6.4, 3.2.1\"},{\"id\":1156,\"name\":\"in-text citations coauthors in\",\"parent\":124,\"ref\":\"3.1.1\"},{\"id\":1157,\"name\":\"in-text citations corporate authors in\",\"parent\":124,\"ref\":\"5556, 3.1.2\"},{\"id\":1158,\"name\":\"in-text citations descriptive terms in\",\"parent\":124,\"ref\":\"3.2.2\"},{\"id\":1159,\"name\":\"in-text citations goals of\",\"parent\":124,\"ref\":\"19, 54, 58, 116\"},{\"id\":1160,\"name\":\"in-text citations indirect sources in\",\"parent\":124,\"ref\":\"3.4\"},{\"id\":1161,\"name\":\"in-text citations prefaces introductions\",\"parent\":124,\"ref\":\"2.2.1\"},{\"id\":1162,\"name\":\"in-text citations multiple sources in\",\"parent\":124,\"ref\":\"3.6\"},{\"id\":1163,\"name\":\"in-text citations multivolume works in\",\"parent\":124,\"ref\":\"3.3.1\"},{\"id\":2109,\"name\":\"numbers in location indicators other than pages\",\"parent\":1164,\"ref\":\"3.3.23, 3.6\"},{\"id\":2110,\"name\":\"numbers in style\",\"parent\":1164,\"ref\":\"3.3.1\"},{\"id\":2111,\"name\":\"numbers in works in multiple editions\",\"parent\":1164,\"ref\":\"3.3.2\"},{\"id\":1165,\"name\":\"in-text citations organizing information for\",\"parent\":124,\"ref\":\"19\"},{\"id\":1166,\"name\":\"in-text citations punctuation and formatting of\",\"parent\":124,\"ref\":\"5458, 82, 1.3.2, 1.3.7, 3.6\"},{\"id\":1167,\"name\":\"in-text citations repeated use of sources and\",\"parent\":124,\"ref\":\"3.5\"},{\"id\":1168,\"name\":\"in-text citations shortened titles of legal cases in\",\"parent\":124,\"ref\":\"1.2.3\"},{\"id\":1169,\"name\":\"in-text citations translations of quotations and\",\"parent\":124,\"ref\":\"1.3.8\"},{\"id\":1170,\"name\":\"introductions documenting\",\"parent\":125,\"ref\":\"2.2.1\"},{\"id\":1171,\"name\":\"introductions referred to in text\",\"parent\":125,\"ref\":\"70\"},{\"id\":1173,\"name\":\"introductions names of persons in\",\"parent\":125,\"ref\":\"65\"},{\"id\":1174,\"name\":\"introductions titles of sources in\",\"parent\":125,\"ref\":\"73\"},{\"id\":2112,\"name\":\"in text added to quotations\",\"parent\":1175,\"ref\":\"1.3.6\"},{\"id\":2113,\"name\":\"in text titles of sources\",\"parent\":1175,\"ref\":\"1.2.2\"},{\"id\":2114,\"name\":\"in text titles within titles\",\"parent\":1175,\"ref\":\"1.2.4\"},{\"id\":2115,\"name\":\"in works-cited lists titles of containers\",\"parent\":1176,\"ref\":\"30, 31\"},{\"id\":2116,\"name\":\"in works-cited lists titles of sources\",\"parent\":1176,\"ref\":\"2529, 1.2.2\"},{\"id\":1177,\"name\":\"Japanese names of persons in\",\"parent\":127,\"ref\":\"62, 63\"},{\"id\":1178,\"name\":\"Japanese quotations and titles of sources in\",\"parent\":127,\"ref\":\"74, 1.3.8\"},{\"id\":129,\"name\":\"research projects presented with <em>Keynote</em>\",\"parent\":null,\"ref\":\"128\"},{\"id\":130,\"name\":\"Quran) Koran (Quran\",\"parent\":null,\"ref\":\"69, 12223\"},{\"id\":131,\"name\":\"names of persons in Korean\",\"parent\":null,\"ref\":\"62, 63\"},{\"id\":1179,\"name\":\"languages other than English capitalization in\",\"parent\":133,\"ref\":\"1.2.5\"},{\"id\":2117,\"name\":\"capitalization in French\",\"parent\":1179,\"ref\":\"72\"},{\"id\":2118,\"name\":\"capitalization in German\",\"parent\":1179,\"ref\":\"7273\"},{\"id\":2119,\"name\":\"capitalization in Italian\",\"parent\":1179,\"ref\":\"73\"},{\"id\":2120,\"name\":\"capitalization in Latin\",\"parent\":1179,\"ref\":\"7374\"},{\"id\":2121,\"name\":\"capitalization in Spanish\",\"parent\":1179,\"ref\":\"74\"},{\"id\":1180,\"name\":\"languages other than English names of persons in\",\"parent\":133,\"ref\":\"1.1.4\"},{\"id\":2122,\"name\":\"names of persons in Asian languages\",\"parent\":1180,\"ref\":\"62, 6364\"},{\"id\":2123,\"name\":\"names of persons in first and subsequent uses in text\",\"parent\":1180,\"ref\":\"1.1.1\"},{\"id\":2124,\"name\":\"names of persons in French\",\"parent\":1180,\"ref\":\"64\"},{\"id\":2125,\"name\":\"names of persons in German\",\"parent\":1180,\"ref\":\"6465\"},{\"id\":2126,\"name\":\"names of persons in Italian\",\"parent\":1180,\"ref\":\"65\"},{\"id\":2127,\"name\":\"names of persons in Latin\",\"parent\":1180,\"ref\":\"6566\"},{\"id\":2128,\"name\":\"names of persons in Spanish\",\"parent\":1180,\"ref\":\"66\"},{\"id\":2129,\"name\":\"names of persons in variant forms of names\",\"parent\":1180,\"ref\":\"2.1.1\"},{\"id\":1181,\"name\":\"languages other than English titles of sources in\",\"parent\":133,\"ref\":\"1.2.5\"},{\"id\":2130,\"name\":\"titles of sources in French\",\"parent\":1181,\"ref\":\"72\"},{\"id\":2131,\"name\":\"titles of sources in German\",\"parent\":1181,\"ref\":\"7273\"},{\"id\":2132,\"name\":\"titles of sources in initial articles ignored in alphabetizing\",\"parent\":1181,\"ref\":\"2.7.4\"},{\"id\":2133,\"name\":\"titles of sources in Italian\",\"parent\":1181,\"ref\":\"73\"},{\"id\":2134,\"name\":\"titles of sources in Latin\",\"parent\":1181,\"ref\":\"7374\"},{\"id\":2135,\"name\":\"titles of sources in other languages\",\"parent\":1181,\"ref\":\"75\"},{\"id\":2136,\"name\":\"titles of sources in romanized languages\",\"parent\":1181,\"ref\":\"74\"},{\"id\":2137,\"name\":\"titles of sources in Spanish\",\"parent\":1181,\"ref\":\"74\"},{\"id\":2138,\"name\":\"titles of sources in translations\",\"parent\":1181,\"ref\":\"1.2.5, 2.2.2\"},{\"id\":1182,\"name\":\"Latin documenting ancient works in\",\"parent\":134,\"ref\":\"122\"},{\"id\":1183,\"name\":\"Latin names of persons in\",\"parent\":134,\"ref\":\"6566\"},{\"id\":1184,\"name\":\"Latin titles of sources in\",\"parent\":134,\"ref\":\"7374\"},{\"id\":135,\"name\":\"titles of laws\",\"parent\":null,\"ref\":\"69\"},{\"id\":137,\"name\":\"shortened titles of legal cases\",\"parent\":null,\"ref\":\"1.2.3\"},{\"id\":1185,\"name\":\"reports legislative bills in text titles of\",\"parent\":138,\"ref\":\"69\"},{\"id\":1186,\"name\":\"reports legislative bills in works-cited lists\",\"parent\":138,\"ref\":\"53, 2.1.3\"},{\"id\":1187,\"name\":\"commonly studied literary works fictional characters in\",\"parent\":140,\"ref\":\"1.1.3\"},{\"id\":2139,\"name\":\"in in-text citations format and punctuation\",\"parent\":1188,\"ref\":\"1.3.2, 1.3.7, 3.6\"},{\"id\":2140,\"name\":\"in in-text citations numbers\",\"parent\":1188,\"ref\":\"57, 3.3.2\"},{\"id\":1189,\"name\":\"live presentations research projects as\",\"parent\":141,\"ref\":\"128\"},{\"id\":2141,\"name\":\"in works-cited lists descriptive terms\",\"parent\":1190,\"ref\":\"52\"},{\"id\":2142,\"name\":\"in works-cited lists other contributors\",\"parent\":1190,\"ref\":\"38\"},{\"id\":2143,\"name\":\"in works-cited lists city venue\",\"parent\":1190,\"ref\":\"50\"},{\"id\":142,\"name\":\"locations\",\"parent\":null,\"ref\":\"46, 4850, 2.5\"},{\"id\":1191,\"name\":\"locations gathering information on\",\"parent\":142,\"ref\":\"14\"},{\"id\":2144,\"name\":\"in works-cited lists disc numbers in DVD sets\",\"parent\":1192,\"ref\":\"49\"},{\"id\":2145,\"name\":\"in works-cited lists objects located in places\",\"parent\":1192,\"ref\":\"4950\"},{\"id\":2146,\"name\":\"in works-cited lists page numbers\",\"parent\":1192,\"ref\":\"46\"},{\"id\":2147,\"name\":\"in works-cited lists page numbers not consecutive in periodicals\",\"parent\":1192,\"ref\":\"2.5.1\"},{\"id\":2148,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1192,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":1193,\"name\":\"manuscripts dates of\",\"parent\":144,\"ref\":\"1.5\"},{\"id\":1194,\"name\":\"manuscripts locations of\",\"parent\":144,\"ref\":\"50\"},{\"id\":145,\"name\":\"of authors married names\",\"parent\":null,\"ref\":\"2.1.1\"},{\"id\":146,\"name\":\"writing of measurements\",\"parent\":null,\"ref\":\"1.4.1\"},{\"id\":148,\"name\":\"documenting medieval works\",\"parent\":null,\"ref\":\"122\"},{\"id\":149,\"name\":\"online messages\",\"parent\":null,\"ref\":\"29\"},{\"id\":150,\"name\":\"history of <em>MLA Handbook</em>\",\"parent\":null,\"ref\":\"xxii\"},{\"id\":151,\"name\":\"abbreviations for months\",\"parent\":null,\"ref\":\"1.5, 1.6.1\"},{\"id\":1195,\"name\":\"multiple authors in in-text citations\",\"parent\":152,\"ref\":\"3.1.1\"},{\"id\":1196,\"name\":\"multiple authors in works-cited lists\",\"parent\":152,\"ref\":\"2123, 2.7.3\"},{\"id\":1197,\"name\":\"multivolume works in in-text citations\",\"parent\":153,\"ref\":\"3.3.1\"},{\"id\":1198,\"name\":\"multivolume works in works-cited lists\",\"parent\":153,\"ref\":\"36, 39, 3.3.1\"},{\"id\":2149,\"name\":\"in works-cited lists total number of volumes\",\"parent\":1198,\"ref\":\"5152\"},{\"id\":154,\"name\":\"objects in museums\",\"parent\":null,\"ref\":\"4950\"},{\"id\":155,\"name\":\"identified by form musical compositions\",\"parent\":null,\"ref\":\"69\"},{\"id\":1199,\"name\":\"names of persons in fiction\",\"parent\":157,\"ref\":\"1.1.3\"},{\"id\":1200,\"name\":\"names of persons initials and\",\"parent\":157,\"ref\":\"1.6\"},{\"id\":1201,\"name\":\"names of persons <em>Jr.</em> and <em>Sr.</em> with\",\"parent\":157,\"ref\":\"1.1.1, 2.1.2\"},{\"id\":1202,\"name\":\"names of persons in languages other than English\",\"parent\":157,\"ref\":\"1.1.4\"},{\"id\":2150,\"name\":\"in languages other than English Asian languages\",\"parent\":1202,\"ref\":\"62, 6364\"},{\"id\":2151,\"name\":\"in languages other than English French\",\"parent\":1202,\"ref\":\"64\"},{\"id\":2152,\"name\":\"in languages other than English German\",\"parent\":1202,\"ref\":\"6465\"},{\"id\":2153,\"name\":\"in languages other than English Italian\",\"parent\":1202,\"ref\":\"65\"},{\"id\":2154,\"name\":\"in languages other than English Latin\",\"parent\":1202,\"ref\":\"6566\"},{\"id\":2155,\"name\":\"in languages other than English romanization\",\"parent\":1202,\"ref\":\"1.3.8\"},{\"id\":2156,\"name\":\"in languages other than English Spanish\",\"parent\":1202,\"ref\":\"66\"},{\"id\":1203,\"name\":\"names of persons order of\",\"parent\":157,\"ref\":\"1.1.1\"},{\"id\":1204,\"name\":\"names of persons pseudonymous 24,<em> 1.1.3</em>,\",\"parent\":157,\"ref\":\"2.1.1\"},{\"id\":1205,\"name\":\"names of persons roman numerals with\",\"parent\":157,\"ref\":\"1.4.4, 2.1.2\"},{\"id\":1206,\"name\":\"names of persons simplified\",\"parent\":157,\"ref\":\"1.1.3\"},{\"id\":1207,\"name\":\"names of persons first and subsequent use of in text\",\"parent\":157,\"ref\":\"1.1.1\"},{\"id\":1208,\"name\":\"names of persons with titles\",\"parent\":157,\"ref\":\"1.1.2\"},{\"id\":160,\"name\":\"titles abbreviated as noun phrases\",\"parent\":null,\"ref\":\"3.2.1\"},{\"id\":1209,\"name\":\"nouns capitalized in titles\",\"parent\":161,\"ref\":\"1.2.1\"},{\"id\":1210,\"name\":\"nouns in languages other than English\",\"parent\":161,\"ref\":\"1.2.5\"},{\"id\":162,\"name\":\"titles of novellas\",\"parent\":null,\"ref\":\"1.2.2\"},{\"id\":1211,\"name\":\"novels in containers\",\"parent\":163,\"ref\":\"36\"},{\"id\":1212,\"name\":\"novels titles of\",\"parent\":163,\"ref\":\"2527, 1.2.2\"},{\"id\":2157,\"name\":\"in in-text citations e-books\",\"parent\":1213,\"ref\":\"3.3.3\"},{\"id\":2158,\"name\":\"in in-text citations location indicators other than pages\",\"parent\":1213,\"ref\":\"3.3.23, 3.6\"},{\"id\":2159,\"name\":\"in in-text citations sections paragraphs\",\"parent\":1213,\"ref\":\"5657, 78, 121\"},{\"id\":2160,\"name\":\"in in-text citations parts of poetry\",\"parent\":1213,\"ref\":\"12122, 1.3.3\"},{\"id\":2161,\"name\":\"in in-text citations sources without page or part numbers\",\"parent\":1213,\"ref\":\"56\"},{\"id\":2162,\"name\":\"in in-text citations style\",\"parent\":1213,\"ref\":\"3.3.1\"},{\"id\":2163,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1213,\"ref\":\"3.3.2\"},{\"id\":2164,\"name\":\"in text beginning of sentences\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2165,\"name\":\"in text commas\",\"parent\":1214,\"ref\":\"1.4.2\"},{\"id\":2166,\"name\":\"in text inclusive ranges\",\"parent\":1214,\"ref\":\"1.4.3\"},{\"id\":2167,\"name\":\"in text musical compositions\",\"parent\":1214,\"ref\":\"69\"},{\"id\":2168,\"name\":\"in text sections paragraphs\",\"parent\":1214,\"ref\":\"1.6.2\"},{\"id\":2169,\"name\":\"in text plurals\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2170,\"name\":\"in text use of numerals or words\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2171,\"name\":\"in works-cited lists alphabetizing titles\",\"parent\":1215,\"ref\":\"2.7.4\"},{\"id\":2172,\"name\":\"in works-cited lists discs in DVD sets\",\"parent\":1215,\"ref\":\"49\"},{\"id\":2173,\"name\":\"in works-cited lists editions\",\"parent\":1215,\"ref\":\"2.3\"},{\"id\":2174,\"name\":\"in works-cited lists episodes\",\"parent\":1215,\"ref\":\"40\"},{\"id\":2175,\"name\":\"in works-cited lists issues\",\"parent\":1215,\"ref\":\"3940\"},{\"id\":2176,\"name\":\"in works-cited lists seasons of television series\",\"parent\":1215,\"ref\":\"40\"},{\"id\":2177,\"name\":\"in works-cited lists versions\",\"parent\":1215,\"ref\":\"2.3\"},{\"id\":2178,\"name\":\"in works-cited lists volumes\",\"parent\":1215,\"ref\":\"39\"},{\"id\":1216,\"name\":\"in works-cited lists objects generic descriptions of\",\"parent\":165,\"ref\":\"2829\"},{\"id\":1217,\"name\":\"in works-cited lists objects locations of\",\"parent\":165,\"ref\":\"4950\"},{\"id\":1218,\"name\":\"online databases journal articles in\",\"parent\":166,\"ref\":\"3\"},{\"id\":1219,\"name\":\"online databases possibly incorrect dates in\",\"parent\":166,\"ref\":\"47\"},{\"id\":1220,\"name\":\"online databases in works-cited lists\",\"parent\":166,\"ref\":\"31\"},{\"id\":167,\"name\":\"in works-cited lists online forums\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":168,\"name\":\"of authors online usernames\",\"parent\":null,\"ref\":\"24, 2.1.1\"},{\"id\":1221,\"name\":\"in works-cited lists optional elements access dates as\",\"parent\":169,\"ref\":\"53\"},{\"id\":1222,\"name\":\"in works-cited lists optional elements cities of publication of books as\",\"parent\":169,\"ref\":\"51\"},{\"id\":1223,\"name\":\"in works-cited lists optional elements dates of prior publication as\",\"parent\":169,\"ref\":\"50, 53\"},{\"id\":1224,\"name\":\"in works-cited lists optional elements decisions on including\",\"parent\":169,\"ref\":\"50\"},{\"id\":1225,\"name\":\"in works-cited lists optional elements series as\",\"parent\":169,\"ref\":\"52\"},{\"id\":1226,\"name\":\"in works-cited lists optional elements total numbers of volumes as\",\"parent\":169,\"ref\":\"5152\"},{\"id\":1227,\"name\":\"in works-cited lists optional elements types of works as\",\"parent\":169,\"ref\":\"52\"},{\"id\":170,\"name\":\"romanizing non-English names of organizations\",\"parent\":null,\"ref\":\"1.3.8\"},{\"id\":171,\"name\":\"other contributors\",\"parent\":null,\"ref\":\"3738\"},{\"id\":1228,\"name\":\"other contributors given alone last names of\",\"parent\":171,\"ref\":\"103, 2.2.1\"},{\"id\":1229,\"name\":\"other contributors original authors as\",\"parent\":171,\"ref\":\"23\"},{\"id\":1230,\"name\":\"page numbers abbreviation with\",\"parent\":172,\"ref\":\"1.6.2\"},{\"id\":1231,\"name\":\"page numbers commas not used in\",\"parent\":172,\"ref\":\"1.4.2\"},{\"id\":1232,\"name\":\"page numbers in in-text citations\",\"parent\":172,\"ref\":\"5458, 3.3.1\"},{\"id\":2179,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1232,\"ref\":\"3.3.2\"},{\"id\":2180,\"name\":\"in works-cited lists book collections\",\"parent\":1233,\"ref\":\"46\"},{\"id\":2181,\"name\":\"in works-cited lists in periodicals consecutive\",\"parent\":1233,\"ref\":\"46\"},{\"id\":2182,\"name\":\"in works-cited lists in periodicals not consecutive\",\"parent\":1233,\"ref\":\"2.5.1\"},{\"id\":2183,\"name\":\"in works-cited lists plus signs\",\"parent\":1233,\"ref\":\"2.5.1\"},{\"id\":1234,\"name\":\"paragraphs abbreviation with numbers for\",\"parent\":174,\"ref\":\"1.6.2\"},{\"id\":1235,\"name\":\"paragraphs in block quotations\",\"parent\":174,\"ref\":\"77\"},{\"id\":1236,\"name\":\"paraphrasing avoiding plagiarism in\",\"parent\":175,\"ref\":\"9\"},{\"id\":1237,\"name\":\"paraphrasing integrated in text\",\"parent\":175,\"ref\":\"1.3.1\"},{\"id\":1238,\"name\":\"paraphrasing sources needed for\",\"parent\":175,\"ref\":\"5758\"},{\"id\":2184,\"name\":\"with quotations alterations to sources\",\"parent\":1239,\"ref\":\"1.3.6\"},{\"id\":2185,\"name\":\"with quotations ellipses in sources\",\"parent\":1239,\"ref\":\"85\"},{\"id\":1240,\"name\":\"parentheses real names of pseudonymous authors in\",\"parent\":176,\"ref\":\"2.1.1\"},{\"id\":2186,\"name\":\"in text full Latin names\",\"parent\":1241,\"ref\":\"65\"},{\"id\":2187,\"name\":\"in text shortened titles\",\"parent\":1241,\"ref\":\"1.2.3\"},{\"id\":2188,\"name\":\"in text translations of quotations\",\"parent\":1241,\"ref\":\"1.3.8\"},{\"id\":2189,\"name\":\"in text translations of titles\",\"parent\":1241,\"ref\":\"1.2.5\"},{\"id\":178,\"name\":\"William Riley Parker\",\"parent\":null,\"ref\":\"x\"},{\"id\":179,\"name\":\"Tim Parks\",\"parent\":null,\"ref\":\"ix, xiii\"},{\"id\":1242,\"name\":\"other than page numbers part numbers abbreviations with\",\"parent\":180,\"ref\":\"1.6.2\"},{\"id\":1243,\"name\":\"other than page numbers part numbers in in-text citations\",\"parent\":180,\"ref\":\"56, 3.3.2\"},{\"id\":1244,\"name\":\"periodicals on digital platforms back issues of\",\"parent\":182,\"ref\":\"31\"},{\"id\":1245,\"name\":\"periodicals gathering information on\",\"parent\":182,\"ref\":\"16\"},{\"id\":1246,\"name\":\"periodicals specialized style of page numbers in\",\"parent\":182,\"ref\":\"3.3.1\"},{\"id\":2190,\"name\":\"in works-cited lists authors\",\"parent\":1247,\"ref\":\"21\"},{\"id\":2191,\"name\":\"in works-cited lists cities of publication of newspapers\",\"parent\":1247,\"ref\":\"2.6.1\"},{\"id\":2192,\"name\":\"in works-cited lists formats for titles\",\"parent\":1247,\"ref\":\"2728, 30\"},{\"id\":2193,\"name\":\"in works-cited lists consecutive page numbers\",\"parent\":1247,\"ref\":\"46\"},{\"id\":2194,\"name\":\"in works-cited lists not consecutive page numbers\",\"parent\":1247,\"ref\":\"2.5.1\"},{\"id\":2195,\"name\":\"in works-cited lists pseudonymous authors\",\"parent\":1247,\"ref\":\"24\"},{\"id\":2196,\"name\":\"in works-cited lists publication dates\",\"parent\":1247,\"ref\":\"4243, 4445\"},{\"id\":2197,\"name\":\"in works-cited lists publishers omitted\",\"parent\":1247,\"ref\":\"42\"},{\"id\":2198,\"name\":\"in works-cited lists seasons\",\"parent\":1247,\"ref\":\"1.5\"},{\"id\":2199,\"name\":\"in works-cited lists volume and issue numbers\",\"parent\":1247,\"ref\":\"3940\"},{\"id\":1248,\"name\":\"periods (punctuation) in abbreviations\",\"parent\":183,\"ref\":\"1.6\"},{\"id\":1249,\"name\":\"periods (punctuation) ellipses with\",\"parent\":183,\"ref\":\"1.3.5\"},{\"id\":1250,\"name\":\"periods (punctuation) quotation marks with\",\"parent\":183,\"ref\":\"8889, 1.2.4, 1.3.2\"},{\"id\":1251,\"name\":\"periods (punctuation) in works-cited lists\",\"parent\":183,\"ref\":\"20\"},{\"id\":184,\"name\":\"permalinks\",\"parent\":null,\"ref\":\"48\"},{\"id\":185,\"name\":\"pinyin\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1252,\"name\":\"place-names in languages other than English\",\"parent\":186,\"ref\":\"1.2.5\"},{\"id\":1253,\"name\":\"place-names romanizing\",\"parent\":186,\"ref\":\"1.3.8\"},{\"id\":1254,\"name\":\"plagiarism avoiding\",\"parent\":187,\"ref\":\"910\"},{\"id\":1255,\"name\":\"plagiarism common knowledge and\",\"parent\":187,\"ref\":\"10\"},{\"id\":1256,\"name\":\"plagiarism definition of\",\"parent\":187,\"ref\":\"67\"},{\"id\":1257,\"name\":\"plagiarism forms of\",\"parent\":187,\"ref\":\"79\"},{\"id\":1258,\"name\":\"plagiarism of own writings\",\"parent\":187,\"ref\":\"8\"},{\"id\":1259,\"name\":\"plagiarism seriousness of\",\"parent\":187,\"ref\":\"7\"},{\"id\":189,\"name\":\"plus signs with page numbers\",\"parent\":null,\"ref\":\"2.5.1\"},{\"id\":1260,\"name\":\"poetry gathering information on\",\"parent\":190,\"ref\":\"16\"},{\"id\":1261,\"name\":\"poetry quotations of\",\"parent\":190,\"ref\":\"1.3.3\"},{\"id\":2200,\"name\":\"quotations of division numbers\",\"parent\":1261,\"ref\":\"12122, 1.3.3, 3.3.2\"},{\"id\":2201,\"name\":\"quotations of ellipses\",\"parent\":1261,\"ref\":\"8385\"},{\"id\":2202,\"name\":\"quotations of line and stanza breaks\",\"parent\":1261,\"ref\":\"1.3.3\"},{\"id\":1262,\"name\":\"poetry titles of works of\",\"parent\":190,\"ref\":\"2627, 1.2.2\"},{\"id\":2203,\"name\":\"titles of works of first lines as titles\",\"parent\":1262,\"ref\":\"1.2.1\"},{\"id\":2204,\"name\":\"titles of works of titles within titles\",\"parent\":1262,\"ref\":\"1.2.4\"},{\"id\":2205,\"name\":\"titles of works of untitled\",\"parent\":1262,\"ref\":\"1.2.1\"},{\"id\":192,\"name\":\"research projects presented with <em>PowerPoint</em>\",\"parent\":null,\"ref\":\"128\"},{\"id\":1263,\"name\":\"prefaces documenting\",\"parent\":193,\"ref\":\"2.2.1\"},{\"id\":1264,\"name\":\"prefaces referred to in text\",\"parent\":193,\"ref\":\"70\"},{\"id\":194,\"name\":\"prepositions in titles\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1265,\"name\":\"pronouns altered in quotations\",\"parent\":195,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":1266,\"name\":\"pronouns capitalized in titles\",\"parent\":195,\"ref\":\"1.2.1\"},{\"id\":1267,\"name\":\"pronouns in languages other than English\",\"parent\":195,\"ref\":\"1.2.5\"},{\"id\":196,\"name\":\"prose style and mechanics\",\"parent\":null,\"ref\":\"61101\"},{\"id\":1268,\"name\":\"prose style and mechanics abbreviations\",\"parent\":196,\"ref\":\"1.6\"},{\"id\":1269,\"name\":\"prose style and mechanics dates and times\",\"parent\":196,\"ref\":\"1.5\"},{\"id\":1270,\"name\":\"prose style and mechanics names of persons\",\"parent\":196,\"ref\":\"1.1\"},{\"id\":1271,\"name\":\"prose style and mechanics numbers\",\"parent\":196,\"ref\":\"1.4\"},{\"id\":1272,\"name\":\"prose style and mechanics quotations\",\"parent\":196,\"ref\":\"1.3\"},{\"id\":1273,\"name\":\"prose style and mechanics titles of sources\",\"parent\":196,\"ref\":\"1.2\"},{\"id\":1274,\"name\":\"pseudonyms in text\",\"parent\":197,\"ref\":\"1.1.3\"},{\"id\":1275,\"name\":\"pseudonyms in works-cited lists\",\"parent\":197,\"ref\":\"24, 2.1.1\"},{\"id\":198,\"name\":\"publication dates\",\"parent\":null,\"ref\":\"4245\"},{\"id\":1276,\"name\":\"publication dates gathering information on\",\"parent\":198,\"ref\":\"15, 45, 46, 47\"},{\"id\":2206,\"name\":\"in works-cited lists abbreviations for months\",\"parent\":1277,\"ref\":\"1.6.1\"},{\"id\":2207,\"name\":\"in works-cited lists approximated\",\"parent\":1277,\"ref\":\"2.6.1\"},{\"id\":2208,\"name\":\"in works-cited lists books\",\"parent\":1277,\"ref\":\"45, 46\"},{\"id\":2209,\"name\":\"in works-cited lists DVDs\",\"parent\":1277,\"ref\":\"44\"},{\"id\":2210,\"name\":\"in works-cited lists original\",\"parent\":1277,\"ref\":\"50, 53\"},{\"id\":2211,\"name\":\"in works-cited lists periodicals\",\"parent\":1277,\"ref\":\"45\"},{\"id\":2212,\"name\":\"in works-cited lists prior\",\"parent\":1277,\"ref\":\"50, 53\"},{\"id\":2213,\"name\":\"in works-cited lists television episodes\",\"parent\":1277,\"ref\":\"43\"},{\"id\":2214,\"name\":\"in works-cited lists Web sites\",\"parent\":1277,\"ref\":\"4243, 4445\"},{\"id\":1278,\"name\":\"publication facts evaluating\",\"parent\":199,\"ref\":\"12\"},{\"id\":1279,\"name\":\"publication facts gathering\",\"parent\":199,\"ref\":\"13, 1418\"},{\"id\":1280,\"name\":\"publication facts missing in sources\",\"parent\":199,\"ref\":\"2.6.1\"},{\"id\":1281,\"name\":\"publishers definition of\",\"parent\":200,\"ref\":\"40\"},{\"id\":1282,\"name\":\"publishers gathering information on\",\"parent\":200,\"ref\":\"14, 41, 2.4\"},{\"id\":2215,\"name\":\"in works-cited lists abbreviations\",\"parent\":1283,\"ref\":\"1.6.23\"},{\"id\":2216,\"name\":\"in works-cited lists copublishers\",\"parent\":1283,\"ref\":\"4041, 2.4, 2.6.2\"},{\"id\":2217,\"name\":\"in works-cited lists corporate authors as publishers\",\"parent\":1283,\"ref\":\"25, 2.1.3\"},{\"id\":2218,\"name\":\"in works-cited lists imprints\",\"parent\":1283,\"ref\":\"2.4\"},{\"id\":2219,\"name\":\"in works-cited lists missing in sources\",\"parent\":1283,\"ref\":\"2.6.1\"},{\"id\":2220,\"name\":\"in works-cited lists multiple publishers of a source\",\"parent\":1283,\"ref\":\"4041\"},{\"id\":2221,\"name\":\"in works-cited lists omitting publishers\",\"parent\":1283,\"ref\":\"42\"},{\"id\":2222,\"name\":\"in works-cited lists online media\",\"parent\":1283,\"ref\":\"4142\"},{\"id\":2223,\"name\":\"in works-cited lists parent companies and divisions\",\"parent\":1283,\"ref\":\"2.4\"},{\"id\":1284,\"name\":\"punctuation in abbreviations\",\"parent\":201,\"ref\":\"1.6\"},{\"id\":1285,\"name\":\"punctuation in in-text citations\",\"parent\":201,\"ref\":\"5458, 3.6\"},{\"id\":2224,\"name\":\"in text ellipses\",\"parent\":1286,\"ref\":\"1.3.5\"},{\"id\":1287,\"name\":\"punctuation in works-cited lists\",\"parent\":201,\"ref\":\"20, 2.6\"},{\"id\":2226,\"name\":\"in works-cited lists authors names\",\"parent\":1287,\"ref\":\"2122\"},{\"id\":2227,\"name\":\"in works-cited lists multiple works by same author\",\"parent\":1287,\"ref\":\"2.7.2\"},{\"id\":2228,\"name\":\"in works-cited lists titles of containers\",\"parent\":1287,\"ref\":\"30\"},{\"id\":2229,\"name\":\"in works-cited lists titles of sources\",\"parent\":1287,\"ref\":\"1.2.1\"},{\"id\":1288,\"name\":\"question marks and quotations\",\"parent\":202,\"ref\":\"1.3.7\"},{\"id\":1289,\"name\":\"question marks uncertain dates indicated by\",\"parent\":202,\"ref\":\"1.5, 2.6.1\"},{\"id\":1290,\"name\":\"quotation marks in-text citations and\",\"parent\":203,\"ref\":\"54\"},{\"id\":1291,\"name\":\"quotation marks with poetry quotations\",\"parent\":203,\"ref\":\"1.3.3, 1.3.7\"},{\"id\":1292,\"name\":\"quotation marks with prose quotations\",\"parent\":203,\"ref\":\"1.3.2, 1.3.7\"},{\"id\":1293,\"name\":\"quotation marks single and double\",\"parent\":203,\"ref\":\"1.2.4, 1.3.78\"},{\"id\":1294,\"name\":\"quotation marks with titles of sources\",\"parent\":203,\"ref\":\"2529, 1.2.2\"},{\"id\":1295,\"name\":\"quotation marks titles within titles and\",\"parent\":203,\"ref\":\"1.2.4\"},{\"id\":204,\"name\":\"quotations\",\"parent\":null,\"ref\":\"1.3\"},{\"id\":1296,\"name\":\"quotations accuracy and effective use of\",\"parent\":204,\"ref\":\"1.3.1\"},{\"id\":1297,\"name\":\"quotations altered for clarity\",\"parent\":204,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":1298,\"name\":\"quotations of drama\",\"parent\":204,\"ref\":\"1.3.4\"},{\"id\":1299,\"name\":\"quotations ellipses in\",\"parent\":204,\"ref\":\"1.3.5\"},{\"id\":1300,\"name\":\"quotations in-text citations and\",\"parent\":204,\"ref\":\"5458\"},{\"id\":2230,\"name\":\"in-text citations and alterations of quotations\",\"parent\":1300,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":2231,\"name\":\"in-text citations and location indicators other than pages\",\"parent\":1300,\"ref\":\"3.3.2\"},{\"id\":1301,\"name\":\"quotations of poetry\",\"parent\":204,\"ref\":\"1.3.3, 1.3.7\"},{\"id\":1302,\"name\":\"quotations of prose\",\"parent\":204,\"ref\":\"1.3.2, 1.3.7\"},{\"id\":1303,\"name\":\"quotations punctuation with\",\"parent\":204,\"ref\":\"1.3.7\"},{\"id\":2232,\"name\":\"punctuation with colons before block quotations\",\"parent\":1303,\"ref\":\"1.3.23, 1.3.7\"},{\"id\":2233,\"name\":\"punctuation with retained from original source\",\"parent\":1303,\"ref\":\"1.3.7\"},{\"id\":1304,\"name\":\"quotations quotations consisting solely of\",\"parent\":204,\"ref\":\"1.3.7\"},{\"id\":1305,\"name\":\"quotations titles including\",\"parent\":204,\"ref\":\"1.2.1\"},{\"id\":1306,\"name\":\"quotations translations of\",\"parent\":204,\"ref\":\"1.3.8\"},{\"id\":1307,\"name\":\"quotations from works in multiple editions\",\"parent\":204,\"ref\":\"3.3.2\"},{\"id\":205,\"name\":\"Koran) Quran (Quran\",\"parent\":null,\"ref\":\"69, 12223\"},{\"id\":1308,\"name\":\"audio recordings timings in\",\"parent\":206,\"ref\":\"57\"},{\"id\":1309,\"name\":\"audio recordings titles of songs and albums\",\"parent\":206,\"ref\":\"28\"},{\"id\":1310,\"name\":\"audio recordings in works-cited lists versions of\",\"parent\":206,\"ref\":\"39\"},{\"id\":207,\"name\":\"recordkeeping in research\",\"parent\":null,\"ref\":\"8, 910, 12\"},{\"id\":208,\"name\":\"names of persons in Renaissance\",\"parent\":null,\"ref\":\"6566\"},{\"id\":210,\"name\":\"<em>rev.\",\"parent\":null,\"ref\":\"2.3</em>\"},{\"id\":211,\"name\":\"untitled reviews\",\"parent\":null,\"ref\":\"29\"},{\"id\":212,\"name\":\"romanization\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1311,\"name\":\"romanization of authors names\",\"parent\":212,\"ref\":\"1.3.8, 2.1.1\"},{\"id\":1312,\"name\":\"romanization of quotations\",\"parent\":212,\"ref\":\"74, 1.3.8\"},{\"id\":1313,\"name\":\"romanization of titles of sources\",\"parent\":212,\"ref\":\"74, 1.3.8\"},{\"id\":213,\"name\":\"roman numerals\",\"parent\":null,\"ref\":\"1.4.4\"},{\"id\":1314,\"name\":\"roman numerals arabic numerals vs.\",\"parent\":213,\"ref\":\"1.4\"},{\"id\":1315,\"name\":\"roman numerals names of persons with\",\"parent\":213,\"ref\":\"1.4.4, 2.1.2\"},{\"id\":1316,\"name\":\"roman numerals page numbers as\",\"parent\":213,\"ref\":\"3.3.1\"},{\"id\":1317,\"name\":\"roman numerals reduced use of\",\"parent\":213,\"ref\":\"xi\"},{\"id\":214,\"name\":\"ancient Roman works\",\"parent\":null,\"ref\":\"122\"},{\"id\":1318,\"name\":\"Russian authors names in\",\"parent\":215,\"ref\":\"2.1.1\"},{\"id\":1319,\"name\":\"Russian quotations and titles of sources in\",\"parent\":215,\"ref\":\"74, 1.3.8\"},{\"id\":216,\"name\":\"use of title <em>Saint</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":1320,\"name\":\"scripture documentation of\",\"parent\":217,\"ref\":\"12223\"},{\"id\":1321,\"name\":\"scripture titles in\",\"parent\":217,\"ref\":\"69\"},{\"id\":218,\"name\":\"search engines\",\"parent\":null,\"ref\":\"x, 12\"},{\"id\":1322,\"name\":\"seasons in publication dates\",\"parent\":219,\"ref\":\"1.5\"},{\"id\":1323,\"name\":\"seasons of a television series\",\"parent\":219,\"ref\":\"40\"},{\"id\":221,\"name\":\"self-published works\",\"parent\":null,\"ref\":\"42\"},{\"id\":1324,\"name\":\"semicolons in in-text citations\",\"parent\":222,\"ref\":\"1.3.8, 3.3.2, 3.6\"},{\"id\":1325,\"name\":\"semicolons with quotation marks\",\"parent\":222,\"ref\":\"89\"},{\"id\":223,\"name\":\"seminar titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":224,\"name\":\"numbered series\",\"parent\":null,\"ref\":\"1.4.1\"},{\"id\":1326,\"name\":\"William Shakespeare abbreviations for titles of\",\"parent\":225,\"ref\":\"10001, 3.2.1\"},{\"id\":1327,\"name\":\"William Shakespeare location indicators other than pages in\",\"parent\":225,\"ref\":\"12122\"},{\"id\":226,\"name\":\"<em>sic\",\"parent\":null,\"ref\":\"1.3.6</em>\"},{\"id\":227,\"name\":\"use of title <em>Sir</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":229,\"name\":\"research projects as slide-based presentations\",\"parent\":null,\"ref\":\"128\"},{\"id\":1328,\"name\":\"software for managing information about sources\",\"parent\":230,\"ref\":\"12\"},{\"id\":1329,\"name\":\"software research projects presented with\",\"parent\":230,\"ref\":\"128\"},{\"id\":1330,\"name\":\"sources authority of\",\"parent\":232,\"ref\":\"1012\"},{\"id\":1331,\"name\":\"sources differences among copies of\",\"parent\":232,\"ref\":\"31\"},{\"id\":1332,\"name\":\"sources evaluating\",\"parent\":232,\"ref\":\"1012\"},{\"id\":1333,\"name\":\"sources gathering information on\",\"parent\":232,\"ref\":\"1318\"},{\"id\":1334,\"name\":\"sources indirect\",\"parent\":232,\"ref\":\"3.4\"},{\"id\":1335,\"name\":\"sources mobility of\",\"parent\":232,\"ref\":\"3\"},{\"id\":1336,\"name\":\"sources in research tracking\",\"parent\":232,\"ref\":\"8, 910, 12\"},{\"id\":1337,\"name\":\"Spanish names of persons in\",\"parent\":233,\"ref\":\"66\"},{\"id\":1338,\"name\":\"Spanish titles of sources in\",\"parent\":233,\"ref\":\"74\"},{\"id\":1339,\"name\":\"square brackets in in-text citations\",\"parent\":235,\"ref\":\"3.6\"},{\"id\":2234,\"name\":\"with quotations alterations\",\"parent\":1340,\"ref\":\"1.3.1\"},{\"id\":2235,\"name\":\"with quotations explanations\",\"parent\":1340,\"ref\":\"1.3.6\"},{\"id\":2236,\"name\":\"in works-cited lists translations of titles\",\"parent\":1341,\"ref\":\"2.2.2\"},{\"id\":2237,\"name\":\"in works-cited lists uncertain or additional information\",\"parent\":1341,\"ref\":\"2.6.1\"},{\"id\":1342,\"name\":\"stories in containers\",\"parent\":236,\"ref\":\"35\"},{\"id\":1343,\"name\":\"stories titles of\",\"parent\":236,\"ref\":\"2627, 1.2.2\"},{\"id\":237,\"name\":\"street addresses\",\"parent\":null,\"ref\":\"1.4.2\"},{\"id\":1344,\"name\":\"subtitles capitalization and punctuation of\",\"parent\":238,\"ref\":\"25, 27, 1.2.1\"},{\"id\":1345,\"name\":\"subtitles on books finding\",\"parent\":238,\"ref\":\"14, 27\"},{\"id\":1346,\"name\":\"subtitles in text omitting\",\"parent\":238,\"ref\":\"1.2.3\"},{\"id\":239,\"name\":\"suffixes of authors names\",\"parent\":null,\"ref\":\"2.1.2\"},{\"id\":1347,\"name\":\"symbols and special characters @\",\"parent\":240,\"ref\":\"24, 2.1.1, 2.7.1\"},{\"id\":1348,\"name\":\"symbols and special characters accents and other diacritics\",\"parent\":240,\"ref\":\"2.7.1\"},{\"id\":1349,\"name\":\"symbols and special characters numbers used with\",\"parent\":240,\"ref\":\"1.4.1\"},{\"id\":1350,\"name\":\"Talmud abbreviations for books in\",\"parent\":242,\"ref\":\"9799\"},{\"id\":1351,\"name\":\"Talmud in in-text citations\",\"parent\":242,\"ref\":\"122\"},{\"id\":1352,\"name\":\"Talmud titles of\",\"parent\":242,\"ref\":\"69\"},{\"id\":246,\"name\":\"times and time zones\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":1353,\"name\":\"title pages publication dates on\",\"parent\":247,\"ref\":\"45, 47\"},{\"id\":1354,\"name\":\"title pages publisher information on\",\"parent\":247,\"ref\":\"14, 41, 10709\"},{\"id\":1355,\"name\":\"title pages titles and subtitles on\",\"parent\":247,\"ref\":\"2627\"},{\"id\":248,\"name\":\"omitted titles of authors\",\"parent\":null,\"ref\":\"1.1.2, 2.1.2\"},{\"id\":1356,\"name\":\"titles of containers definition of\",\"parent\":249,\"ref\":\"3031\"},{\"id\":1357,\"name\":\"titles of containers italics for\",\"parent\":249,\"ref\":\"1.2.2\"},{\"id\":1358,\"name\":\"titles of containers for nested containers\",\"parent\":249,\"ref\":\"3136\"},{\"id\":1359,\"name\":\"titles of sources formatting\",\"parent\":250,\"ref\":\"1.2\"},{\"id\":2238,\"name\":\"formatting capitalization and punctuation\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":2239,\"name\":\"formatting italics and quotation marks\",\"parent\":1359,\"ref\":\"1.2.2\"},{\"id\":2240,\"name\":\"formatting languages other than English\",\"parent\":1359,\"ref\":\"1.2.5\"},{\"id\":2241,\"name\":\"formatting quotations in titles\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":2242,\"name\":\"formatting titles within titles\",\"parent\":1359,\"ref\":\"1.2.4\"},{\"id\":2243,\"name\":\"formatting untitled poems\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":1360,\"name\":\"titles of sources gathering information on\",\"parent\":250,\"ref\":\"1318, 67\"},{\"id\":1361,\"name\":\"titles of sources in in-text citations\",\"parent\":250,\"ref\":\"5556, 3.2\"},{\"id\":2244,\"name\":\"in in-text citations abbreviating titles\",\"parent\":1361,\"ref\":\"1.6.4, 3.2.1\"},{\"id\":2245,\"name\":\"in in-text citations descriptive terms in place of titles\",\"parent\":1361,\"ref\":\"3.2.2\"},{\"id\":1362,\"name\":\"titles of sources shortened forms of in text\",\"parent\":250,\"ref\":\"1.2.3\"},{\"id\":1363,\"name\":\"titles of sources in works-cited lists\",\"parent\":250,\"ref\":\"2529, 2.2\"},{\"id\":2246,\"name\":\"in works-cited lists alphabetizing by titles\",\"parent\":1363,\"ref\":\"2.7.4\"},{\"id\":2247,\"name\":\"in works-cited lists articles online or in print\",\"parent\":1363,\"ref\":\"2728\"},{\"id\":2248,\"name\":\"in works-cited lists prefaces introductions\",\"parent\":1363,\"ref\":\"2.2.1\"},{\"id\":2249,\"name\":\"in works-cited lists songs and other parts of albums\",\"parent\":1363,\"ref\":\"28\"},{\"id\":2250,\"name\":\"in works-cited lists start of entry\",\"parent\":1363,\"ref\":\"2425, 2.7.4\"},{\"id\":2251,\"name\":\"in works-cited lists translations of titles\",\"parent\":1363,\"ref\":\"2.2.2\"},{\"id\":2252,\"name\":\"in works-cited lists untitled works\",\"parent\":1363,\"ref\":\"2829\"},{\"id\":251,\"name\":\"<em>to</em> in infinitives in titles\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1364,\"name\":\"translations of quotations\",\"parent\":253,\"ref\":\"1.3.8\"},{\"id\":1365,\"name\":\"translations of titles\",\"parent\":253,\"ref\":\"72, 2.2.2\"},{\"id\":1366,\"name\":\"translators names <em>my trans</em>. in place of\",\"parent\":254,\"ref\":\"1.3.8\"},{\"id\":1367,\"name\":\"translators names in works-cited lists\",\"parent\":254,\"ref\":\"23, 37, 38\"},{\"id\":255,\"name\":\"treaty titles\",\"parent\":null,\"ref\":\"69\"},{\"id\":2253,\"name\":\"names of authors of alphabetizing\",\"parent\":1368,\"ref\":\"112\"},{\"id\":2254,\"name\":\"names of authors of formatting\",\"parent\":1368,\"ref\":\"24\"},{\"id\":2255,\"name\":\"names of authors of real names added\",\"parent\":1368,\"ref\":\"102\"},{\"id\":1369,\"name\":\"in works-cited lists tweets titles of\",\"parent\":256,\"ref\":\"29\"},{\"id\":258,\"name\":\"uniform resource locators (URLs)\",\"parent\":null,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":259,\"name\":\"as author United Nations\",\"parent\":null,\"ref\":\"25, 2.1.3\"},{\"id\":260,\"name\":\"departments and agencies of United States\",\"parent\":null,\"ref\":\"2.1.3, 3.1.2\"},{\"id\":261,\"name\":\"as author United States Congress\",\"parent\":null,\"ref\":\"53, 2.1.3\"},{\"id\":262,\"name\":\"abbreviations of <em>University</em>\",\"parent\":null,\"ref\":\"1.6.23\"},{\"id\":263,\"name\":\"names of university presses\",\"parent\":null,\"ref\":\"1.6.3\"},{\"id\":1370,\"name\":\"untitled sources poems as\",\"parent\":264,\"ref\":\"1.2.1\"},{\"id\":1371,\"name\":\"untitled sources in works-cited lists\",\"parent\":264,\"ref\":\"2829\"},{\"id\":265,\"name\":\"Upanishads\",\"parent\":null,\"ref\":\"69\"},{\"id\":266,\"name\":\"URLs\",\"parent\":null,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":267,\"name\":\"capitalized in titles verbs\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":2256,\"name\":\"in in-text citations scripture\",\"parent\":1372,\"ref\":\"12223\"},{\"id\":2257,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1372,\"ref\":\"57, 3.3.2\"},{\"id\":1373,\"name\":\"versions in works-cited lists\",\"parent\":268,\"ref\":\"3839, 2.3\"},{\"id\":270,\"name\":\"names of persons in Vietnamese\",\"parent\":null,\"ref\":\"63, 1.1.1\"},{\"id\":272,\"name\":\"in German last names <em>von</em>\",\"parent\":null,\"ref\":\"6465\"},{\"id\":273,\"name\":\"Wade-Giles system\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1374,\"name\":\"Web sites italics for titles of\",\"parent\":274,\"ref\":\"1.2.2\"},{\"id\":2258,\"name\":\"in works-cited lists dates\",\"parent\":1375,\"ref\":\"4243, 4445, 53\"},{\"id\":2259,\"name\":\"in works-cited lists publishers\",\"parent\":1375,\"ref\":\"4142\"},{\"id\":2260,\"name\":\"in works-cited lists titles\",\"parent\":1375,\"ref\":\"28, 30\"},{\"id\":2261,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1375,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":275,\"name\":\"<em>Wikipedia</em>\",\"parent\":null,\"ref\":\"12\"},{\"id\":276,\"name\":\"works-cited lists\",\"parent\":null,\"ref\":\"2054, 10216\"},{\"id\":1376,\"name\":\"works-cited lists core elements of\",\"parent\":276,\"ref\":\"2054\"},{\"id\":2262,\"name\":\"core elements of authors names\",\"parent\":1376,\"ref\":\"2125, 2.1, 2.7.23\"},{\"id\":2263,\"name\":\"core elements of locations\",\"parent\":1376,\"ref\":\"46, 4850\"},{\"id\":2264,\"name\":\"core elements of multiple comparable items\",\"parent\":1376,\"ref\":\"2.6.2\"},{\"id\":2265,\"name\":\"core elements of numbers\",\"parent\":1376,\"ref\":\"3940\"},{\"id\":2266,\"name\":\"core elements of other contributors\",\"parent\":1376,\"ref\":\"3738\"},{\"id\":2267,\"name\":\"core elements of publication dates\",\"parent\":1376,\"ref\":\"4245, 46, 1.5, 1.6.1\"},{\"id\":2268,\"name\":\"core elements of publishers\",\"parent\":1376,\"ref\":\"4042, 1.6.23\"},{\"id\":2269,\"name\":\"core elements of titles of containers\",\"parent\":1376,\"ref\":\"3036\"},{\"id\":2270,\"name\":\"core elements of titles of sources\",\"parent\":1376,\"ref\":\"2529, 1.2, 2.2\"},{\"id\":2271,\"name\":\"core elements of versions\",\"parent\":1376,\"ref\":\"3839\"},{\"id\":2272,\"name\":\"cross-references in varying names of authors\",\"parent\":1377,\"ref\":\"2.1.1\"},{\"id\":2273,\"name\":\"cross-references in works in collections\",\"parent\":1377,\"ref\":\"2.7.5\"},{\"id\":1378,\"name\":\"works-cited lists definition of\",\"parent\":276,\"ref\":\"20\"},{\"id\":1379,\"name\":\"works-cited lists formatting and ordering\",\"parent\":276,\"ref\":\"2.7\"},{\"id\":2274,\"name\":\"formatting and ordering hanging indention\",\"parent\":1379,\"ref\":\"2.7\"},{\"id\":2275,\"name\":\"formatting and ordering heading\",\"parent\":1379,\"ref\":\"20, 2.7\"},{\"id\":2276,\"name\":\"formatting and ordering letter-by-letter alphabetization\",\"parent\":1379,\"ref\":\"2.7.1\"},{\"id\":2277,\"name\":\"formatting and ordering multiple works by coauthors\",\"parent\":1379,\"ref\":\"2.7.23\"},{\"id\":2278,\"name\":\"formatting and ordering multiple works by one author\",\"parent\":1379,\"ref\":\"2.1.3, 2.7.2\"},{\"id\":2279,\"name\":\"formatting and ordering titles used for alphabetization\",\"parent\":1379,\"ref\":\"2.7.4\"},{\"id\":1380,\"name\":\"works-cited lists in-text citations in relation to\",\"parent\":276,\"ref\":\"54\"},{\"id\":1381,\"name\":\"works-cited lists names in languages other than English in\",\"parent\":276,\"ref\":\"1.1.1, 1.1.4\"},{\"id\":1382,\"name\":\"works-cited lists optional elements in\",\"parent\":276,\"ref\":\"5053\"},{\"id\":1383,\"name\":\"works-cited lists organizing information for\",\"parent\":276,\"ref\":\"34, 19\"},{\"id\":1384,\"name\":\"works-cited lists in research projects in nonprint media\",\"parent\":276,\"ref\":\"128\"},{\"id\":1385,\"name\":\"works-cited lists seasons in\",\"parent\":276,\"ref\":\"1.5\"},{\"id\":1386,\"name\":\"works-cited lists template for\",\"parent\":276,\"ref\":\"129\"},{\"id\":277,\"name\":\"workshop titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":1387,\"name\":\"years in works-cited list approximated\",\"parent\":278,\"ref\":\"2.6.1\"},{\"id\":1388,\"name\":\"years commas not used in\",\"parent\":278,\"ref\":\"1.4.2\"},{\"id\":1389,\"name\":\"years ranges of\",\"parent\":278,\"ref\":\"1.4.3\"}]\n\n},{}],58:[function(require,module,exports){\n/* FAQ module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  $('a.toggle-answer').each(function() {\n    $(this).on('click', function(e) {\n      e.preventDefault();\n\n      $(this)\n        .toggleClass('toggle')\n        .siblings('.answer').toggle();\n    });\n  });\n\n};\n\n},{}],59:[function(require,module,exports){\n(function (global){\n/**\n * Main theme JS file driven by CommonJS and Browserify.\n */\n\n'use strict';\n\nvar jQuery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar underscore = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nvar Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n\n// Side-shim jQuery and Underscore before requiring Marionette.\nBackbone.$ = jQuery;\nBackbone._ = underscore;\nrequire('backbone.marionette');\n\n// Create the application.\nvar App = new Backbone.Marionette.Application();\n\n// Add regions.\nApp.addRegions({\n  BookRefs: '#search-book-refs',\n  Content: '#citation-tool'\n}); \n\n\n// Load Marionette modules.\nApp.module('BookIndex', require('./book-index'));\nApp.module('Citations', require('./citations'));\n\n// Start the history listener.\nApp.on('start', function () {\n  // expect DOM to be loaded at this point\n  // Load generic modules.\n  //require('./search-hints')(jQuery);\n  require('./page-menu')(jQuery);\n  require('./faq')(jQuery);\n  require('./bylines')(jQuery);\n  require('./teaching-resources')(jQuery);\n\n  Backbone.history.start({\n    pushState: true,\n    root: '/'\n  });\n});\n\n// Start the application.\nApp.start();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./book-index\":39,\"./bylines\":47,\"./citations\":49,\"./faq\":58,\"./page-menu\":60,\"./teaching-resources\":61,\"backbone.marionette\":6}],60:[function(require,module,exports){\n/* Page menu module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  var $button = $('.page-sub-menu-link');\n  var $targets = $('.page-sub-menu-link, .page-sub-menu');\n  var $parent = $('.page-menu');\n\n  var activeClass = 'page-menu-active';\n  var hoverOutDelay = 250;\n\n  $targets.on({\n    mouseover: function() {\n      if ($button.prop('hoverTimeout')) {\n        $button.prop('hoverTimeout', clearTimeout($button.prop('hoverTimeout')));\n      }\n      $parent.addClass(activeClass);\n    },\n    mouseleave: function() {\n      $button.prop('hoverTimeout', setTimeout(function() {\n        $parent.removeClass(activeClass);\n      }, hoverOutDelay));\n    }\n  });\n\n  if ('ontouchstart' in document) {\n\n    $button.on('touchstart', function(e) {\n\n        e.stopPropagation();\n\n        if ($parent.hasClass(activeClass)) {\n          $parent.removeClass(activeClass);\n        } else {\n          $parent.addClass(activeClass);\n        }\n\n    });\n\n  }\n\n};\n\n},{}],61:[function(require,module,exports){\n/* Teaching Resources module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\t'use strict';\n\n\t$('a.toggle-category').each(function() {\n    \t$(this).on('click', function(e) {\n      \t\te.preventDefault();\n\n      \t\t$(this).closest('section').find('.open-category').toggle();\n      \t\t$(this).closest('section').toggleClass('open');\n\t    });\n \t});\n\t\n};\n},{}]},{},[59])\n\n","( function( root, factory ) {\n\t// UMD wrapper.\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\tvar lastPossibleViewElement = _.isFunction( $ ) ? $( \"body\" )[ 0 ] : null;\n\n\tBackbone.Courier = {};\n\n\tBackbone.Courier.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\tsetElement : view.setElement\n\t\t};\n\n\t\t// ****************** Public Courier functions ****************** \n\n\t\tview.spawn = function( message, data ) {\n\t\t\t// can be called with message argument as an object, in which case message.name is required,\n\t\t\t// or can be called with message as a string that represents the name of the message and\n\t\t\t// data object which will be added to message object at message.data\n\t\t\tif( _.isString( message ) ) {\n\t\t\t\tmessage = {\n\t\t\t\t\tname : message,\n\t\t\t\t\tdata : data\n\t\t\t\t};\n\t\t\t} else if( _.isUndefined( message.name ) ) throw new Error( \"Undefined message name.\" );\n\n\t\t\tmessage.source = view;\n\t\t\tmessage.data = _.isUndefined( message.data ) ? {} : message.data;\n\n\t\t\tthis.trigger( message.name, message.data );\n\n\t\t\tvar isRoundTripMessage = message.name.charAt(message.name.length - 1) === \"!\";\n\n\t\t\tvar curParent = this._getParentView();\n\t\t\tvar messageShouldBePassed;\n\t\t\tvar value;\n\n\t\t\tif( message.name === 'removeButtonClicked' ) console.log( 'gotit' ); // REMOVEME\n\t\n\t\t\twhile( curParent ) {\n\t\t\t\t// check to see if curParent has an action to perform when this message is received.\n\t\t\t\tif( _.isObject( curParent.onMessages ) ) {\n\t\t\t\t\tvalue = getValueOfBestMatchingHashEntry( curParent.onMessages, message, curParent );\n\t\t\t\t\tif( value !== null ) {\n\t\t\t\t\t\tvar method = value;\n\t\t\t\t\t\tif( ! _.isFunction( method ) ) method = curParent[ value ];\n\t\t\t\t\t\tif( ! method ) throw new Error( \"Method \\\"\" + value + \"\\\" does not exist\" );\n\n\t\t\t\t\t\tvar returnValue = method.call( curParent, message.data, message.source, message.name );\n\t\t\t\t\t\tif( isRoundTripMessage ) return returnValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmessageShouldBePassed = isRoundTripMessage;\n\n\t\t\t\t// execute `passMessages` if its configured as a function\n\t\t\t\tvar passMessages = _.result( curParent, \"passMessages\" );\n\t\t\t\t// check to see if this message should be passed up a level\n\t\t\t\tif( _.isObject( passMessages ) ) {\n\t\t\t\t\tvalue = getValueOfBestMatchingHashEntry( passMessages, message, curParent );\n\t\t\t\t\tif( value !== null ) {\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tif( value === \".\" )\n\t\t\t\t\t\t\t; // noop - pass this message through exactly as-is\n\t\t\t\t\t\telse if( _.isString( value ) ) {\n\t\t\t\t\t\t\t// if value is a string, we pass the existing message but\n\t\t\t\t\t\t\t// change the name to the supplied string\n\t\t\t\t\t\t\tmessage.name = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse throw new TypeError( \"Values of passMessages hash should be strings.\" );\n\n\t\t\t\t\t\tmessageShouldBePassed = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( ! messageShouldBePassed ) break; // if this message should not be passed, then we are done\n\n\t\t\t\tmessage.source = curParent; // keep the source of the message current as the message bubbles up the view hierarchy\n\t\t\t\tcurParent = curParent._getParentView();\n\t\t\t}\n\n\t\t\tif( isRoundTripMessage ) return undefined;\n\t\t};\n\n\t\t// supply your own _getParentView function on your view objects\n\t\t// if you would like to use custom means to determine a view's\n\t\t// \"parent\". The default means is to traverse the DOM tree and return\n\t\t// the closest parent element that has a view object attached in el.data( \"view\" )\n\t\tif( ! _.isFunction( view._getParentView ) )\n\t\t\tview._getParentView = function() {\n\t\t\t\tvar parent = null;\n\t\t\t\tvar curElement = this.$el.parent();\n\t\t\t\twhile( curElement.length > 0 && curElement[0] !== lastPossibleViewElement ) {\n\t\t\t\t\tvar view = curElement.data( \"view\" );\n\t\t\t\t\tif( view && _.isFunction( view.render ) ) {\n\t\t\t\t\t\tparent = view;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcurElement = curElement.parent();\n\t\t\t\t}\n\n\t\t\t\treturn parent;\n\t\t\t};\n\n\t\t// supply your own _getChildViewNamed function on your view objects\n\t\t// if you would like to use another means to test the source of your\n\t\t// messages (used for keys of onMessages and passMessages of the form\n\t\t// { \"message source\" : handler }). By default, child views are looked\n\t\t// up by name in view.subviews[ childViewName ] (and then tested against message.source)\n\t\tif( ! _.isFunction( view._getChildViewNamed ) )\n\t\t\tview._getChildViewNamed = function( childViewName ) {\n\t\t\t\tif( ! _.isObject( this.subviews ) ) return null;\n\t\t\t\treturn this.subviews[ childViewName ];\n\t\t\t};\n\n\t\t// ****************** Overridden Backbone.View functions ****************** \n\n\t\tview.setElement = function( element, delegate ) {\n\t\t\tvar retval = overriddenViewMethods.setElement.call( this, element, delegate );\n\t\t\tprepareViewElement( view );\n\t\t\treturn retval;\n\t\t};\n\n\t\t// ****************** Body of Backbone.Courier.add() function ****************** \n\n\t\tif( view.$el ) prepareViewElement( view ); // otherwise this will be done when #setElement is called\n\n\t\t// ****************** Private Utility Functions ****************** \n\n\t\tfunction prepareViewElement( view ) {\n\t\t\t// store a reference to the view object in the DOM element's jQuery data. Make sure it is supported.\n\t\t\tif( _.isFunction( view.$el.data ) && ! view.$el.data( \"view\" ) ) view.$el.data( \"view\", view );\n\t\t}\n\n\t\tfunction getValueOfBestMatchingHashEntry( hash, message, view ) {\n\t\t\t// return the value of the entry in a onMessages or passMessages hash that is the \n\t\t\t// \"most specific\" match for this message, or null, if there are no matches.\n\n\t\t\tvar matchingEntries = [];\n\n\t\t\tfor( var key in hash ) {\n\t\t\t\t// We are looking for keys in the hash that have the `message` argument\n\t\t\t\t// as the first word of their key. If we find one, they either need\n\t\t\t\t// no source qualifier as the second word of the key (in which case\n\t\t\t\t// we will pass this message regardless of where it comes from),\n\t\t\t\t// or we need this the name of the subview that is the source of the\n\t\t\t\t// message second word of the key.\n\n\t\t\t\tvar match = key.match( delegateEventSplitter );\n\n\t\t\t\tvar eventName = match[ 1 ], subviewName = match[ 2 ];\n\t\t\t\tvar eventNameRegEx = new RegExp( '^' + eventName.replace( /\\*/g, \"[\\\\w]*\" ) + '$' );\n\t\t\t\tif( ! eventNameRegEx.test( message.name ) ) continue;\n\n\t\t\t\tif( subviewName !== \"\" && view._getChildViewNamed( subviewName ) !== message.source ) continue;\n\n\t\t\t\tmatchingEntries.push( { eventName : eventName, subviewName : subviewName, value : hash[ key ] } );\n\t\t\t}\n\n\t\t\t// if more than one hash keys match, order them by specificity, that is,\n\t\t\t// in descending order of how many non-wild card characters they contain,\n\t\t\t// so that entry with most specificity is at index 0. Also, consider any\n\t\t\t// entries that have subview qualifier more specific than those that do not.\n\t\t\tif( matchingEntries.length > 1 )\n\t\t\t\tmatchingEntries = _.sortBy( matchingEntries, function( thisEntry ) {\n\t\t\t\t\tvar nonWildcardCharactersInEventName = thisEntry.eventName.replace( \"*\", \"\" );\n\t\t\t\t\tvar hasSubviewQualifier = thisEntry.subviewName !== \"\";\n\n\t\t\t\t\t// promote all entries with subview qualifiers to a higher level of specificity.\n\t\t\t\t\t// Figure there will never, ever be a 1000 character long event name\n\t\t\t\t\tvar specificity = ( hasSubviewQualifier ? 1000 : 0 ) + nonWildcardCharactersInEventName.length;\n\n\t\t\t\t\t// negate to sort in descending order\n\t\t\t\t\treturn( - specificity );\n\t\t\t\t} );\n\n\t\t\treturn matchingEntries.length ? matchingEntries[ 0 ].value : null;\n\t\t}\n\t};\n\n\treturn Backbone.Courier;\n} ) );\n","var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n/*\n * Backbone.Handle, v0.1\n * Copyright (c)2014 Rotunda Software, LLC.\n * Parts adapted from Backbone.Marionette, Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.handle\n */\n\n( function( root, factory ) {\n\t// UMD wrapper.\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tBackbone.Handle = {};\n\n\tBackbone.Handle.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\tdelegateEvents : view.delegateEvents\n\t\t};\n\n\t\tview.resolveHandles = function() {\n\t\t\tvar _this = this;\n\n\t\t\tif( this.ui ) {\n\t\t\t\tif( ! this.uiBindings ) {\n\t\t\t\t\t// We want to store a copy of the ui hash in uiBindings, since afterwards the values \n\t\t\t\t\t// in the ui hash will be overridden with jQuery selectors, and we may need then again.\n\t\t\t\t\tthis.uiBindings = _.result( this, \"ui\" );\n\t\t\t\t}\n\n\t\t\t\t// refreshing the associated selectors since they should point to the newly rendered elements.\n\t\t\t\tthis.ui = {};\n\t\t\t\t_.each( _.keys( this.uiBindings ), function( key ) {\n\t\t\t\t\tvar selector = _this.uiBindings[ key ];\n\n\t\t\t\t\t// if the selector ends with \"!\", we assert that there is exactly one DOM element that matches\n\t\t\t\t\t// the selector. That is, we through an error if the number of matches elements != 1.\n\t\t\t\t\tvar assertOneAndOnlyOne = selector[ selector.length - 1 ] === \"!\";\n\t\t\t\t\tif( assertOneAndOnlyOne ) selector = selector.slice( 0, selector.length - 1 );\n\t\t\t\t\t_this.ui[ key ] = _this.$( selector );\n\t\t\t\t\tif( assertOneAndOnlyOne ) {\n\t\t\t\t\t\tif( _this.ui[ key ].length !== 1 )\n\t\t\t\t\t\t\tthrow new Error( \"Expected selector \\\"\" + selector + \"\\\" to match 1 element, but \" + _this.ui[ key ].length + \" found.\" );\n\t\t\t\t\t\t_this.uiBindings[ key ] = selector;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\tview.delegateEvents = function( events ) {\n\t\t\tvar _this = this;\n\n\t\t\tif( _.isFunction( this.events ) ) this.events = this.events.call( this.events );\n\t\t\tevents = events || _.clone( this.events ) || {};\n\n\t\t\tevents = this._exapandUIHandlesInHash.call( this, events );\n\n\t\t\treturn overriddenViewMethods.delegateEvents.call( this, events );\n\t\t};\n\n\t\tview._exapandUIHandlesInHash = function( events ) {\n\t\t\tvar newEvents = {};\n\n\t\t\tvar uiBindings = this.uiBindings || _.result( this, \"ui\" );\n\t\t\tif( ! uiBindings ) { return events; }\n\n\t\t\t_.each( events, function( value, key ) {\n\t\t\t\tvar match = key.match( delegateEventSplitter );\n\t\t\t\tvar eventName = match[ 1 ], uiElName = match[ 2 ];\n\n\t\t\t\tif( uiElName !== \"\" && ! _.isUndefined( uiBindings[ uiElName ] ) ) {\n\t\t\t\t\tvar selector = uiBindings[ uiElName ];\n\t\t\t\t\tif( selector[ selector.length - 1 ] === \"!\" )\n\t\t\t\t\tselector = selector.slice( 0, selector.length - 1 );\n\n\t\t\t\t\tkey = eventName + \" \" + selector;\n\t\t\t\t}\n\n\t\t\t\tnewEvents[ key ] = value;\n\t\t\t} );\n\n\t\t\treturn newEvents;\n\t\t};\n\t};\n\n\treturn Backbone.Handle;\n} ) );","/*\n * Backbone.Subviews, v1.1.0\n * Copyright (c)2013-2017 Rotunda Software, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.subviews\n*/\n( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).$ );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ) );\n\t}\n}( this, function( _, Backbone, $ ) {\n\tBackbone.Subviews = {};\n\n\tBackbone.Subviews.add = function( view ) {\n\t\tvar overriddenViewMethods = {\n\t\t\trender : view.render,\n\t\t\tremove : view.remove\n\t\t};\n\n\t\t// ****************** Overridden Backbone.View methods ****************** \n\n\t\tview.render = function() {\n\t\t\tvar args = Array.prototype.slice.call( arguments );\n\n\t\t\t_prerender.call( this );\n\t\t\tvar returnValue = overriddenViewMethods.render.apply( this, args );\n\t\t\t_postrender.call( this );\n\n\t\t\treturn returnValue;\n\t\t};\n\n\t\tview.remove = function() {\n\t\t\tthis.removeSubviews();\n\t\t\treturn overriddenViewMethods.remove.call( this );\n\t\t};\n\n\t\t// ****************** Additional public methods ****************** \n\n\t\tview.removeSubviews = function() {\n\t\t\t// Removes all subviews and cleans up references in this.subviews.\n\n\t\t\tif( this.subviews ) {\n\t\t\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\t\t\tthisSubview.remove();\n\t\t\t\t} );\n\n\t\t\t\tdelete this.subviews;\n\t\t\t}\n\t\t};\n\n\t\t// ****************** Additional private methods ****************** \n\n\t\tview._createSubview = function( subviewName, placeHolderDiv ) {\n\t\t\t// Return a new subview instance given a subview name and its placeHolderDiv.\n\t\t\t// Implemented as instance method so that this behavior may be customized / overridden.\n\t\t\tvar subviewCreator = this.subviewCreators[ subviewName ];\n\t\t\tif( _.isUndefined( subviewCreator ) ) throw new Error( \"Can not find subview creator for subview named: \" + subviewName );\n\n\t\t\treturn subviewCreator.apply( this );\n\t\t};\n\t};\n\n\t// ****************** Private utility functions ****************** \n\n\tfunction _prerender() {\n\t\tif( ! this.subviews ) this.subviews = {};\n\n\t\t// Detach each of our subviews that we have already created during previous\n\t\t// renders from the DOM, so that they do not loose their DOM events when\n\t\t// we re-render the contents of this view's DOM element.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.$el.detach();\n\t\t} );\n\t}\n\n\tfunction _postrender() {\n\t\tvar _this = this;\n\t\tthis.subviewCreators = this.subviewCreators || {};\n\n\t\t// Support subviewCreators as both objects and functions.\n\t\tif( _.isFunction( this.subviewCreators ) ) this.subviewCreators = this.subviewCreators();\n\t\t\n\t\tthis.$( \"[data-subview]\" ).each( function() {\n\t\t\tvar thisPlaceHolderDiv = $( this );\n\t\t\tvar subviewName = thisPlaceHolderDiv.attr( \"data-subview\" );\n\t\t\tvar newSubview;\n\n\t\t\tif( _.isUndefined( _this.subviews[ subviewName ] ) ) {\n\t\t\t\tnewSubview = _this._createSubview( subviewName, thisPlaceHolderDiv );\n\t\t\t\tif( newSubview === null ) return;  // subview creators can return null to indicate that the subview should not be created\n\t\t\t\t_this.subviews[ subviewName ] = newSubview;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// If the subview is already defined, then use the existing subview instead\n\t\t\t\t// of creating a new one. This allows us to re-render a parent view without\n\t\t\t\t// loosing any dynamic state data on the existing subview objects. To force\n\t\t\t\t// re-initialization of subviews, call view.removeSubviews before re-rendering.\n\n\t\t\t\tnewSubview = _this.subviews[ subviewName ];\n\t\t\t}\n\n\t\t\tthisPlaceHolderDiv.replaceWith( newSubview.$el );\n\t\t} );\n\n\t\tif( _.isFunction( this.onSubviewsCreated ) ) this.onSubviewsCreated.call( this );\n\t\tif( _.isFunction( this._onSubviewsCreated ) ) this._onSubviewsCreated.call( this );\n\n\t\t// Now that all subviews have been created, render them one at a time, in the\n\t\t// order they occur in the DOM.\n\t\t_.each( this.subviews, function( thisSubview ) {\n\t\t\tthisSubview.render();\n\t\t} );\n\n\t\t// Call this.onSubviewsRendered after everything is done (hook for application defined logic)\n\t\tif( _.isFunction( this.onSubviewsRendered ) ) this.onSubviewsRendered.call( this );\n\t\tif( _.isFunction( this._onSubviewsRendered ) ) this._onSubviewsRendered.call( this );\n\t}\n\n\treturn Backbone.Subviews;\n} ) );\n","/*\n * Backbone.ViewOptions, v0.2.4\n * Copyright (c)2014 Rotunda Software, LLC.\n * Distributed under MIT license\n * http://github.com/rotundasoftware/backbone.viewOptions\n*/\n\n( function( root, factory ) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine([ 'underscore', 'backbone' ], factory );\n\t} else if (typeof exports === 'object') {\n\t\t// Node\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null) );\n\t} else {\n\t\t// Browser globals\n\t\troot.returnExports = factory( root._, root.Backbone );\n\t}\n} ( this, function( _, Backbone ) {\n\tBackbone.ViewOptions = {};\n\n\tBackbone.ViewOptions.add = function( view, optionsDeclarationsProperty ) {\n\t\tif( _.isUndefined( optionsDeclarationsProperty ) ) optionsDeclarationsProperty = \"options\";\n\n\t\t// ****************** Public methods added to view ******************\n\n\t\tview.setOptions = function( options ) {\n\t\t\tvar _this = this;\n\t\t\tvar optionsThatWereChanged = {};\n\t\t\tvar optionsThatWereChangedPreviousValues = {};\n\n\t\t\tvar optionDeclarations = _.result( this, optionsDeclarationsProperty );\n\n\t\t\tif( _.isString( options ) ) {\n\t\t\t\tvar optionsAsObject = {};\n\t\t\t\toptionsAsObject[ arguments[ 0 ] ] = arguments[ 1 ];\n\t\t\t\toptions = optionsAsObject;\n\t\t\t}\n\n\t\t\tif( ! _.isUndefined( optionDeclarations ) ) {\n\t\t\t\tvar normalizedOptionDeclarations = _normalizeOptionDeclarations( optionDeclarations );\n\n\t\t\t\t_.each( normalizedOptionDeclarations, function( thisOptionProperties, thisOptionName ) {\n\t\t\t\t\tvar thisOptionRequired = thisOptionProperties.required;\n\t\t\t\t\tvar thisOptionDefaultValue = thisOptionProperties.defaultValue;\n\n\t\t\t\t\tif( thisOptionRequired ) {\n\t\t\t\t\t\t// note we do not throw an error if a required option is not supplied, but it is\n\t\t\t\t\t\t// found on the object itself (due to a prior call of view.setOptions, most likely)\n\n\t\t\t\t\t\tif( ( ! options || ! _.contains( _.keys( options ), thisOptionName ) ) && _.isUndefined( _this[ thisOptionName ] ) )\n\t\t\t\t\t\t\tthrow new Error( \"Required option \\\"\" + thisOptionName + \"\\\" was not supplied.\" );\n\n\t\t\t\t\t\tif( options && _.contains( _.keys( options ), thisOptionName ) && _.isUndefined( options[ thisOptionName ] ) )\n\t\t\t\t\t\t\tthrow new Error( \"Required option \\\"\" + thisOptionName + \"\\\" can not be set to undefined.\" );\n\t\t\t\t\t}\n\n\t\t\t\t\t// attach the supplied value of this option, or the appropriate default value, to the view object\n\t\t\t\t\tif( options && thisOptionName in options && ! _.isUndefined( options[ thisOptionName ] ) ) {\n\t\t\t\t\t\tvar oldValue = _this[ thisOptionName ];\n\t\t\t\t\t\tvar newValue = options[ thisOptionName ];\n\t\t\t\t\t\t// if this option already exists on the view, and the new value is different,\n\t\t\t\t\t\t// make a note that we will be changing it\n\t\t\t\t\t\tif( ! _.isUndefined( oldValue ) && oldValue !== newValue ) {\n\t\t\t\t\t\t\toptionsThatWereChangedPreviousValues[ thisOptionName ] = oldValue;\n\t\t\t\t\t\t\toptionsThatWereChanged[ thisOptionName ] = newValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_this[ thisOptionName ] = newValue;\n\t\t\t\t\t\t// note we do NOT delete the option off the options object here so that\n\t\t\t\t\t\t// multiple views can be passed the same options object without issue.\n\t\t\t\t\t}\n\t\t\t\t\telse if( _.isUndefined( _this[ thisOptionName ] ) ) {\n\t\t\t\t\t\t// note defaults do not write over any existing properties on the view itself.\n\t\t\t\t\t\t_this[ thisOptionName ] = thisOptionDefaultValue;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif( _.keys( optionsThatWereChanged ).length > 0 ) {\n\t\t\t\tif( _.isFunction( _this.onOptionsChanged ) )\n\t\t\t\t\t_this.onOptionsChanged( optionsThatWereChanged, optionsThatWereChangedPreviousValues );\n\t\t\t\telse if( _.isFunction( _this._onOptionsChanged ) )\n\t\t\t\t\t_this._onOptionsChanged( optionsThatWereChanged, optionsThatWereChangedPreviousValues );\n\t\t\t}\n\t\t};\n\n\t\tview.getOptions = function( whichOptions ) {\n\t\t\tvar optionDeclarations = _.result( this, optionsDeclarationsProperty );\n\t\t\tif( _.isUndefined( optionDeclarations ) ) return {};\n\n\t\t\tvar normalizedOptionDeclarations = _normalizeOptionDeclarations( optionDeclarations );\n\t\t\tvar optionsNames = _.keys( normalizedOptionDeclarations );\n\n\t\t\tif( _.isUndefined( whichOptions ) ) whichOptions = optionsNames;\n\t\t\telse if( _.isString( whichOptions ) ) whichOptions = [ whichOptions ];\n\n\t\t\treturn _.pick( this, optionsNames );\n\t\t};\n\t};\n\n\t// ****************** Private Utility Functions ******************\n\n\tfunction _normalizeOptionDeclarations( optionDeclarations ) {\n\t\t// convert our short-hand option syntax (with exclamation marks, etc.)\n\t\t// to a simple array of standard option declaration objects.\n\n\t\tvar normalizedOptionDeclarations = {};\n\n\t\tif( ! _.isArray( optionDeclarations ) ) throw new Error( \"Option declarations must be an array.\" );\n\n\t\t_.each( optionDeclarations, function( thisOptionDeclaration ) {\n\t\t\tvar thisOptionName, thisOptionRequired, thisOptionDefaultValue;\n\n\t\t\tthisOptionRequired = false;\n\t\t\tthisOptionDefaultValue = undefined;\n\n\t\t\tif( _.isString( thisOptionDeclaration ) )\n\t\t\t\tthisOptionName = thisOptionDeclaration;\n\t\t\telse if( _.isObject( thisOptionDeclaration ) ) {\n\t\t\t\tthisOptionName = _.first( _.keys( thisOptionDeclaration ) );\n\t\t\t\tif( _.isFunction( thisOptionDeclaration[ thisOptionName ] ) || _.isRegExp( thisOptionDeclaration[ thisOptionName ] ) )\n\t\t\t\t\tthisOptionDefaultValue = thisOptionDeclaration[ thisOptionName ];\n\t\t\t\telse\n\t\t\t\t\tthisOptionDefaultValue = _.clone( thisOptionDeclaration[ thisOptionName ] );\n\t\t\t}\n\t\t\telse throw new Error( \"Each element in the option declarations array must be either a string or an object.\" );\n\n\t\t\tif( thisOptionName[ thisOptionName.length - 1 ] === \"!\" ) {\n\t\t\t\tthisOptionRequired = true;\n\t\t\t\tthisOptionName = thisOptionName.slice( 0, thisOptionName.length - 1 );\n\t\t\t}\n\n\t\t\tnormalizedOptionDeclarations[ thisOptionName ] = normalizedOptionDeclarations[ thisOptionName ] || {};\n\t\t\tnormalizedOptionDeclarations[ thisOptionName ].required = thisOptionRequired;\n\t\t\tif( ! _.isUndefined( thisOptionDefaultValue ) ) normalizedOptionDeclarations[ thisOptionName ].defaultValue = thisOptionDefaultValue;\n\t\t} );\n\n\t\treturn normalizedOptionDeclarations;\n\t}\n\n\treturn Backbone.ViewOptions;\n\n} ) );\n","// Backbone.BabySitter\n// -------------------\n// v0.1.11\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://github.com/marionettejs/backbone.babysitter\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], function(Backbone, _) {\n      return factory(Backbone, _);\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    module.exports = factory(Backbone, _);\n  } else {\n    factory(root.Backbone, root._);\n  }\n\n}(this, function(Backbone, _) {\n  'use strict';\n\n  var previousChildViewContainer = Backbone.ChildViewContainer;\n\n  // BabySitter.ChildViewContainer\n  // -----------------------------\n  //\n  // Provide a container to store, retrieve and\n  // shut down child views.\n  \n  Backbone.ChildViewContainer = (function (Backbone, _) {\n  \n    // Container Constructor\n    // ---------------------\n  \n    var Container = function(views){\n      this._views = {};\n      this._indexByModel = {};\n      this._indexByCustom = {};\n      this._updateLength();\n  \n      _.each(views, this.add, this);\n    };\n  \n    // Container Methods\n    // -----------------\n  \n    _.extend(Container.prototype, {\n  \n      // Add a view to this container. Stores the view\n      // by `cid` and makes it searchable by the model\n      // cid (and model itself). Optionally specify\n      // a custom key to store an retrieve the view.\n      add: function(view, customIndex){\n        var viewCid = view.cid;\n  \n        // store the view\n        this._views[viewCid] = view;\n  \n        // index it by model\n        if (view.model){\n          this._indexByModel[view.model.cid] = viewCid;\n        }\n  \n        // index by custom\n        if (customIndex){\n          this._indexByCustom[customIndex] = viewCid;\n        }\n  \n        this._updateLength();\n        return this;\n      },\n  \n      // Find a view by the model that was attached to\n      // it. Uses the model's `cid` to find it.\n      findByModel: function(model){\n        return this.findByModelCid(model.cid);\n      },\n  \n      // Find a view by the `cid` of the model that was attached to\n      // it. Uses the model's `cid` to find the view `cid` and\n      // retrieve the view using it.\n      findByModelCid: function(modelCid){\n        var viewCid = this._indexByModel[modelCid];\n        return this.findByCid(viewCid);\n      },\n  \n      // Find a view by a custom indexer.\n      findByCustom: function(index){\n        var viewCid = this._indexByCustom[index];\n        return this.findByCid(viewCid);\n      },\n  \n      // Find by index. This is not guaranteed to be a\n      // stable index.\n      findByIndex: function(index){\n        return _.values(this._views)[index];\n      },\n  \n      // retrieve a view by its `cid` directly\n      findByCid: function(cid){\n        return this._views[cid];\n      },\n  \n      // Remove a view\n      remove: function(view){\n        var viewCid = view.cid;\n  \n        // delete model index\n        if (view.model){\n          delete this._indexByModel[view.model.cid];\n        }\n  \n        // delete custom index\n        _.any(this._indexByCustom, function(cid, key) {\n          if (cid === viewCid) {\n            delete this._indexByCustom[key];\n            return true;\n          }\n        }, this);\n  \n        // remove the view from the container\n        delete this._views[viewCid];\n  \n        // update the length\n        this._updateLength();\n        return this;\n      },\n  \n      // Call a method on every view in the container,\n      // passing parameters to the call method one at a\n      // time, like `function.call`.\n      call: function(method){\n        this.apply(method, _.tail(arguments));\n      },\n  \n      // Apply a method on every view in the container,\n      // passing parameters to the call method one at a\n      // time, like `function.apply`.\n      apply: function(method, args){\n        _.each(this._views, function(view){\n          if (_.isFunction(view[method])){\n            view[method].apply(view, args || []);\n          }\n        });\n      },\n  \n      // Update the `.length` attribute on this container\n      _updateLength: function(){\n        this.length = _.size(this._views);\n      }\n    });\n  \n    // Borrowing this code from Backbone.Collection:\n    // http://backbonejs.org/docs/backbone.html#section-106\n    //\n    // Mix in methods from Underscore, for iteration, and other\n    // collection related features.\n    var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n      'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n      'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n      'last', 'without', 'isEmpty', 'pluck', 'reduce'];\n  \n    _.each(methods, function(method) {\n      Container.prototype[method] = function() {\n        var views = _.values(this._views);\n        var args = [views].concat(_.toArray(arguments));\n        return _[method].apply(_, args);\n      };\n    });\n  \n    // return the public API\n    return Container;\n  })(Backbone, _);\n  \n\n  Backbone.ChildViewContainer.VERSION = '0.1.11';\n\n  Backbone.ChildViewContainer.noConflict = function () {\n    Backbone.ChildViewContainer = previousChildViewContainer;\n    return this;\n  };\n\n  return Backbone.ChildViewContainer;\n\n}));\n","// MarionetteJS (Backbone.Marionette)\n// ----------------------------------\n// v2.4.7\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://marionettejs.com\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore', 'backbone.wreqr', 'backbone.babysitter'], function(Backbone, _) {\n      return (root.Marionette = root.Mn = factory(root, Backbone, _));\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    var Wreqr = require('backbone.wreqr');\n    var BabySitter = require('backbone.babysitter');\n    module.exports = factory(root, Backbone, _);\n  } else {\n    root.Marionette = root.Mn = factory(root, root.Backbone, root._);\n  }\n\n}(this, function(root, Backbone, _) {\n  'use strict';\n\n  var previousMarionette = root.Marionette;\n  var previousMn = root.Mn;\n\n  var Marionette = Backbone.Marionette = {};\n\n  Marionette.VERSION = '2.4.7';\n\n  Marionette.noConflict = function() {\n    root.Marionette = previousMarionette;\n    root.Mn = previousMn;\n    return this;\n  };\n\n  // Get the Deferred creator for later use\n  Marionette.Deferred = Backbone.$.Deferred;\n\n  Marionette.FEATURES = {\n  };\n  \n  Marionette.isEnabled = function(name) {\n    return !!Marionette.FEATURES[name];\n  };\n  \n  /* jshint unused: false *//* global console */\n  \n  // Helpers\n  // -------\n  \n  // Marionette.extend\n  // -----------------\n  \n  // Borrow the Backbone `extend` method so we can use it as needed\n  Marionette.extend = Backbone.Model.extend;\n  \n  // Marionette.isNodeAttached\n  // -------------------------\n  \n  // Determine if `el` is a child of the document\n  Marionette.isNodeAttached = function(el) {\n    return Backbone.$.contains(document.documentElement, el);\n  };\n  \n  // Merge `keys` from `options` onto `this`\n  Marionette.mergeOptions = function(options, keys) {\n    if (!options) { return; }\n    _.extend(this, _.pick(options, keys));\n  };\n  \n  // Marionette.getOption\n  // --------------------\n  \n  // Retrieve an object, function or other value from a target\n  // object or its `options`, with `options` taking precedence.\n  Marionette.getOption = function(target, optionName) {\n    if (!target || !optionName) { return; }\n    if (target.options && (target.options[optionName] !== undefined)) {\n      return target.options[optionName];\n    } else {\n      return target[optionName];\n    }\n  };\n  \n  // Proxy `Marionette.getOption`\n  Marionette.proxyGetOption = function(optionName) {\n    return Marionette.getOption(this, optionName);\n  };\n  \n  // Similar to `_.result`, this is a simple helper\n  // If a function is provided we call it with context\n  // otherwise just return the value. If the value is\n  // undefined return a default value\n  Marionette._getValue = function(value, context, params) {\n    if (_.isFunction(value)) {\n      value = params ? value.apply(context, params) : value.call(context);\n    }\n    return value;\n  };\n  \n  // Marionette.normalizeMethods\n  // ----------------------\n  \n  // Pass in a mapping of events => functions or function names\n  // and return a mapping of events => functions\n  Marionette.normalizeMethods = function(hash) {\n    return _.reduce(hash, function(normalizedHash, method, name) {\n      if (!_.isFunction(method)) {\n        method = this[method];\n      }\n      if (method) {\n        normalizedHash[name] = method;\n      }\n      return normalizedHash;\n    }, {}, this);\n  };\n  \n  // utility method for parsing @ui. syntax strings\n  // into associated selector\n  Marionette.normalizeUIString = function(uiString, ui) {\n    return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, function(r) {\n      return ui[r.slice(4)];\n    });\n  };\n  \n  // allows for the use of the @ui. syntax within\n  // a given key for triggers and events\n  // swaps the @ui with the associated selector.\n  // Returns a new, non-mutated, parsed events hash.\n  Marionette.normalizeUIKeys = function(hash, ui) {\n    return _.reduce(hash, function(memo, val, key) {\n      var normalizedKey = Marionette.normalizeUIString(key, ui);\n      memo[normalizedKey] = val;\n      return memo;\n    }, {});\n  };\n  \n  // allows for the use of the @ui. syntax within\n  // a given value for regions\n  // swaps the @ui with the associated selector\n  Marionette.normalizeUIValues = function(hash, ui, properties) {\n    _.each(hash, function(val, key) {\n      if (_.isString(val)) {\n        hash[key] = Marionette.normalizeUIString(val, ui);\n      } else if (_.isObject(val) && _.isArray(properties)) {\n        _.extend(val, Marionette.normalizeUIValues(_.pick(val, properties), ui));\n        /* Value is an object, and we got an array of embedded property names to normalize. */\n        _.each(properties, function(property) {\n          var propertyVal = val[property];\n          if (_.isString(propertyVal)) {\n            val[property] = Marionette.normalizeUIString(propertyVal, ui);\n          }\n        });\n      }\n    });\n    return hash;\n  };\n  \n  // Mix in methods from Underscore, for iteration, and other\n  // collection related features.\n  // Borrowing this code from Backbone.Collection:\n  // http://backbonejs.org/docs/backbone.html#section-121\n  Marionette.actAsCollection = function(object, listProperty) {\n    var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n      'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n      'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n      'last', 'without', 'isEmpty', 'pluck'];\n  \n    _.each(methods, function(method) {\n      object[method] = function() {\n        var list = _.values(_.result(this, listProperty));\n        var args = [list].concat(_.toArray(arguments));\n        return _[method].apply(_, args);\n      };\n    });\n  };\n  \n  var deprecate = Marionette.deprecate = function(message, test) {\n    if (_.isObject(message)) {\n      message = (\n        message.prev + ' is going to be removed in the future. ' +\n        'Please use ' + message.next + ' instead.' +\n        (message.url ? ' See: ' + message.url : '')\n      );\n    }\n  \n    if ((test === undefined || !test) && !deprecate._cache[message]) {\n      deprecate._warn('Deprecation warning: ' + message);\n      deprecate._cache[message] = true;\n    }\n  };\n  \n  deprecate._console = typeof console !== 'undefined' ? console : {};\n  deprecate._warn = function() {\n    var warn = deprecate._console.warn || deprecate._console.log || function() {};\n    return warn.apply(deprecate._console, arguments);\n  };\n  deprecate._cache = {};\n  \n  /* jshint maxstatements: 14, maxcomplexity: 7 */\n  \n  // Trigger Method\n  // --------------\n  \n  Marionette._triggerMethod = (function() {\n    // split the event name on the \":\"\n    var splitter = /(^|:)(\\w)/gi;\n  \n    // take the event section (\"section1:section2:section3\")\n    // and turn it in to uppercase name\n    function getEventName(match, prefix, eventName) {\n      return eventName.toUpperCase();\n    }\n  \n    return function(context, event, args) {\n      var noEventArg = arguments.length < 3;\n      if (noEventArg) {\n        args = event;\n        event = args[0];\n      }\n  \n      // get the method name from the event name\n      var methodName = 'on' + event.replace(splitter, getEventName);\n      var method = context[methodName];\n      var result;\n  \n      // call the onMethodName if it exists\n      if (_.isFunction(method)) {\n        // pass all args, except the event name\n        result = method.apply(context, noEventArg ? _.rest(args) : args);\n      }\n  \n      // trigger the event, if a trigger method exists\n      if (_.isFunction(context.trigger)) {\n        if (noEventArg + args.length > 1) {\n          context.trigger.apply(context, noEventArg ? args : [event].concat(_.drop(args, 0)));\n        } else {\n          context.trigger(event);\n        }\n      }\n  \n      return result;\n    };\n  })();\n  \n  // Trigger an event and/or a corresponding method name. Examples:\n  //\n  // `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n  // call the \"onFoo\" method.\n  //\n  // `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n  // call the \"onFooBar\" method.\n  Marionette.triggerMethod = function(event) {\n    return Marionette._triggerMethod(this, arguments);\n  };\n  \n  // triggerMethodOn invokes triggerMethod on a specific context\n  //\n  // e.g. `Marionette.triggerMethodOn(view, 'show')`\n  // will trigger a \"show\" event or invoke onShow the view.\n  Marionette.triggerMethodOn = function(context) {\n    var fnc = _.isFunction(context.triggerMethod) ?\n                  context.triggerMethod :\n                  Marionette.triggerMethod;\n  \n    return fnc.apply(context, _.rest(arguments));\n  };\n  \n  // DOM Refresh\n  // -----------\n  \n  // Monitor a view's state, and after it has been rendered and shown\n  // in the DOM, trigger a \"dom:refresh\" event every time it is\n  // re-rendered.\n  \n  Marionette.MonitorDOMRefresh = function(view) {\n    if (view._isDomRefreshMonitored) { return; }\n    view._isDomRefreshMonitored = true;\n  \n    // track when the view has been shown in the DOM,\n    // using a Marionette.Region (or by other means of triggering \"show\")\n    function handleShow() {\n      view._isShown = true;\n      triggerDOMRefresh();\n    }\n  \n    // track when the view has been rendered\n    function handleRender() {\n      view._isRendered = true;\n      triggerDOMRefresh();\n    }\n  \n    // Trigger the \"dom:refresh\" event and corresponding \"onDomRefresh\" method\n    function triggerDOMRefresh() {\n      if (view._isShown && view._isRendered && Marionette.isNodeAttached(view.el)) {\n        Marionette.triggerMethodOn(view, 'dom:refresh', view);\n      }\n    }\n  \n    view.on({\n      show: handleShow,\n      render: handleRender\n    });\n  };\n  \n  /* jshint maxparams: 5 */\n  \n  // Bind Entity Events & Unbind Entity Events\n  // -----------------------------------------\n  //\n  // These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n  // to methods on a target object.\n  //\n  // The first parameter, `target`, must have the Backbone.Events module mixed in.\n  //\n  // The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n  // any object that has Backbone.Events mixed in) to bind the events from.\n  //\n  // The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n  // configuration. Multiple handlers can be separated by a space. A\n  // function can be supplied instead of a string handler name.\n  \n  (function(Marionette) {\n    'use strict';\n  \n    // Bind the event to handlers specified as a string of\n    // handler names on the target object\n    function bindFromStrings(target, entity, evt, methods) {\n      var methodNames = methods.split(/\\s+/);\n  \n      _.each(methodNames, function(methodName) {\n  \n        var method = target[methodName];\n        if (!method) {\n          throw new Marionette.Error('Method \"' + methodName +\n            '\" was configured as an event handler, but does not exist.');\n        }\n  \n        target.listenTo(entity, evt, method);\n      });\n    }\n  \n    // Bind the event to a supplied callback function\n    function bindToFunction(target, entity, evt, method) {\n      target.listenTo(entity, evt, method);\n    }\n  \n    // Bind the event to handlers specified as a string of\n    // handler names on the target object\n    function unbindFromStrings(target, entity, evt, methods) {\n      var methodNames = methods.split(/\\s+/);\n  \n      _.each(methodNames, function(methodName) {\n        var method = target[methodName];\n        target.stopListening(entity, evt, method);\n      });\n    }\n  \n    // Bind the event to a supplied callback function\n    function unbindToFunction(target, entity, evt, method) {\n      target.stopListening(entity, evt, method);\n    }\n  \n    // generic looping function\n    function iterateEvents(target, entity, bindings, functionCallback, stringCallback) {\n      if (!entity || !bindings) { return; }\n  \n      // type-check bindings\n      if (!_.isObject(bindings)) {\n        throw new Marionette.Error({\n          message: 'Bindings must be an object or function.',\n          url: 'marionette.functions.html#marionettebindentityevents'\n        });\n      }\n  \n      // allow the bindings to be a function\n      bindings = Marionette._getValue(bindings, target);\n  \n      // iterate the bindings and bind them\n      _.each(bindings, function(methods, evt) {\n  \n        // allow for a function as the handler,\n        // or a list of event names as a string\n        if (_.isFunction(methods)) {\n          functionCallback(target, entity, evt, methods);\n        } else {\n          stringCallback(target, entity, evt, methods);\n        }\n  \n      });\n    }\n  \n    // Export Public API\n    Marionette.bindEntityEvents = function(target, entity, bindings) {\n      iterateEvents(target, entity, bindings, bindToFunction, bindFromStrings);\n    };\n  \n    Marionette.unbindEntityEvents = function(target, entity, bindings) {\n      iterateEvents(target, entity, bindings, unbindToFunction, unbindFromStrings);\n    };\n  \n    // Proxy `bindEntityEvents`\n    Marionette.proxyBindEntityEvents = function(entity, bindings) {\n      return Marionette.bindEntityEvents(this, entity, bindings);\n    };\n  \n    // Proxy `unbindEntityEvents`\n    Marionette.proxyUnbindEntityEvents = function(entity, bindings) {\n      return Marionette.unbindEntityEvents(this, entity, bindings);\n    };\n  })(Marionette);\n  \n\n  // Error\n  // -----\n  \n  var errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n  \n  Marionette.Error = Marionette.extend.call(Error, {\n    urlRoot: 'http://marionettejs.com/docs/v' + Marionette.VERSION + '/',\n  \n    constructor: function(message, options) {\n      if (_.isObject(message)) {\n        options = message;\n        message = options.message;\n      } else if (!options) {\n        options = {};\n      }\n  \n      var error = Error.call(this, message);\n      _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n  \n      this.captureStackTrace();\n  \n      if (options.url) {\n        this.url = this.urlRoot + options.url;\n      }\n    },\n  \n    captureStackTrace: function() {\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, Marionette.Error);\n      }\n    },\n  \n    toString: function() {\n      return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n    }\n  });\n  \n  Marionette.Error.extend = Marionette.extend;\n  \n  // Callbacks\n  // ---------\n  \n  // A simple way of managing a collection of callbacks\n  // and executing them at a later point in time, using jQuery's\n  // `Deferred` object.\n  Marionette.Callbacks = function() {\n    this._deferred = Marionette.Deferred();\n    this._callbacks = [];\n  };\n  \n  _.extend(Marionette.Callbacks.prototype, {\n  \n    // Add a callback to be executed. Callbacks added here are\n    // guaranteed to execute, even if they are added after the\n    // `run` method is called.\n    add: function(callback, contextOverride) {\n      var promise = _.result(this._deferred, 'promise');\n  \n      this._callbacks.push({cb: callback, ctx: contextOverride});\n  \n      promise.then(function(args) {\n        if (contextOverride) { args.context = contextOverride; }\n        callback.call(args.context, args.options);\n      });\n    },\n  \n    // Run all registered callbacks with the context specified.\n    // Additional callbacks can be added after this has been run\n    // and they will still be executed.\n    run: function(options, context) {\n      this._deferred.resolve({\n        options: options,\n        context: context\n      });\n    },\n  \n    // Resets the list of callbacks to be run, allowing the same list\n    // to be run multiple times - whenever the `run` method is called.\n    reset: function() {\n      var callbacks = this._callbacks;\n      this._deferred = Marionette.Deferred();\n      this._callbacks = [];\n  \n      _.each(callbacks, function(cb) {\n        this.add(cb.cb, cb.ctx);\n      }, this);\n    }\n  });\n  \n  // Controller\n  // ----------\n  \n  // A multi-purpose object to use as a controller for\n  // modules and routers, and as a mediator for workflow\n  // and coordination of other objects, views, and more.\n  Marionette.Controller = function(options) {\n    this.options = options || {};\n  \n    if (_.isFunction(this.initialize)) {\n      this.initialize(this.options);\n    }\n  };\n  \n  Marionette.Controller.extend = Marionette.extend;\n  \n  // Controller Methods\n  // --------------\n  \n  // Ensure it can trigger events with Backbone.Events\n  _.extend(Marionette.Controller.prototype, Backbone.Events, {\n    destroy: function() {\n      Marionette._triggerMethod(this, 'before:destroy', arguments);\n      Marionette._triggerMethod(this, 'destroy', arguments);\n  \n      this.stopListening();\n      this.off();\n      return this;\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod,\n  \n    // A handy way to merge options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption\n  \n  });\n  \n  // Object\n  // ------\n  \n  // A Base Class that other Classes should descend from.\n  // Object borrows many conventions and utilities from Backbone.\n  Marionette.Object = function(options) {\n    this.options = _.extend({}, _.result(this, 'options'), options);\n  \n    this.initialize.apply(this, arguments);\n  };\n  \n  Marionette.Object.extend = Marionette.extend;\n  \n  // Object Methods\n  // --------------\n  \n  // Ensure it can trigger events with Backbone.Events\n  _.extend(Marionette.Object.prototype, Backbone.Events, {\n  \n    //this is a noop method intended to be overridden by classes that extend from this base\n    initialize: function() {},\n  \n    destroy: function(options) {\n      options = options || {};\n  \n      this.triggerMethod('before:destroy', options);\n      this.triggerMethod('destroy', options);\n      this.stopListening();\n  \n      return this;\n    },\n  \n    // Import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod,\n  \n    // A handy way to merge options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  /* jshint maxcomplexity: 16, maxstatements: 45, maxlen: 120 */\n  \n  // Region\n  // ------\n  \n  // Manage the visual regions of your composite application. See\n  // http://lostechies.com/derickbailey/2011/12/12/composite-js-apps-regions-and-region-managers/\n  \n  Marionette.Region = Marionette.Object.extend({\n    constructor: function(options) {\n  \n      // set options temporarily so that we can get `el`.\n      // options will be overriden by Object.constructor\n      this.options = options || {};\n      this.el = this.getOption('el');\n  \n      // Handle when this.el is passed in as a $ wrapped element.\n      this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n  \n      if (!this.el) {\n        throw new Marionette.Error({\n          name: 'NoElError',\n          message: 'An \"el\" must be specified for a region.'\n        });\n      }\n  \n      this.$el = this.getEl(this.el);\n      Marionette.Object.call(this, options);\n    },\n  \n    // Displays a backbone view instance inside of the region.\n    // Handles calling the `render` method for you. Reads content\n    // directly from the `el` attribute. Also calls an optional\n    // `onShow` and `onDestroy` method on your view, just after showing\n    // or just before destroying the view, respectively.\n    // The `preventDestroy` option can be used to prevent a view from\n    // the old view being destroyed on show.\n    // The `forceShow` option can be used to force a view to be\n    // re-rendered if it's already shown in the region.\n    show: function(view, options) {\n      if (!this._ensureElement()) {\n        return;\n      }\n  \n      this._ensureViewIsIntact(view);\n      Marionette.MonitorDOMRefresh(view);\n  \n      var showOptions     = options || {};\n      var isDifferentView = view !== this.currentView;\n      var preventDestroy  = !!showOptions.preventDestroy;\n      var forceShow       = !!showOptions.forceShow;\n  \n      // We are only changing the view if there is a current view to change to begin with\n      var isChangingView = !!this.currentView;\n  \n      // Only destroy the current view if we don't want to `preventDestroy` and if\n      // the view given in the first argument is different than `currentView`\n      var _shouldDestroyView = isDifferentView && !preventDestroy;\n  \n      // Only show the view given in the first argument if it is different than\n      // the current view or if we want to re-show the view. Note that if\n      // `_shouldDestroyView` is true, then `_shouldShowView` is also necessarily true.\n      var _shouldShowView = isDifferentView || forceShow;\n  \n      if (isChangingView) {\n        this.triggerMethod('before:swapOut', this.currentView, this, options);\n      }\n  \n      if (this.currentView && isDifferentView) {\n        delete this.currentView._parent;\n      }\n  \n      if (_shouldDestroyView) {\n        this.empty();\n  \n      // A `destroy` event is attached to the clean up manually removed views.\n      // We need to detach this event when a new view is going to be shown as it\n      // is no longer relevant.\n      } else if (isChangingView && _shouldShowView) {\n        this.currentView.off('destroy', this.empty, this);\n      }\n  \n      if (_shouldShowView) {\n  \n        // We need to listen for if a view is destroyed\n        // in a way other than through the region.\n        // If this happens we need to remove the reference\n        // to the currentView since once a view has been destroyed\n        // we can not reuse it.\n        view.once('destroy', this.empty, this);\n  \n        // make this region the view's parent,\n        // It's important that this parent binding happens before rendering\n        // so that any events the child may trigger during render can also be\n        // triggered on the child's ancestor views\n        view._parent = this;\n        this._renderView(view);\n  \n        if (isChangingView) {\n          this.triggerMethod('before:swap', view, this, options);\n        }\n  \n        this.triggerMethod('before:show', view, this, options);\n        Marionette.triggerMethodOn(view, 'before:show', view, this, options);\n  \n        if (isChangingView) {\n          this.triggerMethod('swapOut', this.currentView, this, options);\n        }\n  \n        // An array of views that we're about to display\n        var attachedRegion = Marionette.isNodeAttached(this.el);\n  \n        // The views that we're about to attach to the document\n        // It's important that we prevent _getNestedViews from being executed unnecessarily\n        // as it's a potentially-slow method\n        var displayedViews = [];\n  \n        var attachOptions = _.extend({\n          triggerBeforeAttach: this.triggerBeforeAttach,\n          triggerAttach: this.triggerAttach\n        }, showOptions);\n  \n        if (attachedRegion && attachOptions.triggerBeforeAttach) {\n          displayedViews = this._displayedViews(view);\n          this._triggerAttach(displayedViews, 'before:');\n        }\n  \n        this.attachHtml(view);\n        this.currentView = view;\n  \n        if (attachedRegion && attachOptions.triggerAttach) {\n          displayedViews = this._displayedViews(view);\n          this._triggerAttach(displayedViews);\n        }\n  \n        if (isChangingView) {\n          this.triggerMethod('swap', view, this, options);\n        }\n  \n        this.triggerMethod('show', view, this, options);\n        Marionette.triggerMethodOn(view, 'show', view, this, options);\n  \n        return this;\n      }\n  \n      return this;\n    },\n  \n    triggerBeforeAttach: true,\n    triggerAttach: true,\n  \n    _triggerAttach: function(views, prefix) {\n      var eventName = (prefix || '') + 'attach';\n      _.each(views, function(view) {\n        Marionette.triggerMethodOn(view, eventName, view, this);\n      }, this);\n    },\n  \n    _displayedViews: function(view) {\n      return _.union([view], _.result(view, '_getNestedViews') || []);\n    },\n  \n    _renderView: function(view) {\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:render', view);\n      }\n      view.render();\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'render', view);\n      }\n    },\n  \n    _ensureElement: function() {\n      if (!_.isObject(this.el)) {\n        this.$el = this.getEl(this.el);\n        this.el = this.$el[0];\n      }\n  \n      if (!this.$el || this.$el.length === 0) {\n        if (this.getOption('allowMissingEl')) {\n          return false;\n        } else {\n          throw new Marionette.Error('An \"el\" ' + this.$el.selector + ' must exist in DOM');\n        }\n      }\n      return true;\n    },\n  \n    _ensureViewIsIntact: function(view) {\n      if (!view) {\n        throw new Marionette.Error({\n          name: 'ViewNotValid',\n          message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n        });\n      }\n  \n      if (view.isDestroyed) {\n        throw new Marionette.Error({\n          name: 'ViewDestroyedError',\n          message: 'View (cid: \"' + view.cid + '\") has already been destroyed and cannot be used.'\n        });\n      }\n    },\n  \n    // Override this method to change how the region finds the DOM\n    // element that it manages. Return a jQuery selector object scoped\n    // to a provided parent el or the document if none exists.\n    getEl: function(el) {\n      return Backbone.$(el, Marionette._getValue(this.options.parentEl, this));\n    },\n  \n    // Override this method to change how the new view is\n    // appended to the `$el` that the region is managing\n    attachHtml: function(view) {\n      this.$el.contents().detach();\n  \n      this.el.appendChild(view.el);\n    },\n  \n    // Destroy the current view, if there is one. If there is no\n    // current view, it does nothing and returns immediately.\n    empty: function(options) {\n      var view = this.currentView;\n  \n      var emptyOptions = options || {};\n      var preventDestroy  = !!emptyOptions.preventDestroy;\n      // If there is no view in the region\n      // we should not remove anything\n      if (!view) { return this; }\n  \n      view.off('destroy', this.empty, this);\n      this.triggerMethod('before:empty', view);\n      if (!preventDestroy) {\n        this._destroyView();\n      }\n      this.triggerMethod('empty', view);\n  \n      // Remove region pointer to the currentView\n      delete this.currentView;\n  \n      if (preventDestroy) {\n        this.$el.contents().detach();\n      }\n  \n      return this;\n    },\n  \n    // call 'destroy' or 'remove', depending on which is found\n    // on the view (if showing a raw Backbone view or a Marionette View)\n    _destroyView: function() {\n      var view = this.currentView;\n      if (view.isDestroyed) { return; }\n  \n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:destroy', view);\n      }\n      if (view.destroy) {\n        view.destroy();\n      } else {\n        view.remove();\n  \n        // appending isDestroyed to raw Backbone View allows regions\n        // to throw a ViewDestroyedError for this view\n        view.isDestroyed = true;\n      }\n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'destroy', view);\n      }\n    },\n  \n    // Attach an existing view to the region. This\n    // will not call `render` or `onShow` for the new view,\n    // and will not replace the current HTML for the `el`\n    // of the region.\n    attachView: function(view) {\n      if (this.currentView) {\n        delete this.currentView._parent;\n      }\n      view._parent = this;\n      this.currentView = view;\n      return this;\n    },\n  \n    // Checks whether a view is currently present within\n    // the region. Returns `true` if there is and `false` if\n    // no view is present.\n    hasView: function() {\n      return !!this.currentView;\n    },\n  \n    // Reset the region by destroying any existing view and\n    // clearing out the cached `$el`. The next time a view\n    // is shown via this region, the region will re-query the\n    // DOM for the region's `el`.\n    reset: function() {\n      this.empty();\n  \n      if (this.$el) {\n        this.el = this.$el.selector;\n      }\n  \n      delete this.$el;\n      return this;\n    }\n  \n  },\n  \n  // Static Methods\n  {\n  \n    // Build an instance of a region by passing in a configuration object\n    // and a default region class to use if none is specified in the config.\n    //\n    // The config object should either be a string as a jQuery DOM selector,\n    // a Region class directly, or an object literal that specifies a selector,\n    // a custom regionClass, and any options to be supplied to the region:\n    //\n    // ```js\n    // {\n    //   selector: \"#foo\",\n    //   regionClass: MyCustomRegion,\n    //   allowMissingEl: false\n    // }\n    // ```\n    //\n    buildRegion: function(regionConfig, DefaultRegionClass) {\n      if (_.isString(regionConfig)) {\n        return this._buildRegionFromSelector(regionConfig, DefaultRegionClass);\n      }\n  \n      if (regionConfig.selector || regionConfig.el || regionConfig.regionClass) {\n        return this._buildRegionFromObject(regionConfig, DefaultRegionClass);\n      }\n  \n      if (_.isFunction(regionConfig)) {\n        return this._buildRegionFromRegionClass(regionConfig);\n      }\n  \n      throw new Marionette.Error({\n        message: 'Improper region configuration type.',\n        url: 'marionette.region.html#region-configuration-types'\n      });\n    },\n  \n    // Build the region from a string selector like '#foo-region'\n    _buildRegionFromSelector: function(selector, DefaultRegionClass) {\n      return new DefaultRegionClass({el: selector});\n    },\n  \n    // Build the region from a configuration object\n    // ```js\n    // { selector: '#foo', regionClass: FooRegion, allowMissingEl: false }\n    // ```\n    _buildRegionFromObject: function(regionConfig, DefaultRegionClass) {\n      var RegionClass = regionConfig.regionClass || DefaultRegionClass;\n      var options = _.omit(regionConfig, 'selector', 'regionClass');\n  \n      if (regionConfig.selector && !options.el) {\n        options.el = regionConfig.selector;\n      }\n  \n      return new RegionClass(options);\n    },\n  \n    // Build the region directly from a given `RegionClass`\n    _buildRegionFromRegionClass: function(RegionClass) {\n      return new RegionClass();\n    }\n  });\n  \n  // Region Manager\n  // --------------\n  \n  // Manage one or more related `Marionette.Region` objects.\n  Marionette.RegionManager = Marionette.Controller.extend({\n    constructor: function(options) {\n      this._regions = {};\n      this.length = 0;\n  \n      Marionette.Controller.call(this, options);\n  \n      this.addRegions(this.getOption('regions'));\n    },\n  \n    // Add multiple regions using an object literal or a\n    // function that returns an object literal, where\n    // each key becomes the region name, and each value is\n    // the region definition.\n    addRegions: function(regionDefinitions, defaults) {\n      regionDefinitions = Marionette._getValue(regionDefinitions, this, arguments);\n  \n      return _.reduce(regionDefinitions, function(regions, definition, name) {\n        if (_.isString(definition)) {\n          definition = {selector: definition};\n        }\n        if (definition.selector) {\n          definition = _.defaults({}, definition, defaults);\n        }\n  \n        regions[name] = this.addRegion(name, definition);\n        return regions;\n      }, {}, this);\n    },\n  \n    // Add an individual region to the region manager,\n    // and return the region instance\n    addRegion: function(name, definition) {\n      var region;\n  \n      if (definition instanceof Marionette.Region) {\n        region = definition;\n      } else {\n        region = Marionette.Region.buildRegion(definition, Marionette.Region);\n      }\n  \n      this.triggerMethod('before:add:region', name, region);\n  \n      region._parent = this;\n      this._store(name, region);\n  \n      this.triggerMethod('add:region', name, region);\n      return region;\n    },\n  \n    // Get a region by name\n    get: function(name) {\n      return this._regions[name];\n    },\n  \n    // Gets all the regions contained within\n    // the `regionManager` instance.\n    getRegions: function() {\n      return _.clone(this._regions);\n    },\n  \n    // Remove a region by name\n    removeRegion: function(name) {\n      var region = this._regions[name];\n      this._remove(name, region);\n  \n      return region;\n    },\n  \n    // Empty all regions in the region manager, and\n    // remove them\n    removeRegions: function() {\n      var regions = this.getRegions();\n      _.each(this._regions, function(region, name) {\n        this._remove(name, region);\n      }, this);\n  \n      return regions;\n    },\n  \n    // Empty all regions in the region manager, but\n    // leave them attached\n    emptyRegions: function() {\n      var regions = this.getRegions();\n      _.invoke(regions, 'empty');\n      return regions;\n    },\n  \n    // Destroy all regions and shut down the region\n    // manager entirely\n    destroy: function() {\n      this.removeRegions();\n      return Marionette.Controller.prototype.destroy.apply(this, arguments);\n    },\n  \n    // internal method to store regions\n    _store: function(name, region) {\n      if (!this._regions[name]) {\n        this.length++;\n      }\n  \n      this._regions[name] = region;\n    },\n  \n    // internal method to remove a region\n    _remove: function(name, region) {\n      this.triggerMethod('before:remove:region', name, region);\n      region.empty();\n      region.stopListening();\n  \n      delete region._parent;\n      delete this._regions[name];\n      this.length--;\n      this.triggerMethod('remove:region', name, region);\n    }\n  });\n  \n  Marionette.actAsCollection(Marionette.RegionManager.prototype, '_regions');\n  \n\n  // Template Cache\n  // --------------\n  \n  // Manage templates stored in `<script>` blocks,\n  // caching them for faster access.\n  Marionette.TemplateCache = function(templateId) {\n    this.templateId = templateId;\n  };\n  \n  // TemplateCache object-level methods. Manage the template\n  // caches from these method calls instead of creating\n  // your own TemplateCache instances\n  _.extend(Marionette.TemplateCache, {\n    templateCaches: {},\n  \n    // Get the specified template by id. Either\n    // retrieves the cached version, or loads it\n    // from the DOM.\n    get: function(templateId, options) {\n      var cachedTemplate = this.templateCaches[templateId];\n  \n      if (!cachedTemplate) {\n        cachedTemplate = new Marionette.TemplateCache(templateId);\n        this.templateCaches[templateId] = cachedTemplate;\n      }\n  \n      return cachedTemplate.load(options);\n    },\n  \n    // Clear templates from the cache. If no arguments\n    // are specified, clears all templates:\n    // `clear()`\n    //\n    // If arguments are specified, clears each of the\n    // specified templates from the cache:\n    // `clear(\"#t1\", \"#t2\", \"...\")`\n    clear: function() {\n      var i;\n      var args = _.toArray(arguments);\n      var length = args.length;\n  \n      if (length > 0) {\n        for (i = 0; i < length; i++) {\n          delete this.templateCaches[args[i]];\n        }\n      } else {\n        this.templateCaches = {};\n      }\n    }\n  });\n  \n  // TemplateCache instance methods, allowing each\n  // template cache object to manage its own state\n  // and know whether or not it has been loaded\n  _.extend(Marionette.TemplateCache.prototype, {\n  \n    // Internal method to load the template\n    load: function(options) {\n      // Guard clause to prevent loading this template more than once\n      if (this.compiledTemplate) {\n        return this.compiledTemplate;\n      }\n  \n      // Load the template and compile it\n      var template = this.loadTemplate(this.templateId, options);\n      this.compiledTemplate = this.compileTemplate(template, options);\n  \n      return this.compiledTemplate;\n    },\n  \n    // Load a template from the DOM, by default. Override\n    // this method to provide your own template retrieval\n    // For asynchronous loading with AMD/RequireJS, consider\n    // using a template-loader plugin as described here:\n    // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n    loadTemplate: function(templateId, options) {\n      var $template = Backbone.$(templateId);\n  \n      if (!$template.length) {\n        throw new Marionette.Error({\n          name: 'NoTemplateError',\n          message: 'Could not find template: \"' + templateId + '\"'\n        });\n      }\n      return $template.html();\n    },\n  \n    // Pre-compile the template before caching it. Override\n    // this method if you do not need to pre-compile a template\n    // (JST / RequireJS for example) or if you want to change\n    // the template engine used (Handebars, etc).\n    compileTemplate: function(rawTemplate, options) {\n      return _.template(rawTemplate, options);\n    }\n  });\n  \n  // Renderer\n  // --------\n  \n  // Render a template with data by passing in the template\n  // selector and the data to render.\n  Marionette.Renderer = {\n  \n    // Render a template with data. The `template` parameter is\n    // passed to the `TemplateCache` object to retrieve the\n    // template function. Override this method to provide your own\n    // custom rendering and template handling for all of Marionette.\n    render: function(template, data) {\n      if (!template) {\n        throw new Marionette.Error({\n          name: 'TemplateNotFoundError',\n          message: 'Cannot render the template since its false, null or undefined.'\n        });\n      }\n  \n      var templateFunc = _.isFunction(template) ? template : Marionette.TemplateCache.get(template);\n  \n      return templateFunc(data);\n    }\n  };\n  \n\n  /* jshint maxlen: 114, nonew: false */\n  // View\n  // ----\n  \n  // The core view class that other Marionette views extend from.\n  Marionette.View = Backbone.View.extend({\n    isDestroyed: false,\n    supportsRenderLifecycle: true,\n    supportsDestroyLifecycle: true,\n  \n    constructor: function(options) {\n      this.render = _.bind(this.render, this);\n  \n      options = Marionette._getValue(options, this);\n  \n      // this exposes view options to the view initializer\n      // this is a backfill since backbone removed the assignment\n      // of this.options\n      // at some point however this may be removed\n      this.options = _.extend({}, _.result(this, 'options'), options);\n  \n      this._behaviors = Marionette.Behaviors(this);\n  \n      Backbone.View.call(this, this.options);\n  \n      Marionette.MonitorDOMRefresh(this);\n    },\n  \n    // Get the template for this view\n    // instance. You can set a `template` attribute in the view\n    // definition or pass a `template: \"whatever\"` parameter in\n    // to the constructor options.\n    getTemplate: function() {\n      return this.getOption('template');\n    },\n  \n    // Serialize a model by returning its attributes. Clones\n    // the attributes to allow modification.\n    serializeModel: function(model) {\n      return model.toJSON.apply(model, _.rest(arguments));\n    },\n  \n    // Mix in template helper methods. Looks for a\n    // `templateHelpers` attribute, which can either be an\n    // object literal, or a function that returns an object\n    // literal. All methods and attributes from this object\n    // are copies to the object passed in.\n    mixinTemplateHelpers: function(target) {\n      target = target || {};\n      var templateHelpers = this.getOption('templateHelpers');\n      templateHelpers = Marionette._getValue(templateHelpers, this);\n      return _.extend(target, templateHelpers);\n    },\n  \n    // normalize the keys of passed hash with the views `ui` selectors.\n    // `{\"@ui.foo\": \"bar\"}`\n    normalizeUIKeys: function(hash) {\n      var uiBindings = _.result(this, '_uiBindings');\n      return Marionette.normalizeUIKeys(hash, uiBindings || _.result(this, 'ui'));\n    },\n  \n    // normalize the values of passed hash with the views `ui` selectors.\n    // `{foo: \"@ui.bar\"}`\n    normalizeUIValues: function(hash, properties) {\n      var ui = _.result(this, 'ui');\n      var uiBindings = _.result(this, '_uiBindings');\n      return Marionette.normalizeUIValues(hash, uiBindings || ui, properties);\n    },\n  \n    // Configure `triggers` to forward DOM events to view\n    // events. `triggers: {\"click .foo\": \"do:foo\"}`\n    configureTriggers: function() {\n      if (!this.triggers) { return; }\n  \n      // Allow `triggers` to be configured as a function\n      var triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n  \n      // Configure the triggers, prevent default\n      // action and stop propagation of DOM events\n      return _.reduce(triggers, function(events, value, key) {\n        events[key] = this._buildViewTrigger(value);\n        return events;\n      }, {}, this);\n    },\n  \n    // Overriding Backbone.View's delegateEvents to handle\n    // the `triggers`, `modelEvents`, and `collectionEvents` configuration\n    delegateEvents: function(events) {\n      this._delegateDOMEvents(events);\n      this.bindEntityEvents(this.model, this.getOption('modelEvents'));\n      this.bindEntityEvents(this.collection, this.getOption('collectionEvents'));\n  \n      _.each(this._behaviors, function(behavior) {\n        behavior.bindEntityEvents(this.model, behavior.getOption('modelEvents'));\n        behavior.bindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n      }, this);\n  \n      return this;\n    },\n  \n    // internal method to delegate DOM events and triggers\n    _delegateDOMEvents: function(eventsArg) {\n      var events = Marionette._getValue(eventsArg || this.events, this);\n  \n      // normalize ui keys\n      events = this.normalizeUIKeys(events);\n      if (_.isUndefined(eventsArg)) {this.events = events;}\n  \n      var combinedEvents = {};\n  \n      // look up if this view has behavior events\n      var behaviorEvents = _.result(this, 'behaviorEvents') || {};\n      var triggers = this.configureTriggers();\n      var behaviorTriggers = _.result(this, 'behaviorTriggers') || {};\n  \n      // behavior events will be overriden by view events and or triggers\n      _.extend(combinedEvents, behaviorEvents, events, triggers, behaviorTriggers);\n  \n      Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n    },\n  \n    // Overriding Backbone.View's undelegateEvents to handle unbinding\n    // the `triggers`, `modelEvents`, and `collectionEvents` config\n    undelegateEvents: function() {\n      Backbone.View.prototype.undelegateEvents.apply(this, arguments);\n  \n      this.unbindEntityEvents(this.model, this.getOption('modelEvents'));\n      this.unbindEntityEvents(this.collection, this.getOption('collectionEvents'));\n  \n      _.each(this._behaviors, function(behavior) {\n        behavior.unbindEntityEvents(this.model, behavior.getOption('modelEvents'));\n        behavior.unbindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n      }, this);\n  \n      return this;\n    },\n  \n    // Internal helper method to verify whether the view hasn't been destroyed\n    _ensureViewIsIntact: function() {\n      if (this.isDestroyed) {\n        throw new Marionette.Error({\n          name: 'ViewDestroyedError',\n          message: 'View (cid: \"' + this.cid + '\") has already been destroyed and cannot be used.'\n        });\n      }\n    },\n  \n    // Default `destroy` implementation, for removing a view from the\n    // DOM and unbinding it. Regions will call this method\n    // for you. You can specify an `onDestroy` method in your view to\n    // add custom code that is called after the view is destroyed.\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n  \n      var args = _.toArray(arguments);\n  \n      this.triggerMethod.apply(this, ['before:destroy'].concat(args));\n  \n      // mark as destroyed before doing the actual destroy, to\n      // prevent infinite loops within \"destroy\" event handlers\n      // that are trying to destroy other views\n      this.isDestroyed = true;\n      this.triggerMethod.apply(this, ['destroy'].concat(args));\n  \n      // unbind UI elements\n      this.unbindUIElements();\n  \n      this.isRendered = false;\n  \n      // remove the view from the DOM\n      this.remove();\n  \n      // Call destroy on each behavior after\n      // destroying the view.\n      // This unbinds event listeners\n      // that behaviors have registered for.\n      _.invoke(this._behaviors, 'destroy', args);\n  \n      return this;\n    },\n  \n    bindUIElements: function() {\n      this._bindUIElements();\n      _.invoke(this._behaviors, this._bindUIElements);\n    },\n  \n    // This method binds the elements specified in the \"ui\" hash inside the view's code with\n    // the associated jQuery selectors.\n    _bindUIElements: function() {\n      if (!this.ui) { return; }\n  \n      // store the ui hash in _uiBindings so they can be reset later\n      // and so re-rendering the view will be able to find the bindings\n      if (!this._uiBindings) {\n        this._uiBindings = this.ui;\n      }\n  \n      // get the bindings result, as a function or otherwise\n      var bindings = _.result(this, '_uiBindings');\n  \n      // empty the ui so we don't have anything to start with\n      this.ui = {};\n  \n      // bind each of the selectors\n      _.each(bindings, function(selector, key) {\n        this.ui[key] = this.$(selector);\n      }, this);\n    },\n  \n    // This method unbinds the elements specified in the \"ui\" hash\n    unbindUIElements: function() {\n      this._unbindUIElements();\n      _.invoke(this._behaviors, this._unbindUIElements);\n    },\n  \n    _unbindUIElements: function() {\n      if (!this.ui || !this._uiBindings) { return; }\n  \n      // delete all of the existing ui bindings\n      _.each(this.ui, function($el, name) {\n        delete this.ui[name];\n      }, this);\n  \n      // reset the ui element to the original bindings configuration\n      this.ui = this._uiBindings;\n      delete this._uiBindings;\n    },\n  \n    // Internal method to create an event handler for a given `triggerDef` like\n    // 'click:foo'\n    _buildViewTrigger: function(triggerDef) {\n  \n      var options = _.defaults({}, triggerDef, {\n        preventDefault: true,\n        stopPropagation: true\n      });\n  \n      var eventName = _.isObject(triggerDef) ? options.event : triggerDef;\n  \n      return function(e) {\n        if (e) {\n          if (e.preventDefault && options.preventDefault) {\n            e.preventDefault();\n          }\n  \n          if (e.stopPropagation && options.stopPropagation) {\n            e.stopPropagation();\n          }\n        }\n  \n        var args = {\n          view: this,\n          model: this.model,\n          collection: this.collection\n        };\n  \n        this.triggerMethod(eventName, args);\n      };\n    },\n  \n    setElement: function() {\n      var ret = Backbone.View.prototype.setElement.apply(this, arguments);\n  \n      // proxy behavior $el to the view's $el.\n      // This is needed because a view's $el proxy\n      // is not set until after setElement is called.\n      _.invoke(this._behaviors, 'proxyViewProperties', this);\n  \n      return ret;\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: function() {\n      var ret = Marionette._triggerMethod(this, arguments);\n  \n      this._triggerEventOnBehaviors(arguments);\n      this._triggerEventOnParentLayout(arguments[0], _.rest(arguments));\n  \n      return ret;\n    },\n  \n    _triggerEventOnBehaviors: function(args) {\n      var triggerMethod = Marionette._triggerMethod;\n      var behaviors = this._behaviors;\n      // Use good ol' for as this is a very hot function\n      for (var i = 0, length = behaviors && behaviors.length; i < length; i++) {\n        triggerMethod(behaviors[i], args);\n      }\n    },\n  \n    _triggerEventOnParentLayout: function(eventName, args) {\n      var layoutView = this._parentLayoutView();\n      if (!layoutView) {\n        return;\n      }\n  \n      // invoke triggerMethod on parent view\n      var eventPrefix = Marionette.getOption(layoutView, 'childViewEventPrefix');\n      var prefixedEventName = eventPrefix + ':' + eventName;\n      var callArgs = [this].concat(args);\n  \n      Marionette._triggerMethod(layoutView, prefixedEventName, callArgs);\n  \n      // call the parent view's childEvents handler\n      var childEvents = Marionette.getOption(layoutView, 'childEvents');\n  \n      // since childEvents can be an object or a function use Marionette._getValue\n      // to handle the abstaction for us.\n      childEvents = Marionette._getValue(childEvents, layoutView);\n      var normalizedChildEvents = layoutView.normalizeMethods(childEvents);\n  \n      if (normalizedChildEvents && _.isFunction(normalizedChildEvents[eventName])) {\n        normalizedChildEvents[eventName].apply(layoutView, callArgs);\n      }\n    },\n  \n    // This method returns any views that are immediate\n    // children of this view\n    _getImmediateChildren: function() {\n      return [];\n    },\n  \n    // Returns an array of every nested view within this view\n    _getNestedViews: function() {\n      var children = this._getImmediateChildren();\n  \n      if (!children.length) { return children; }\n  \n      return _.reduce(children, function(memo, view) {\n        if (!view._getNestedViews) { return memo; }\n        return memo.concat(view._getNestedViews());\n      }, children);\n    },\n  \n    // Walk the _parent tree until we find a layout view (if one exists).\n    // Returns the parent layout view hierarchically closest to this view.\n    _parentLayoutView: function() {\n      var parent  = this._parent;\n  \n      while (parent) {\n        if (parent instanceof Marionette.LayoutView) {\n          return parent;\n        }\n        parent = parent._parent;\n      }\n    },\n  \n    // Imports the \"normalizeMethods\" to transform hashes of\n    // events=>function references/names to a hash of events=>function references\n    normalizeMethods: Marionette.normalizeMethods,\n  \n    // A handy way to merge passed-in options onto the instance\n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  // Item View\n  // ---------\n  \n  // A single item view implementation that contains code for rendering\n  // with underscore.js templates, serializing the view's model or collection,\n  // and calling several methods on extended views, such as `onRender`.\n  Marionette.ItemView = Marionette.View.extend({\n  \n    // Setting up the inheritance chain which allows changes to\n    // Marionette.View.prototype.constructor which allows overriding\n    constructor: function() {\n      Marionette.View.apply(this, arguments);\n    },\n  \n    // Serialize the model or collection for the view. If a model is\n    // found, the view's `serializeModel` is called. If a collection is found,\n    // each model in the collection is serialized by calling\n    // the view's `serializeCollection` and put into an `items` array in\n    // the resulting data. If both are found, defaults to the model.\n    // You can override the `serializeData` method in your own view definition,\n    // to provide custom serialization for your view's data.\n    serializeData: function() {\n      if (!this.model && !this.collection) {\n        return {};\n      }\n  \n      var args = [this.model || this.collection];\n      if (arguments.length) {\n        args.push.apply(args, arguments);\n      }\n  \n      if (this.model) {\n        return this.serializeModel.apply(this, args);\n      } else {\n        return {\n          items: this.serializeCollection.apply(this, args)\n        };\n      }\n    },\n  \n    // Serialize a collection by serializing each of its models.\n    serializeCollection: function(collection) {\n      return collection.toJSON.apply(collection, _.rest(arguments));\n    },\n  \n    // Render the view, defaulting to underscore.js templates.\n    // You can override this in your view definition to provide\n    // a very specific rendering for your view. In general, though,\n    // you should override the `Marionette.Renderer` object to\n    // change how Marionette renders views.\n    render: function() {\n      this._ensureViewIsIntact();\n  \n      this.triggerMethod('before:render', this);\n  \n      this._renderTemplate();\n      this.isRendered = true;\n      this.bindUIElements();\n  \n      this.triggerMethod('render', this);\n  \n      return this;\n    },\n  \n    // Internal method to render the template with the serialized data\n    // and template helpers via the `Marionette.Renderer` object.\n    // Throws an `UndefinedTemplateError` error if the template is\n    // any falsely value but literal `false`.\n    _renderTemplate: function() {\n      var template = this.getTemplate();\n  \n      // Allow template-less item views\n      if (template === false) {\n        return;\n      }\n  \n      if (!template) {\n        throw new Marionette.Error({\n          name: 'UndefinedTemplateError',\n          message: 'Cannot render the template since it is null or undefined.'\n        });\n      }\n  \n      // Add in entity data and template helpers\n      var data = this.mixinTemplateHelpers(this.serializeData());\n  \n      // Render and add to el\n      var html = Marionette.Renderer.render(template, data, this);\n      this.attachElContent(html);\n  \n      return this;\n    },\n  \n    // Attaches the content of a given view.\n    // This method can be overridden to optimize rendering,\n    // or to render in a non standard way.\n    //\n    // For example, using `innerHTML` instead of `$el.html`\n    //\n    // ```js\n    // attachElContent: function(html) {\n    //   this.el.innerHTML = html;\n    //   return this;\n    // }\n    // ```\n    attachElContent: function(html) {\n      this.$el.html(html);\n  \n      return this;\n    }\n  });\n  \n  /* jshint maxstatements: 20, maxcomplexity: 7 */\n  \n  // Collection View\n  // ---------------\n  \n  // A view that iterates over a Backbone.Collection\n  // and renders an individual child view for each model.\n  Marionette.CollectionView = Marionette.View.extend({\n  \n    // used as the prefix for child view events\n    // that are forwarded through the collectionview\n    childViewEventPrefix: 'childview',\n  \n    // flag for maintaining the sorted order of the collection\n    sort: true,\n  \n    // constructor\n    // option to pass `{sort: false}` to prevent the `CollectionView` from\n    // maintaining the sorted order of the collection.\n    // This will fallback onto appending childView's to the end.\n    //\n    // option to pass `{comparator: compFunction()}` to allow the `CollectionView`\n    // to use a custom sort order for the collection.\n    constructor: function(options) {\n      this.once('render', this._initialEvents);\n      this._initChildViewStorage();\n  \n      Marionette.View.apply(this, arguments);\n  \n      this.on({\n        'before:show':   this._onBeforeShowCalled,\n        'show':          this._onShowCalled,\n        'before:attach': this._onBeforeAttachCalled,\n        'attach':        this._onAttachCalled\n      });\n      this.initRenderBuffer();\n    },\n  \n    // Instead of inserting elements one by one into the page,\n    // it's much more performant to insert elements into a document\n    // fragment and then insert that document fragment into the page\n    initRenderBuffer: function() {\n      this._bufferedChildren = [];\n    },\n  \n    startBuffering: function() {\n      this.initRenderBuffer();\n      this.isBuffering = true;\n    },\n  \n    endBuffering: function() {\n      // Only trigger attach if already shown and attached, otherwise Region#show() handles this.\n      var canTriggerAttach = this._isShown && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      this.isBuffering = false;\n  \n      if (this._isShown) {\n        this._triggerMethodMany(this._bufferedChildren, this, 'before:show');\n      }\n      if (canTriggerAttach && this._triggerBeforeAttach) {\n        nestedViews = this._getNestedViews();\n        this._triggerMethodMany(nestedViews, this, 'before:attach');\n      }\n  \n      this.attachBuffer(this, this._createBuffer());\n  \n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getNestedViews();\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      if (this._isShown) {\n        this._triggerMethodMany(this._bufferedChildren, this, 'show');\n      }\n      this.initRenderBuffer();\n    },\n  \n    _triggerMethodMany: function(targets, source, eventName) {\n      var args = _.drop(arguments, 3);\n  \n      _.each(targets, function(target) {\n        Marionette.triggerMethodOn.apply(target, [target, eventName, target, source].concat(args));\n      });\n    },\n  \n    // Configured the initial events that the collection view\n    // binds to.\n    _initialEvents: function() {\n      if (this.collection) {\n        this.listenTo(this.collection, 'add', this._onCollectionAdd);\n        this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n        this.listenTo(this.collection, 'reset', this.render);\n  \n        if (this.getOption('sort')) {\n          this.listenTo(this.collection, 'sort', this._sortViews);\n        }\n      }\n    },\n  \n    // Handle a child added to the collection\n    _onCollectionAdd: function(child, collection, opts) {\n      // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n      var index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n  \n      // When filtered or when there is no initial index, calculate index.\n      if (this.getOption('filter') || index === false) {\n        index = _.indexOf(this._filteredSortedModels(index), child);\n      }\n  \n      if (this._shouldAddChild(child, index)) {\n        this.destroyEmptyView();\n        var ChildView = this.getChildView(child);\n        this.addChild(child, ChildView, index);\n      }\n    },\n  \n    // get the child view by model it holds, and remove it\n    _onCollectionRemove: function(model) {\n      var view = this.children.findByModel(model);\n      this.removeChildView(view);\n      this.checkEmpty();\n    },\n  \n    _onBeforeShowCalled: function() {\n      // Reset attach event flags at the top of the Region#show() event lifecycle; if the Region's\n      // show() options permit onBeforeAttach/onAttach events, these flags will be set true again.\n      this._triggerBeforeAttach = this._triggerAttach = false;\n      this.children.each(function(childView) {\n        Marionette.triggerMethodOn(childView, 'before:show', childView);\n      });\n    },\n  \n    _onShowCalled: function() {\n      this.children.each(function(childView) {\n        Marionette.triggerMethodOn(childView, 'show', childView);\n      });\n    },\n  \n    // If during Region#show() onBeforeAttach was fired, continue firing it for child views\n    _onBeforeAttachCalled: function() {\n      this._triggerBeforeAttach = true;\n    },\n  \n    // If during Region#show() onAttach was fired, continue firing it for child views\n    _onAttachCalled: function() {\n      this._triggerAttach = true;\n    },\n  \n    // Render children views. Override this method to\n    // provide your own implementation of a render function for\n    // the collection view.\n    render: function() {\n      this._ensureViewIsIntact();\n      this.triggerMethod('before:render', this);\n      this._renderChildren();\n      this.isRendered = true;\n      this.triggerMethod('render', this);\n      return this;\n    },\n  \n    // Reorder DOM after sorting. When your element's rendering\n    // do not use their index, you can pass reorderOnSort: true\n    // to only reorder the DOM after a sort instead of rendering\n    // all the collectionView\n    reorder: function() {\n      var children = this.children;\n      var models = this._filteredSortedModels();\n  \n      if (!models.length && this._showingEmptyView) { return this; }\n  \n      var anyModelsAdded = _.some(models, function(model) {\n        return !children.findByModel(model);\n      });\n  \n      // If there are any new models added due to filtering\n      // We need to add child views\n      // So render as normal\n      if (anyModelsAdded) {\n        this.render();\n      } else {\n        // get the DOM nodes in the same order as the models\n        var elsToReorder = _.map(models, function(model, index) {\n          var view = children.findByModel(model);\n          view._index = index;\n          return view.el;\n        });\n  \n        // find the views that were children before but arent in this new ordering\n        var filteredOutViews = children.filter(function(view) {\n          return !_.contains(elsToReorder, view.el);\n        });\n  \n        this.triggerMethod('before:reorder');\n  \n        // since append moves elements that are already in the DOM,\n        // appending the elements will effectively reorder them\n        this._appendReorderedChildren(elsToReorder);\n  \n        // remove any views that have been filtered out\n        _.each(filteredOutViews, this.removeChildView, this);\n        this.checkEmpty();\n  \n        this.triggerMethod('reorder');\n      }\n    },\n  \n    // Render view after sorting. Override this method to\n    // change how the view renders after a `sort` on the collection.\n    // An example of this would be to only `renderChildren` in a `CompositeView`\n    // rather than the full view.\n    resortView: function() {\n      if (Marionette.getOption(this, 'reorderOnSort')) {\n        this.reorder();\n      } else {\n        this.render();\n      }\n    },\n  \n    // Internal method. This checks for any changes in the order of the collection.\n    // If the index of any view doesn't match, it will render.\n    _sortViews: function() {\n      var models = this._filteredSortedModels();\n  \n      // check for any changes in sort order of views\n      var orderChanged = _.find(models, function(item, index) {\n        var view = this.children.findByModel(item);\n        return !view || view._index !== index;\n      }, this);\n  \n      if (orderChanged) {\n        this.resortView();\n      }\n    },\n  \n    // Internal reference to what index a `emptyView` is.\n    _emptyViewIndex: -1,\n  \n    // Internal method. Separated so that CompositeView can append to the childViewContainer\n    // if necessary\n    _appendReorderedChildren: function(children) {\n      this.$el.append(children);\n    },\n  \n    // Internal method. Separated so that CompositeView can have\n    // more control over events being triggered, around the rendering\n    // process\n    _renderChildren: function() {\n      this.destroyEmptyView();\n      this.destroyChildren({checkEmpty: false});\n  \n      if (this.isEmpty(this.collection)) {\n        this.showEmptyView();\n      } else {\n        this.triggerMethod('before:render:collection', this);\n        this.startBuffering();\n        this.showCollection();\n        this.endBuffering();\n        this.triggerMethod('render:collection', this);\n  \n        // If we have shown children and none have passed the filter, show the empty view\n        if (this.children.isEmpty() && this.getOption('filter')) {\n          this.showEmptyView();\n        }\n      }\n    },\n  \n    // Internal method to loop through collection and show each child view.\n    showCollection: function() {\n      var ChildView;\n  \n      var models = this._filteredSortedModels();\n  \n      _.each(models, function(child, index) {\n        ChildView = this.getChildView(child);\n        this.addChild(child, ChildView, index);\n      }, this);\n    },\n  \n    // Allow the collection to be sorted by a custom view comparator\n    _filteredSortedModels: function(addedAt) {\n      var viewComparator = this.getViewComparator();\n      var models = this.collection.models;\n      addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n  \n      if (viewComparator) {\n        var addedModel;\n        // Preserve `at` location, even for a sorted view\n        if (addedAt) {\n          addedModel = models[addedAt];\n          models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n        }\n        models = this._sortModelsBy(models, viewComparator);\n        if (addedModel) {\n          models.splice(addedAt, 0, addedModel);\n        }\n      }\n  \n      // Filter after sorting in case the filter uses the index\n      if (this.getOption('filter')) {\n        models = _.filter(models, function(model, index) {\n          return this._shouldAddChild(model, index);\n        }, this);\n      }\n  \n      return models;\n    },\n  \n    _sortModelsBy: function(models, comparator) {\n      if (typeof comparator === 'string') {\n        return _.sortBy(models, function(model) {\n          return model.get(comparator);\n        }, this);\n      } else if (comparator.length === 1) {\n        return _.sortBy(models, comparator, this);\n      } else {\n        return models.sort(_.bind(comparator, this));\n      }\n    },\n  \n    // Internal method to show an empty view in place of\n    // a collection of child views, when the collection is empty\n    showEmptyView: function() {\n      var EmptyView = this.getEmptyView();\n  \n      if (EmptyView && !this._showingEmptyView) {\n        this.triggerMethod('before:render:empty');\n  \n        this._showingEmptyView = true;\n        var model = new Backbone.Model();\n        this.addEmptyView(model, EmptyView);\n  \n        this.triggerMethod('render:empty');\n      }\n    },\n  \n    // Internal method to destroy an existing emptyView instance\n    // if one exists. Called when a collection view has been\n    // rendered empty, and then a child is added to the collection.\n    destroyEmptyView: function() {\n      if (this._showingEmptyView) {\n        this.triggerMethod('before:remove:empty');\n  \n        this.destroyChildren();\n        delete this._showingEmptyView;\n  \n        this.triggerMethod('remove:empty');\n      }\n    },\n  \n    // Retrieve the empty view class\n    getEmptyView: function() {\n      return this.getOption('emptyView');\n    },\n  \n    // Render and show the emptyView. Similar to addChild method\n    // but \"add:child\" events are not fired, and the event from\n    // emptyView are not forwarded\n    addEmptyView: function(child, EmptyView) {\n      // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n      // Region#show() handles this.\n      var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      // get the emptyViewOptions, falling back to childViewOptions\n      var emptyViewOptions = this.getOption('emptyViewOptions') ||\n                            this.getOption('childViewOptions');\n  \n      if (_.isFunction(emptyViewOptions)) {\n        emptyViewOptions = emptyViewOptions.call(this, child, this._emptyViewIndex);\n      }\n  \n      // build the empty view\n      var view = this.buildChildView(child, EmptyView, emptyViewOptions);\n  \n      view._parent = this;\n  \n      // Proxy emptyView events\n      this.proxyChildEvents(view);\n  \n      view.once('render', function() {\n        // trigger the 'before:show' event on `view` if the collection view has already been shown\n        if (this._isShown) {\n          Marionette.triggerMethodOn(view, 'before:show', view);\n        }\n  \n        // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n        // to public method `renderChildView()`.\n        if (canTriggerAttach && this._triggerBeforeAttach) {\n          nestedViews = this._getViewAndNested(view);\n          this._triggerMethodMany(nestedViews, this, 'before:attach');\n        }\n      }, this);\n  \n      // Store the `emptyView` like a `childView` so we can properly remove and/or close it later\n      this.children.add(view);\n      this.renderChildView(view, this._emptyViewIndex);\n  \n      // Trigger `attach`\n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getViewAndNested(view);\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      // call the 'show' method if the collection view has already been shown\n      if (this._isShown) {\n        Marionette.triggerMethodOn(view, 'show', view);\n      }\n    },\n  \n    // Retrieve the `childView` class, either from `this.options.childView`\n    // or from the `childView` in the object definition. The \"options\"\n    // takes precedence.\n    // This method receives the model that will be passed to the instance\n    // created from this `childView`. Overriding methods may use the child\n    // to determine what `childView` class to return.\n    getChildView: function(child) {\n      var childView = this.getOption('childView');\n  \n      if (!childView) {\n        throw new Marionette.Error({\n          name: 'NoChildViewError',\n          message: 'A \"childView\" must be specified'\n        });\n      }\n  \n      return childView;\n    },\n  \n    // Render the child's view and add it to the\n    // HTML for the collection view at a given index.\n    // This will also update the indices of later views in the collection\n    // in order to keep the children in sync with the collection.\n    addChild: function(child, ChildView, index) {\n      var childViewOptions = this.getOption('childViewOptions');\n      childViewOptions = Marionette._getValue(childViewOptions, this, [child, index]);\n  \n      var view = this.buildChildView(child, ChildView, childViewOptions);\n  \n      // increment indices of views after this one\n      this._updateIndices(view, true, index);\n  \n      this.triggerMethod('before:add:child', view);\n      this._addChildView(view, index);\n      this.triggerMethod('add:child', view);\n  \n      view._parent = this;\n  \n      return view;\n    },\n  \n    // Internal method. This decrements or increments the indices of views after the\n    // added/removed view to keep in sync with the collection.\n    _updateIndices: function(view, increment, index) {\n      if (!this.getOption('sort')) {\n        return;\n      }\n  \n      if (increment) {\n        // assign the index to the view\n        view._index = index;\n      }\n  \n      // update the indexes of views after this one\n      this.children.each(function(laterView) {\n        if (laterView._index >= view._index) {\n          laterView._index += increment ? 1 : -1;\n        }\n      });\n    },\n  \n    // Internal Method. Add the view to children and render it at\n    // the given index.\n    _addChildView: function(view, index) {\n      // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n      // Region#show() handles this.\n      var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n      var nestedViews;\n  \n      // set up the child view event forwarding\n      this.proxyChildEvents(view);\n  \n      view.once('render', function() {\n        // trigger the 'before:show' event on `view` if the collection view has already been shown\n        if (this._isShown && !this.isBuffering) {\n          Marionette.triggerMethodOn(view, 'before:show', view);\n        }\n  \n        // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n        // to public method `renderChildView()`.\n        if (canTriggerAttach && this._triggerBeforeAttach) {\n          nestedViews = this._getViewAndNested(view);\n          this._triggerMethodMany(nestedViews, this, 'before:attach');\n        }\n      }, this);\n  \n      // Store the child view itself so we can properly remove and/or destroy it later\n      this.children.add(view);\n      this.renderChildView(view, index);\n  \n      // Trigger `attach`\n      if (canTriggerAttach && this._triggerAttach) {\n        nestedViews = this._getViewAndNested(view);\n        this._triggerMethodMany(nestedViews, this, 'attach');\n      }\n      // Trigger `show`\n      if (this._isShown && !this.isBuffering) {\n        Marionette.triggerMethodOn(view, 'show', view);\n      }\n    },\n  \n    // render the child view\n    renderChildView: function(view, index) {\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:render', view);\n      }\n      view.render();\n      if (!view.supportsRenderLifecycle) {\n        Marionette.triggerMethodOn(view, 'render', view);\n      }\n      this.attachHtml(this, view, index);\n      return view;\n    },\n  \n    // Build a `childView` for a model in the collection.\n    buildChildView: function(child, ChildViewClass, childViewOptions) {\n      var options = _.extend({model: child}, childViewOptions);\n      var childView = new ChildViewClass(options);\n      Marionette.MonitorDOMRefresh(childView);\n      return childView;\n    },\n  \n    // Remove the child view and destroy it.\n    // This function also updates the indices of\n    // later views in the collection in order to keep\n    // the children in sync with the collection.\n    removeChildView: function(view) {\n      if (!view) { return view; }\n  \n      this.triggerMethod('before:remove:child', view);\n  \n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'before:destroy', view);\n      }\n      // call 'destroy' or 'remove', depending on which is found\n      if (view.destroy) {\n        view.destroy();\n      } else {\n        view.remove();\n      }\n      if (!view.supportsDestroyLifecycle) {\n        Marionette.triggerMethodOn(view, 'destroy', view);\n      }\n  \n      delete view._parent;\n      this.stopListening(view);\n      this.children.remove(view);\n      this.triggerMethod('remove:child', view);\n  \n      // decrement the index of views after this one\n      this._updateIndices(view, false);\n  \n      return view;\n    },\n  \n    // check if the collection is empty\n    isEmpty: function() {\n      return !this.collection || this.collection.length === 0;\n    },\n  \n    // If empty, show the empty view\n    checkEmpty: function() {\n      if (this.isEmpty(this.collection)) {\n        this.showEmptyView();\n      }\n    },\n  \n    // You might need to override this if you've overridden attachHtml\n    attachBuffer: function(collectionView, buffer) {\n      collectionView.$el.append(buffer);\n    },\n  \n    // Create a fragment buffer from the currently buffered children\n    _createBuffer: function() {\n      var elBuffer = document.createDocumentFragment();\n      _.each(this._bufferedChildren, function(b) {\n        elBuffer.appendChild(b.el);\n      });\n      return elBuffer;\n    },\n  \n    // Append the HTML to the collection's `el`.\n    // Override this method to do something other\n    // than `.append`.\n    attachHtml: function(collectionView, childView, index) {\n      if (collectionView.isBuffering) {\n        // buffering happens on reset events and initial renders\n        // in order to reduce the number of inserts into the\n        // document, which are expensive.\n        collectionView._bufferedChildren.splice(index, 0, childView);\n      } else {\n        // If we've already rendered the main collection, append\n        // the new child into the correct order if we need to. Otherwise\n        // append to the end.\n        if (!collectionView._insertBefore(childView, index)) {\n          collectionView._insertAfter(childView);\n        }\n      }\n    },\n  \n    // Internal method. Check whether we need to insert the view into\n    // the correct position.\n    _insertBefore: function(childView, index) {\n      var currentView;\n      var findPosition = this.getOption('sort') && (index < this.children.length - 1);\n      if (findPosition) {\n        // Find the view after this one\n        currentView = this.children.find(function(view) {\n          return view._index === index + 1;\n        });\n      }\n  \n      if (currentView) {\n        currentView.$el.before(childView.el);\n        return true;\n      }\n  \n      return false;\n    },\n  \n    // Internal method. Append a view to the end of the $el\n    _insertAfter: function(childView) {\n      this.$el.append(childView.el);\n    },\n  \n    // Internal method to set up the `children` object for\n    // storing all of the child views\n    _initChildViewStorage: function() {\n      this.children = new Backbone.ChildViewContainer();\n    },\n  \n    // Handle cleanup and other destroying needs for the collection of views\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n  \n      this.triggerMethod('before:destroy:collection');\n      this.destroyChildren({checkEmpty: false});\n      this.triggerMethod('destroy:collection');\n  \n      return Marionette.View.prototype.destroy.apply(this, arguments);\n    },\n  \n    // Destroy the child views that this collection view\n    // is holding on to, if any\n    destroyChildren: function(options) {\n      var destroyOptions = options || {};\n      var shouldCheckEmpty = true;\n      var childViews = this.children.map(_.identity);\n  \n      if (!_.isUndefined(destroyOptions.checkEmpty)) {\n        shouldCheckEmpty = destroyOptions.checkEmpty;\n      }\n  \n      this.children.each(this.removeChildView, this);\n  \n      if (shouldCheckEmpty) {\n        this.checkEmpty();\n      }\n      return childViews;\n    },\n  \n    // Return true if the given child should be shown\n    // Return false otherwise\n    // The filter will be passed (child, index, collection)\n    // Where\n    //  'child' is the given model\n    //  'index' is the index of that model in the collection\n    //  'collection' is the collection referenced by this CollectionView\n    _shouldAddChild: function(child, index) {\n      var filter = this.getOption('filter');\n      return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n    },\n  \n    // Set up the child view event forwarding. Uses a \"childview:\"\n    // prefix in front of all forwarded events.\n    proxyChildEvents: function(view) {\n      var prefix = this.getOption('childViewEventPrefix');\n  \n      // Forward all child view events through the parent,\n      // prepending \"childview:\" to the event name\n      this.listenTo(view, 'all', function() {\n        var args = _.toArray(arguments);\n        var rootEvent = args[0];\n        var childEvents = this.normalizeMethods(_.result(this, 'childEvents'));\n  \n        args[0] = prefix + ':' + rootEvent;\n        args.splice(1, 0, view);\n  \n        // call collectionView childEvent if defined\n        if (typeof childEvents !== 'undefined' && _.isFunction(childEvents[rootEvent])) {\n          childEvents[rootEvent].apply(this, args.slice(1));\n        }\n  \n        this.triggerMethod.apply(this, args);\n      });\n    },\n  \n    _getImmediateChildren: function() {\n      return _.values(this.children._views);\n    },\n  \n    _getViewAndNested: function(view) {\n      // This will not fail on Backbone.View which does not have #_getNestedViews.\n      return [view].concat(_.result(view, '_getNestedViews') || []);\n    },\n  \n    getViewComparator: function() {\n      return this.getOption('viewComparator');\n    }\n  });\n  \n  /* jshint maxstatements: 17, maxlen: 117 */\n  \n  // Composite View\n  // --------------\n  \n  // Used for rendering a branch-leaf, hierarchical structure.\n  // Extends directly from CollectionView and also renders an\n  // a child view as `modelView`, for the top leaf\n  Marionette.CompositeView = Marionette.CollectionView.extend({\n  \n    // Setting up the inheritance chain which allows changes to\n    // Marionette.CollectionView.prototype.constructor which allows overriding\n    // option to pass '{sort: false}' to prevent the CompositeView from\n    // maintaining the sorted order of the collection.\n    // This will fallback onto appending childView's to the end.\n    constructor: function() {\n      Marionette.CollectionView.apply(this, arguments);\n    },\n  \n    // Configured the initial events that the composite view\n    // binds to. Override this method to prevent the initial\n    // events, or to add your own initial events.\n    _initialEvents: function() {\n  \n      // Bind only after composite view is rendered to avoid adding child views\n      // to nonexistent childViewContainer\n  \n      if (this.collection) {\n        this.listenTo(this.collection, 'add', this._onCollectionAdd);\n        this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n        this.listenTo(this.collection, 'reset', this._renderChildren);\n  \n        if (this.getOption('sort')) {\n          this.listenTo(this.collection, 'sort', this._sortViews);\n        }\n      }\n    },\n  \n    // Retrieve the `childView` to be used when rendering each of\n    // the items in the collection. The default is to return\n    // `this.childView` or Marionette.CompositeView if no `childView`\n    // has been defined\n    getChildView: function(child) {\n      var childView = this.getOption('childView') || this.constructor;\n  \n      return childView;\n    },\n  \n    // Serialize the model for the view.\n    // You can override the `serializeData` method in your own view\n    // definition, to provide custom serialization for your view's data.\n    serializeData: function() {\n      var data = {};\n  \n      if (this.model) {\n        data = _.partial(this.serializeModel, this.model).apply(this, arguments);\n      }\n  \n      return data;\n    },\n  \n    // Renders the model and the collection.\n    render: function() {\n      this._ensureViewIsIntact();\n      this._isRendering = true;\n      this.resetChildViewContainer();\n  \n      this.triggerMethod('before:render', this);\n  \n      this._renderTemplate();\n      this._renderChildren();\n  \n      this._isRendering = false;\n      this.isRendered = true;\n      this.triggerMethod('render', this);\n      return this;\n    },\n  \n    _renderChildren: function() {\n      if (this.isRendered || this._isRendering) {\n        Marionette.CollectionView.prototype._renderChildren.call(this);\n      }\n    },\n  \n    // Render the root template that the children\n    // views are appended to\n    _renderTemplate: function() {\n      var data = {};\n      data = this.serializeData();\n      data = this.mixinTemplateHelpers(data);\n  \n      this.triggerMethod('before:render:template');\n  \n      var template = this.getTemplate();\n      var html = Marionette.Renderer.render(template, data, this);\n      this.attachElContent(html);\n  \n      // the ui bindings is done here and not at the end of render since they\n      // will not be available until after the model is rendered, but should be\n      // available before the collection is rendered.\n      this.bindUIElements();\n      this.triggerMethod('render:template');\n    },\n  \n    // Attaches the content of the root.\n    // This method can be overridden to optimize rendering,\n    // or to render in a non standard way.\n    //\n    // For example, using `innerHTML` instead of `$el.html`\n    //\n    // ```js\n    // attachElContent: function(html) {\n    //   this.el.innerHTML = html;\n    //   return this;\n    // }\n    // ```\n    attachElContent: function(html) {\n      this.$el.html(html);\n  \n      return this;\n    },\n  \n    // You might need to override this if you've overridden attachHtml\n    attachBuffer: function(compositeView, buffer) {\n      var $container = this.getChildViewContainer(compositeView);\n      $container.append(buffer);\n    },\n  \n    // Internal method. Append a view to the end of the $el.\n    // Overidden from CollectionView to ensure view is appended to\n    // childViewContainer\n    _insertAfter: function(childView) {\n      var $container = this.getChildViewContainer(this, childView);\n      $container.append(childView.el);\n    },\n  \n    // Internal method. Append reordered childView'.\n    // Overidden from CollectionView to ensure reordered views\n    // are appended to childViewContainer\n    _appendReorderedChildren: function(children) {\n      var $container = this.getChildViewContainer(this);\n      $container.append(children);\n    },\n  \n    // Internal method to ensure an `$childViewContainer` exists, for the\n    // `attachHtml` method to use.\n    getChildViewContainer: function(containerView, childView) {\n      if (!!containerView.$childViewContainer) {\n        return containerView.$childViewContainer;\n      }\n  \n      var container;\n      var childViewContainer = Marionette.getOption(containerView, 'childViewContainer');\n      if (childViewContainer) {\n  \n        var selector = Marionette._getValue(childViewContainer, containerView);\n  \n        if (selector.charAt(0) === '@' && containerView.ui) {\n          container = containerView.ui[selector.substr(4)];\n        } else {\n          container = containerView.$(selector);\n        }\n  \n        if (container.length <= 0) {\n          throw new Marionette.Error({\n            name: 'ChildViewContainerMissingError',\n            message: 'The specified \"childViewContainer\" was not found: ' + containerView.childViewContainer\n          });\n        }\n  \n      } else {\n        container = containerView.$el;\n      }\n  \n      containerView.$childViewContainer = container;\n      return container;\n    },\n  \n    // Internal method to reset the `$childViewContainer` on render\n    resetChildViewContainer: function() {\n      if (this.$childViewContainer) {\n        this.$childViewContainer = undefined;\n      }\n    }\n  });\n  \n  // Layout View\n  // -----------\n  \n  // Used for managing application layoutViews, nested layoutViews and\n  // multiple regions within an application or sub-application.\n  //\n  // A specialized view class that renders an area of HTML and then\n  // attaches `Region` instances to the specified `regions`.\n  // Used for composite view management and sub-application areas.\n  Marionette.LayoutView = Marionette.ItemView.extend({\n    regionClass: Marionette.Region,\n  \n    options: {\n      destroyImmediate: false\n    },\n  \n    // used as the prefix for child view events\n    // that are forwarded through the layoutview\n    childViewEventPrefix: 'childview',\n  \n    // Ensure the regions are available when the `initialize` method\n    // is called.\n    constructor: function(options) {\n      options = options || {};\n  \n      this._firstRender = true;\n      this._initializeRegions(options);\n  \n      Marionette.ItemView.call(this, options);\n    },\n  \n    // LayoutView's render will use the existing region objects the\n    // first time it is called. Subsequent calls will destroy the\n    // views that the regions are showing and then reset the `el`\n    // for the regions to the newly rendered DOM elements.\n    render: function() {\n      this._ensureViewIsIntact();\n  \n      if (this._firstRender) {\n        // if this is the first render, don't do anything to\n        // reset the regions\n        this._firstRender = false;\n      } else {\n        // If this is not the first render call, then we need to\n        // re-initialize the `el` for each region\n        this._reInitializeRegions();\n      }\n  \n      return Marionette.ItemView.prototype.render.apply(this, arguments);\n    },\n  \n    // Handle destroying regions, and then destroy the view itself.\n    destroy: function() {\n      if (this.isDestroyed) { return this; }\n      // #2134: remove parent element before destroying the child views, so\n      // removing the child views doesn't retrigger repaints\n      if (this.getOption('destroyImmediate') === true) {\n        this.$el.remove();\n      }\n      this.regionManager.destroy();\n      return Marionette.ItemView.prototype.destroy.apply(this, arguments);\n    },\n  \n    showChildView: function(regionName, view, options) {\n      var region = this.getRegion(regionName);\n      return region.show.apply(region, _.rest(arguments));\n    },\n  \n    getChildView: function(regionName) {\n      return this.getRegion(regionName).currentView;\n    },\n  \n    // Add a single region, by name, to the layoutView\n    addRegion: function(name, definition) {\n      var regions = {};\n      regions[name] = definition;\n      return this._buildRegions(regions)[name];\n    },\n  \n    // Add multiple regions as a {name: definition, name2: def2} object literal\n    addRegions: function(regions) {\n      this.regions = _.extend({}, this.regions, regions);\n      return this._buildRegions(regions);\n    },\n  \n    // Remove a single region from the LayoutView, by name\n    removeRegion: function(name) {\n      delete this.regions[name];\n      return this.regionManager.removeRegion(name);\n    },\n  \n    // Provides alternative access to regions\n    // Accepts the region name\n    // getRegion('main')\n    getRegion: function(region) {\n      return this.regionManager.get(region);\n    },\n  \n    // Get all regions\n    getRegions: function() {\n      return this.regionManager.getRegions();\n    },\n  \n    // internal method to build regions\n    _buildRegions: function(regions) {\n      var defaults = {\n        regionClass: this.getOption('regionClass'),\n        parentEl: _.partial(_.result, this, 'el')\n      };\n  \n      return this.regionManager.addRegions(regions, defaults);\n    },\n  \n    // Internal method to initialize the regions that have been defined in a\n    // `regions` attribute on this layoutView.\n    _initializeRegions: function(options) {\n      var regions;\n      this._initRegionManager();\n  \n      regions = Marionette._getValue(this.regions, this, [options]) || {};\n  \n      // Enable users to define `regions` as instance options.\n      var regionOptions = this.getOption.call(options, 'regions');\n  \n      // enable region options to be a function\n      regionOptions = Marionette._getValue(regionOptions, this, [options]);\n  \n      _.extend(regions, regionOptions);\n  \n      // Normalize region selectors hash to allow\n      // a user to use the @ui. syntax.\n      regions = this.normalizeUIValues(regions, ['selector', 'el']);\n  \n      this.addRegions(regions);\n    },\n  \n    // Internal method to re-initialize all of the regions by updating the `el` that\n    // they point to\n    _reInitializeRegions: function() {\n      this.regionManager.invoke('reset');\n    },\n  \n    // Enable easy overriding of the default `RegionManager`\n    // for customized region interactions and business specific\n    // view logic for better control over single regions.\n    getRegionManager: function() {\n      return new Marionette.RegionManager();\n    },\n  \n    // Internal method to initialize the region manager\n    // and all regions in it\n    _initRegionManager: function() {\n      this.regionManager = this.getRegionManager();\n      this.regionManager._parent = this;\n  \n      this.listenTo(this.regionManager, 'before:add:region', function(name) {\n        this.triggerMethod('before:add:region', name);\n      });\n  \n      this.listenTo(this.regionManager, 'add:region', function(name, region) {\n        this[name] = region;\n        this.triggerMethod('add:region', name, region);\n      });\n  \n      this.listenTo(this.regionManager, 'before:remove:region', function(name) {\n        this.triggerMethod('before:remove:region', name);\n      });\n  \n      this.listenTo(this.regionManager, 'remove:region', function(name, region) {\n        delete this[name];\n        this.triggerMethod('remove:region', name, region);\n      });\n    },\n  \n    _getImmediateChildren: function() {\n      return _.chain(this.regionManager.getRegions())\n        .pluck('currentView')\n        .compact()\n        .value();\n    }\n  });\n  \n\n  // Behavior\n  // --------\n  \n  // A Behavior is an isolated set of DOM /\n  // user interactions that can be mixed into any View.\n  // Behaviors allow you to blackbox View specific interactions\n  // into portable logical chunks, keeping your views simple and your code DRY.\n  \n  Marionette.Behavior = Marionette.Object.extend({\n    constructor: function(options, view) {\n      // Setup reference to the view.\n      // this comes in handle when a behavior\n      // wants to directly talk up the chain\n      // to the view.\n      this.view = view;\n      this.defaults = _.result(this, 'defaults') || {};\n      this.options  = _.extend({}, this.defaults, options);\n      // Construct an internal UI hash using\n      // the views UI hash and then the behaviors UI hash.\n      // This allows the user to use UI hash elements\n      // defined in the parent view as well as those\n      // defined in the given behavior.\n      this.ui = _.extend({}, _.result(view, 'ui'), _.result(this, 'ui'));\n  \n      Marionette.Object.apply(this, arguments);\n    },\n  \n    // proxy behavior $ method to the view\n    // this is useful for doing jquery DOM lookups\n    // scoped to behaviors view.\n    $: function() {\n      return this.view.$.apply(this.view, arguments);\n    },\n  \n    // Stops the behavior from listening to events.\n    // Overrides Object#destroy to prevent additional events from being triggered.\n    destroy: function() {\n      this.stopListening();\n  \n      return this;\n    },\n  \n    proxyViewProperties: function(view) {\n      this.$el = view.$el;\n      this.el = view.el;\n    }\n  });\n  \n  /* jshint maxlen: 143 */\n  // Behaviors\n  // ---------\n  \n  // Behaviors is a utility class that takes care of\n  // gluing your behavior instances to their given View.\n  // The most important part of this class is that you\n  // **MUST** override the class level behaviorsLookup\n  // method for things to work properly.\n  \n  Marionette.Behaviors = (function(Marionette, _) {\n    // Borrow event splitter from Backbone\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n  \n    function Behaviors(view, behaviors) {\n  \n      if (!_.isObject(view.behaviors)) {\n        return {};\n      }\n  \n      // Behaviors defined on a view can be a flat object literal\n      // or it can be a function that returns an object.\n      behaviors = Behaviors.parseBehaviors(view, behaviors || _.result(view, 'behaviors'));\n  \n      // Wraps several of the view's methods\n      // calling the methods first on each behavior\n      // and then eventually calling the method on the view.\n      Behaviors.wrap(view, behaviors, _.keys(methods));\n      return behaviors;\n    }\n  \n    var methods = {\n      behaviorTriggers: function(behaviorTriggers, behaviors) {\n        var triggerBuilder = new BehaviorTriggersBuilder(this, behaviors);\n        return triggerBuilder.buildBehaviorTriggers();\n      },\n  \n      behaviorEvents: function(behaviorEvents, behaviors) {\n        var _behaviorsEvents = {};\n  \n        _.each(behaviors, function(b, i) {\n          var _events = {};\n          var behaviorEvents = _.clone(_.result(b, 'events')) || {};\n  \n          // Normalize behavior events hash to allow\n          // a user to use the @ui. syntax.\n          behaviorEvents = Marionette.normalizeUIKeys(behaviorEvents, getBehaviorsUI(b));\n  \n          var j = 0;\n          _.each(behaviorEvents, function(behaviour, key) {\n            var match     = key.match(delegateEventSplitter);\n  \n            // Set event name to be namespaced using the view cid,\n            // the behavior index, and the behavior event index\n            // to generate a non colliding event namespace\n            // http://api.jquery.com/event.namespace/\n            var eventName = match[1] + '.' + [this.cid, i, j++, ' '].join('');\n            var selector  = match[2];\n  \n            var eventKey  = eventName + selector;\n            var handler   = _.isFunction(behaviour) ? behaviour : b[behaviour];\n            if (!handler) { return; }\n            _events[eventKey] = _.bind(handler, b);\n          }, this);\n  \n          _behaviorsEvents = _.extend(_behaviorsEvents, _events);\n        }, this);\n  \n        return _behaviorsEvents;\n      }\n    };\n  \n    _.extend(Behaviors, {\n  \n      // Placeholder method to be extended by the user.\n      // The method should define the object that stores the behaviors.\n      // i.e.\n      //\n      // ```js\n      // Marionette.Behaviors.behaviorsLookup: function() {\n      //   return App.Behaviors\n      // }\n      // ```\n      behaviorsLookup: function() {\n        throw new Marionette.Error({\n          message: 'You must define where your behaviors are stored.',\n          url: 'marionette.behaviors.html#behaviorslookup'\n        });\n      },\n  \n      // Takes care of getting the behavior class\n      // given options and a key.\n      // If a user passes in options.behaviorClass\n      // default to using that. Otherwise delegate\n      // the lookup to the users `behaviorsLookup` implementation.\n      getBehaviorClass: function(options, key) {\n        if (options.behaviorClass) {\n          return options.behaviorClass;\n        }\n  \n        // Get behavior class can be either a flat object or a method\n        return Marionette._getValue(Behaviors.behaviorsLookup, this, [options, key])[key];\n      },\n  \n      // Iterate over the behaviors object, for each behavior\n      // instantiate it and get its grouped behaviors.\n      parseBehaviors: function(view, behaviors) {\n        return _.chain(behaviors).map(function(options, key) {\n          var BehaviorClass = Behaviors.getBehaviorClass(options, key);\n  \n          var behavior = new BehaviorClass(options, view);\n          var nestedBehaviors = Behaviors.parseBehaviors(view, _.result(behavior, 'behaviors'));\n  \n          return [behavior].concat(nestedBehaviors);\n        }).flatten().value();\n      },\n  \n      // Wrap view internal methods so that they delegate to behaviors. For example,\n      // `onDestroy` should trigger destroy on all of the behaviors and then destroy itself.\n      // i.e.\n      //\n      // `view.delegateEvents = _.partial(methods.delegateEvents, view.delegateEvents, behaviors);`\n      wrap: function(view, behaviors, methodNames) {\n        _.each(methodNames, function(methodName) {\n          view[methodName] = _.partial(methods[methodName], view[methodName], behaviors);\n        });\n      }\n    });\n  \n    // Class to build handlers for `triggers` on behaviors\n    // for views\n    function BehaviorTriggersBuilder(view, behaviors) {\n      this._view      = view;\n      this._behaviors = behaviors;\n      this._triggers  = {};\n    }\n  \n    _.extend(BehaviorTriggersBuilder.prototype, {\n      // Main method to build the triggers hash with event keys and handlers\n      buildBehaviorTriggers: function() {\n        _.each(this._behaviors, this._buildTriggerHandlersForBehavior, this);\n        return this._triggers;\n      },\n  \n      // Internal method to build all trigger handlers for a given behavior\n      _buildTriggerHandlersForBehavior: function(behavior, i) {\n        var triggersHash = _.clone(_.result(behavior, 'triggers')) || {};\n  \n        triggersHash = Marionette.normalizeUIKeys(triggersHash, getBehaviorsUI(behavior));\n  \n        _.each(triggersHash, _.bind(this._setHandlerForBehavior, this, behavior, i));\n      },\n  \n      // Internal method to create and assign the trigger handler for a given\n      // behavior\n      _setHandlerForBehavior: function(behavior, i, eventName, trigger) {\n        // Unique identifier for the `this._triggers` hash\n        var triggerKey = trigger.replace(/^\\S+/, function(triggerName) {\n          return triggerName + '.' + 'behaviortriggers' + i;\n        });\n  \n        this._triggers[triggerKey] = this._view._buildViewTrigger(eventName);\n      }\n    });\n  \n    function getBehaviorsUI(behavior) {\n      return behavior._uiBindings || behavior.ui;\n    }\n  \n    return Behaviors;\n  \n  })(Marionette, _);\n  \n\n  // App Router\n  // ----------\n  \n  // Reduce the boilerplate code of handling route events\n  // and then calling a single method on another object.\n  // Have your routers configured to call the method on\n  // your object, directly.\n  //\n  // Configure an AppRouter with `appRoutes`.\n  //\n  // App routers can only take one `controller` object.\n  // It is recommended that you divide your controller\n  // objects in to smaller pieces of related functionality\n  // and have multiple routers / controllers, instead of\n  // just one giant router and controller.\n  //\n  // You can also add standard routes to an AppRouter.\n  \n  Marionette.AppRouter = Backbone.Router.extend({\n  \n    constructor: function(options) {\n      this.options = options || {};\n  \n      Backbone.Router.apply(this, arguments);\n  \n      var appRoutes = this.getOption('appRoutes');\n      var controller = this._getController();\n      this.processAppRoutes(controller, appRoutes);\n      this.on('route', this._processOnRoute, this);\n    },\n  \n    // Similar to route method on a Backbone Router but\n    // method is called on the controller\n    appRoute: function(route, methodName) {\n      var controller = this._getController();\n      this._addAppRoute(controller, route, methodName);\n    },\n  \n    // process the route event and trigger the onRoute\n    // method call, if it exists\n    _processOnRoute: function(routeName, routeArgs) {\n      // make sure an onRoute before trying to call it\n      if (_.isFunction(this.onRoute)) {\n        // find the path that matches the current route\n        var routePath = _.invert(this.getOption('appRoutes'))[routeName];\n        this.onRoute(routeName, routePath, routeArgs);\n      }\n    },\n  \n    // Internal method to process the `appRoutes` for the\n    // router, and turn them in to routes that trigger the\n    // specified method on the specified `controller`.\n    processAppRoutes: function(controller, appRoutes) {\n      if (!appRoutes) { return; }\n  \n      var routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n  \n      _.each(routeNames, function(route) {\n        this._addAppRoute(controller, route, appRoutes[route]);\n      }, this);\n    },\n  \n    _getController: function() {\n      return this.getOption('controller');\n    },\n  \n    _addAppRoute: function(controller, route, methodName) {\n      var method = controller[methodName];\n  \n      if (!method) {\n        throw new Marionette.Error('Method \"' + methodName + '\" was not found on the controller');\n      }\n  \n      this.route(route, methodName, _.bind(method, controller));\n    },\n  \n    mergeOptions: Marionette.mergeOptions,\n  \n    // Proxy `getOption` to enable getting options from this or this.options by name.\n    getOption: Marionette.proxyGetOption,\n  \n    triggerMethod: Marionette.triggerMethod,\n  \n    bindEntityEvents: Marionette.proxyBindEntityEvents,\n  \n    unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n  });\n  \n  // Application\n  // -----------\n  \n  // Contain and manage the composite application as a whole.\n  // Stores and starts up `Region` objects, includes an\n  // event aggregator as `app.vent`\n  Marionette.Application = Marionette.Object.extend({\n    constructor: function(options) {\n      this._initializeRegions(options);\n      this._initCallbacks = new Marionette.Callbacks();\n      this.submodules = {};\n      _.extend(this, options);\n      this._initChannel();\n      Marionette.Object.apply(this, arguments);\n    },\n  \n    // Command execution, facilitated by Backbone.Wreqr.Commands\n    execute: function() {\n      this.commands.execute.apply(this.commands, arguments);\n    },\n  \n    // Request/response, facilitated by Backbone.Wreqr.RequestResponse\n    request: function() {\n      return this.reqres.request.apply(this.reqres, arguments);\n    },\n  \n    // Add an initializer that is either run at when the `start`\n    // method is called, or run immediately if added after `start`\n    // has already been called.\n    addInitializer: function(initializer) {\n      this._initCallbacks.add(initializer);\n    },\n  \n    // kick off all of the application's processes.\n    // initializes all of the regions that have been added\n    // to the app, and runs all of the initializer functions\n    start: function(options) {\n      this.triggerMethod('before:start', options);\n      this._initCallbacks.run(options, this);\n      this.triggerMethod('start', options);\n    },\n  \n    // Add regions to your app.\n    // Accepts a hash of named strings or Region objects\n    // addRegions({something: \"#someRegion\"})\n    // addRegions({something: Region.extend({el: \"#someRegion\"}) });\n    addRegions: function(regions) {\n      return this._regionManager.addRegions(regions);\n    },\n  \n    // Empty all regions in the app, without removing them\n    emptyRegions: function() {\n      return this._regionManager.emptyRegions();\n    },\n  \n    // Removes a region from your app, by name\n    // Accepts the regions name\n    // removeRegion('myRegion')\n    removeRegion: function(region) {\n      return this._regionManager.removeRegion(region);\n    },\n  \n    // Provides alternative access to regions\n    // Accepts the region name\n    // getRegion('main')\n    getRegion: function(region) {\n      return this._regionManager.get(region);\n    },\n  \n    // Get all the regions from the region manager\n    getRegions: function() {\n      return this._regionManager.getRegions();\n    },\n  \n    // Create a module, attached to the application\n    module: function(moduleNames, moduleDefinition) {\n  \n      // Overwrite the module class if the user specifies one\n      var ModuleClass = Marionette.Module.getClass(moduleDefinition);\n  \n      var args = _.toArray(arguments);\n      args.unshift(this);\n  \n      // see the Marionette.Module object for more information\n      return ModuleClass.create.apply(ModuleClass, args);\n    },\n  \n    // Enable easy overriding of the default `RegionManager`\n    // for customized region interactions and business-specific\n    // view logic for better control over single regions.\n    getRegionManager: function() {\n      return new Marionette.RegionManager();\n    },\n  \n    // Internal method to initialize the regions that have been defined in a\n    // `regions` attribute on the application instance\n    _initializeRegions: function(options) {\n      var regions = _.isFunction(this.regions) ? this.regions(options) : this.regions || {};\n  \n      this._initRegionManager();\n  \n      // Enable users to define `regions` in instance options.\n      var optionRegions = Marionette.getOption(options, 'regions');\n  \n      // Enable region options to be a function\n      if (_.isFunction(optionRegions)) {\n        optionRegions = optionRegions.call(this, options);\n      }\n  \n      // Overwrite current regions with those passed in options\n      _.extend(regions, optionRegions);\n  \n      this.addRegions(regions);\n  \n      return this;\n    },\n  \n    // Internal method to set up the region manager\n    _initRegionManager: function() {\n      this._regionManager = this.getRegionManager();\n      this._regionManager._parent = this;\n  \n      this.listenTo(this._regionManager, 'before:add:region', function() {\n        Marionette._triggerMethod(this, 'before:add:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'add:region', function(name, region) {\n        this[name] = region;\n        Marionette._triggerMethod(this, 'add:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'before:remove:region', function() {\n        Marionette._triggerMethod(this, 'before:remove:region', arguments);\n      });\n  \n      this.listenTo(this._regionManager, 'remove:region', function(name) {\n        delete this[name];\n        Marionette._triggerMethod(this, 'remove:region', arguments);\n      });\n    },\n  \n    // Internal method to setup the Wreqr.radio channel\n    _initChannel: function() {\n      this.channelName = _.result(this, 'channelName') || 'global';\n      this.channel = _.result(this, 'channel') || Backbone.Wreqr.radio.channel(this.channelName);\n      this.vent = _.result(this, 'vent') || this.channel.vent;\n      this.commands = _.result(this, 'commands') || this.channel.commands;\n      this.reqres = _.result(this, 'reqres') || this.channel.reqres;\n    }\n  });\n  \n  /* jshint maxparams: 9 */\n  \n  // Module\n  // ------\n  \n  // A simple module system, used to create privacy and encapsulation in\n  // Marionette applications\n  Marionette.Module = function(moduleName, app, options) {\n    this.moduleName = moduleName;\n    this.options = _.extend({}, this.options, options);\n    // Allow for a user to overide the initialize\n    // for a given module instance.\n    this.initialize = options.initialize || this.initialize;\n  \n    // Set up an internal store for sub-modules.\n    this.submodules = {};\n  \n    this._setupInitializersAndFinalizers();\n  \n    // Set an internal reference to the app\n    // within a module.\n    this.app = app;\n  \n    if (_.isFunction(this.initialize)) {\n      this.initialize(moduleName, app, this.options);\n    }\n  };\n  \n  Marionette.Module.extend = Marionette.extend;\n  \n  // Extend the Module prototype with events / listenTo, so that the module\n  // can be used as an event aggregator or pub/sub.\n  _.extend(Marionette.Module.prototype, Backbone.Events, {\n  \n    // By default modules start with their parents.\n    startWithParent: true,\n  \n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic when extending Marionette.Module.\n    initialize: function() {},\n  \n    // Initializer for a specific module. Initializers are run when the\n    // module's `start` method is called.\n    addInitializer: function(callback) {\n      this._initializerCallbacks.add(callback);\n    },\n  \n    // Finalizers are run when a module is stopped. They are used to teardown\n    // and finalize any variables, references, events and other code that the\n    // module had set up.\n    addFinalizer: function(callback) {\n      this._finalizerCallbacks.add(callback);\n    },\n  \n    // Start the module, and run all of its initializers\n    start: function(options) {\n      // Prevent re-starting a module that is already started\n      if (this._isInitialized) { return; }\n  \n      // start the sub-modules (depth-first hierarchy)\n      _.each(this.submodules, function(mod) {\n        // check to see if we should start the sub-module with this parent\n        if (mod.startWithParent) {\n          mod.start(options);\n        }\n      });\n  \n      // run the callbacks to \"start\" the current module\n      this.triggerMethod('before:start', options);\n  \n      this._initializerCallbacks.run(options, this);\n      this._isInitialized = true;\n  \n      this.triggerMethod('start', options);\n    },\n  \n    // Stop this module by running its finalizers and then stop all of\n    // the sub-modules for this module\n    stop: function() {\n      // if we are not initialized, don't bother finalizing\n      if (!this._isInitialized) { return; }\n      this._isInitialized = false;\n  \n      this.triggerMethod('before:stop');\n  \n      // stop the sub-modules; depth-first, to make sure the\n      // sub-modules are stopped / finalized before parents\n      _.invoke(this.submodules, 'stop');\n  \n      // run the finalizers\n      this._finalizerCallbacks.run(undefined, this);\n  \n      // reset the initializers and finalizers\n      this._initializerCallbacks.reset();\n      this._finalizerCallbacks.reset();\n  \n      this.triggerMethod('stop');\n    },\n  \n    // Configure the module with a definition function and any custom args\n    // that are to be passed in to the definition function\n    addDefinition: function(moduleDefinition, customArgs) {\n      this._runModuleDefinition(moduleDefinition, customArgs);\n    },\n  \n    // Internal method: run the module definition function with the correct\n    // arguments\n    _runModuleDefinition: function(definition, customArgs) {\n      // If there is no definition short circut the method.\n      if (!definition) { return; }\n  \n      // build the correct list of arguments for the module definition\n      var args = _.flatten([\n        this,\n        this.app,\n        Backbone,\n        Marionette,\n        Backbone.$, _,\n        customArgs\n      ]);\n  \n      definition.apply(this, args);\n    },\n  \n    // Internal method: set up new copies of initializers and finalizers.\n    // Calling this method will wipe out all existing initializers and\n    // finalizers.\n    _setupInitializersAndFinalizers: function() {\n      this._initializerCallbacks = new Marionette.Callbacks();\n      this._finalizerCallbacks = new Marionette.Callbacks();\n    },\n  \n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: Marionette.triggerMethod\n  });\n  \n  // Class methods to create modules\n  _.extend(Marionette.Module, {\n  \n    // Create a module, hanging off the app parameter as the parent object.\n    create: function(app, moduleNames, moduleDefinition) {\n      var module = app;\n  \n      // get the custom args passed in after the module definition and\n      // get rid of the module name and definition function\n      var customArgs = _.drop(arguments, 3);\n  \n      // Split the module names and get the number of submodules.\n      // i.e. an example module name of `Doge.Wow.Amaze` would\n      // then have the potential for 3 module definitions.\n      moduleNames = moduleNames.split('.');\n      var length = moduleNames.length;\n  \n      // store the module definition for the last module in the chain\n      var moduleDefinitions = [];\n      moduleDefinitions[length - 1] = moduleDefinition;\n  \n      // Loop through all the parts of the module definition\n      _.each(moduleNames, function(moduleName, i) {\n        var parentModule = module;\n        module = this._getModule(parentModule, moduleName, app, moduleDefinition);\n        this._addModuleDefinition(parentModule, module, moduleDefinitions[i], customArgs);\n      }, this);\n  \n      // Return the last module in the definition chain\n      return module;\n    },\n  \n    _getModule: function(parentModule, moduleName, app, def, args) {\n      var options = _.extend({}, def);\n      var ModuleClass = this.getClass(def);\n  \n      // Get an existing module of this name if we have one\n      var module = parentModule[moduleName];\n  \n      if (!module) {\n        // Create a new module if we don't have one\n        module = new ModuleClass(moduleName, app, options);\n        parentModule[moduleName] = module;\n        // store the module on the parent\n        parentModule.submodules[moduleName] = module;\n      }\n  \n      return module;\n    },\n  \n    // ## Module Classes\n    //\n    // Module classes can be used as an alternative to the define pattern.\n    // The extend function of a Module is identical to the extend functions\n    // on other Backbone and Marionette classes.\n    // This allows module lifecyle events like `onStart` and `onStop` to be called directly.\n    getClass: function(moduleDefinition) {\n      var ModuleClass = Marionette.Module;\n  \n      if (!moduleDefinition) {\n        return ModuleClass;\n      }\n  \n      // If all of the module's functionality is defined inside its class,\n      // then the class can be passed in directly. `MyApp.module(\"Foo\", FooModule)`.\n      if (moduleDefinition.prototype instanceof ModuleClass) {\n        return moduleDefinition;\n      }\n  \n      return moduleDefinition.moduleClass || ModuleClass;\n    },\n  \n    // Add the module definition and add a startWithParent initializer function.\n    // This is complicated because module definitions are heavily overloaded\n    // and support an anonymous function, module class, or options object\n    _addModuleDefinition: function(parentModule, module, def, args) {\n      var fn = this._getDefine(def);\n      var startWithParent = this._getStartWithParent(def, module);\n  \n      if (fn) {\n        module.addDefinition(fn, args);\n      }\n  \n      this._addStartWithParent(parentModule, module, startWithParent);\n    },\n  \n    _getStartWithParent: function(def, module) {\n      var swp;\n  \n      if (_.isFunction(def) && (def.prototype instanceof Marionette.Module)) {\n        swp = module.constructor.prototype.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n  \n      if (_.isObject(def)) {\n        swp = def.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n  \n      return true;\n    },\n  \n    _getDefine: function(def) {\n      if (_.isFunction(def) && !(def.prototype instanceof Marionette.Module)) {\n        return def;\n      }\n  \n      if (_.isObject(def)) {\n        return def.define;\n      }\n  \n      return null;\n    },\n  \n    _addStartWithParent: function(parentModule, module, startWithParent) {\n      module.startWithParent = module.startWithParent && startWithParent;\n  \n      if (!module.startWithParent || !!module.startWithParentIsConfigured) {\n        return;\n      }\n  \n      module.startWithParentIsConfigured = true;\n  \n      parentModule.addInitializer(function(options) {\n        if (module.startWithParent) {\n          module.start(options);\n        }\n      });\n    }\n  });\n  \n\n  return Marionette;\n}));\n","// Backbone.Wreqr (Backbone.Marionette)\n// ----------------------------------\n// v1.4.0\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://github.com/marionettejs/backbone.wreqr\n\n\n(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(['backbone', 'underscore'], function(Backbone, _) {\n      return factory(Backbone, _);\n    });\n  } else if (typeof exports !== 'undefined') {\n    var Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n    var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\n    module.exports = factory(Backbone, _);\n  } else {\n    factory(root.Backbone, root._);\n  }\n\n}(this, function(Backbone, _) {\n  \"use strict\";\n\n  var previousWreqr = Backbone.Wreqr;\n\n  var Wreqr = Backbone.Wreqr = {};\n\n  Backbone.Wreqr.VERSION = '1.4.0';\n\n  Backbone.Wreqr.noConflict = function () {\n    Backbone.Wreqr = previousWreqr;\n    return this;\n  };\n\n  // Handlers\n  // --------\n  // A registry of functions to call, given a name\n  \n  Wreqr.Handlers = (function(Backbone, _){\n    \"use strict\";\n    \n    // Constructor\n    // -----------\n  \n    var Handlers = function(options){\n      this.options = options;\n      this._wreqrHandlers = {};\n      \n      if (_.isFunction(this.initialize)){\n        this.initialize(options);\n      }\n    };\n  \n    Handlers.extend = Backbone.Model.extend;\n  \n    // Instance Members\n    // ----------------\n  \n    _.extend(Handlers.prototype, Backbone.Events, {\n  \n      // Add multiple handlers using an object literal configuration\n      setHandlers: function(handlers){\n        _.each(handlers, _.bind(function(handler, name){\n          var context = null;\n  \n          if (_.isObject(handler) && !_.isFunction(handler)){\n            context = handler.context;\n            handler = handler.callback;\n          }\n  \n          this.setHandler(name, handler, context);\n        }, this));\n      },\n  \n      // Add a handler for the given name, with an\n      // optional context to run the handler within\n      setHandler: function(name, handler, context){\n        var config = {\n          callback: handler,\n          context: context\n        };\n  \n        this._wreqrHandlers[name] = config;\n  \n        this.trigger(\"handler:add\", name, handler, context);\n      },\n  \n      // Determine whether or not a handler is registered\n      hasHandler: function(name){\n        return !! this._wreqrHandlers[name];\n      },\n  \n      // Get the currently registered handler for\n      // the specified name. Throws an exception if\n      // no handler is found.\n      getHandler: function(name){\n        var config = this._wreqrHandlers[name];\n  \n        if (!config){\n          return;\n        }\n  \n        return function(){\n          return config.callback.apply(config.context, arguments);\n        };\n      },\n  \n      // Remove a handler for the specified name\n      removeHandler: function(name){\n        delete this._wreqrHandlers[name];\n      },\n  \n      // Remove all handlers from this registry\n      removeAllHandlers: function(){\n        this._wreqrHandlers = {};\n      }\n    });\n  \n    return Handlers;\n  })(Backbone, _);\n  \n  // Wreqr.CommandStorage\n  // --------------------\n  //\n  // Store and retrieve commands for execution.\n  Wreqr.CommandStorage = (function(){\n    \"use strict\";\n  \n    // Constructor function\n    var CommandStorage = function(options){\n      this.options = options;\n      this._commands = {};\n  \n      if (_.isFunction(this.initialize)){\n        this.initialize(options);\n      }\n    };\n  \n    // Instance methods\n    _.extend(CommandStorage.prototype, Backbone.Events, {\n  \n      // Get an object literal by command name, that contains\n      // the `commandName` and the `instances` of all commands\n      // represented as an array of arguments to process\n      getCommands: function(commandName){\n        var commands = this._commands[commandName];\n  \n        // we don't have it, so add it\n        if (!commands){\n  \n          // build the configuration\n          commands = {\n            command: commandName, \n            instances: []\n          };\n  \n          // store it\n          this._commands[commandName] = commands;\n        }\n  \n        return commands;\n      },\n  \n      // Add a command by name, to the storage and store the\n      // args for the command\n      addCommand: function(commandName, args){\n        var command = this.getCommands(commandName);\n        command.instances.push(args);\n      },\n  \n      // Clear all commands for the given `commandName`\n      clearCommands: function(commandName){\n        var command = this.getCommands(commandName);\n        command.instances = [];\n      }\n    });\n  \n    return CommandStorage;\n  })();\n  \n  // Wreqr.Commands\n  // --------------\n  //\n  // A simple command pattern implementation. Register a command\n  // handler and execute it.\n  Wreqr.Commands = (function(Wreqr, _){\n    \"use strict\";\n  \n    return Wreqr.Handlers.extend({\n      // default storage type\n      storageType: Wreqr.CommandStorage,\n  \n      constructor: function(options){\n        this.options = options || {};\n  \n        this._initializeStorage(this.options);\n        this.on(\"handler:add\", this._executeCommands, this);\n  \n        Wreqr.Handlers.prototype.constructor.apply(this, arguments);\n      },\n  \n      // Execute a named command with the supplied args\n      execute: function(name){\n        name = arguments[0];\n        var args = _.rest(arguments);\n  \n        if (this.hasHandler(name)){\n          this.getHandler(name).apply(this, args);\n        } else {\n          this.storage.addCommand(name, args);\n        }\n  \n      },\n  \n      // Internal method to handle bulk execution of stored commands\n      _executeCommands: function(name, handler, context){\n        var command = this.storage.getCommands(name);\n  \n        // loop through and execute all the stored command instances\n        _.each(command.instances, function(args){\n          handler.apply(context, args);\n        });\n  \n        this.storage.clearCommands(name);\n      },\n  \n      // Internal method to initialize storage either from the type's\n      // `storageType` or the instance `options.storageType`.\n      _initializeStorage: function(options){\n        var storage;\n  \n        var StorageType = options.storageType || this.storageType;\n        if (_.isFunction(StorageType)){\n          storage = new StorageType();\n        } else {\n          storage = StorageType;\n        }\n  \n        this.storage = storage;\n      }\n    });\n  \n  })(Wreqr, _);\n  \n  // Wreqr.RequestResponse\n  // ---------------------\n  //\n  // A simple request/response implementation. Register a\n  // request handler, and return a response from it\n  Wreqr.RequestResponse = (function(Wreqr, _){\n    \"use strict\";\n  \n    return Wreqr.Handlers.extend({\n      request: function(name){\n        if (this.hasHandler(name)) {\n          return this.getHandler(name).apply(this, _.rest(arguments));\n        }\n      }\n    });\n  \n  })(Wreqr, _);\n  \n  // Event Aggregator\n  // ----------------\n  // A pub-sub object that can be used to decouple various parts\n  // of an application through event-driven architecture.\n  \n  Wreqr.EventAggregator = (function(Backbone, _){\n    \"use strict\";\n    var EA = function(){};\n  \n    // Copy the `extend` function used by Backbone's classes\n    EA.extend = Backbone.Model.extend;\n  \n    // Copy the basic Backbone.Events on to the event aggregator\n    _.extend(EA.prototype, Backbone.Events);\n  \n    return EA;\n  })(Backbone, _);\n  \n  // Wreqr.Channel\n  // --------------\n  //\n  // An object that wraps the three messaging systems:\n  // EventAggregator, RequestResponse, Commands\n  Wreqr.Channel = (function(Wreqr){\n    \"use strict\";\n  \n    var Channel = function(channelName) {\n      this.vent        = new Backbone.Wreqr.EventAggregator();\n      this.reqres      = new Backbone.Wreqr.RequestResponse();\n      this.commands    = new Backbone.Wreqr.Commands();\n      this.channelName = channelName;\n    };\n  \n    _.extend(Channel.prototype, {\n  \n      // Remove all handlers from the messaging systems of this channel\n      reset: function() {\n        this.vent.off();\n        this.vent.stopListening();\n        this.reqres.removeAllHandlers();\n        this.commands.removeAllHandlers();\n        return this;\n      },\n  \n      // Connect a hash of events; one for each messaging system\n      connectEvents: function(hash, context) {\n        this._connect('vent', hash, context);\n        return this;\n      },\n  \n      connectCommands: function(hash, context) {\n        this._connect('commands', hash, context);\n        return this;\n      },\n  \n      connectRequests: function(hash, context) {\n        this._connect('reqres', hash, context);\n        return this;\n      },\n  \n      // Attach the handlers to a given message system `type`\n      _connect: function(type, hash, context) {\n        if (!hash) {\n          return;\n        }\n  \n        context = context || this;\n        var method = (type === 'vent') ? 'on' : 'setHandler';\n  \n        _.each(hash, _.bind(function(fn, eventName) {\n          this[type][method](eventName, _.bind(fn, context));\n        }, this));\n      }\n    });\n  \n  \n    return Channel;\n  })(Wreqr);\n  \n  // Wreqr.Radio\n  // --------------\n  //\n  // An object that lets you communicate with many channels.\n  Wreqr.radio = (function(Wreqr, _){\n    \"use strict\";\n  \n    var Radio = function() {\n      this._channels = {};\n      this.vent = {};\n      this.commands = {};\n      this.reqres = {};\n      this._proxyMethods();\n    };\n  \n    _.extend(Radio.prototype, {\n  \n      channel: function(channelName) {\n        if (!channelName) {\n          throw new Error('Channel must receive a name');\n        }\n  \n        return this._getChannel( channelName );\n      },\n  \n      _getChannel: function(channelName) {\n        var channel = this._channels[channelName];\n  \n        if(!channel) {\n          channel = new Wreqr.Channel(channelName);\n          this._channels[channelName] = channel;\n        }\n  \n        return channel;\n      },\n  \n      _proxyMethods: function() {\n        _.each(['vent', 'commands', 'reqres'], _.bind(function(system) {\n          _.each( messageSystems[system], _.bind(function(method) {\n            this[system][method] = proxyMethod(this, system, method);\n          }, this));\n        }, this));\n      }\n    });\n  \n  \n    var messageSystems = {\n      vent: [\n        'on',\n        'off',\n        'trigger',\n        'once',\n        'stopListening',\n        'listenTo',\n        'listenToOnce'\n      ],\n  \n      commands: [\n        'execute',\n        'setHandler',\n        'setHandlers',\n        'removeHandler',\n        'removeAllHandlers'\n      ],\n  \n      reqres: [\n        'request',\n        'setHandler',\n        'setHandlers',\n        'removeHandler',\n        'removeAllHandlers'\n      ]\n    };\n  \n    var proxyMethod = function(radio, system, method) {\n      return function(channelName) {\n        var messageSystem = radio._getChannel(channelName)[system];\n  \n        return messageSystem[method].apply(messageSystem, _.rest(arguments));\n      };\n    };\n  \n    return new Radio();\n  \n  })(Wreqr, _);\n  \n\n  return Backbone.Wreqr;\n\n}));\n","module.exports = require('./lib/bloodhound');\n","var Promise = require('es6-promise').Promise;\nvar request = require('superagent');\n\nmodule.exports = function(o) {\n  return new Promise(function(resolve, reject) {\n    request.get(o.url).end(function(err, res) {\n      if(err) return reject(err);\n      resolve(res.body);\n    });\n  });\n};\n","var _ = require('./utils');\nvar Promise = require('es6-promise').Promise;\nvar Remote = require('./remote');\nvar Prefetch = require('./prefetch');\nvar tokenizers = require('./tokenizers');\nvar oParser = require('./options_parser');\nvar SearchIndex = require('./search_index');\nvar Transport = require('./transport');\n\nfunction Bloodhound(o) {\n  o = oParser(o);\n\n  this.sorter = o.sorter;\n  this.identify = o.identify;\n  this.sufficient = o.sufficient;\n\n  this.local = o.local;\n  this.remote = o.remote ? new Remote(o.remote) : null;\n  this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\n\n  // the backing data structure used for fast pattern matching\n  this.index = new SearchIndex({\n    identify: this.identify,\n    datumTokenizer: o.datumTokenizer,\n    queryTokenizer: o.queryTokenizer\n  });\n\n  // hold off on intialization if the intialize option was explicitly false\n  o.initialize !== false && this.initialize();\n}\n\nBloodhound.tokenizers = tokenizers;\n\n_.mixin(Bloodhound.prototype, {\n\n  // ### super secret stuff used for integration with jquery plugin\n\n  __ttAdapter: function ttAdapter() {\n    var that = this;\n\n    return this.remote ? withAsync : withoutAsync;\n\n    function withAsync(query, sync, async) {\n      return that.search(query, sync, async);\n    }\n\n    function withoutAsync(query, sync) {\n      return that.search(query, sync);\n    }\n  },\n\n  _loadPrefetch: function loadPrefetch() {\n    var that = this, promise, serialized;\n\n    if (!this.prefetch) {\n      return new Promise(function(resolve, reject) {\n        resolve();\n      });\n    }\n\n    else if (serialized = this.prefetch.fromCache()) {\n      this.index.bootstrap(serialized);\n      return new Promise(function(resolve, reject) {\n        resolve();\n      });\n    }\n\n    else {\n      // this.prefetch.fromNetwork(done);\n      return new Promise(function(resolve, reject) {\n\n        // todo: promise\n        that.prefetch.fromNetwork(function(err, data) {\n          if (err) return reject(err);\n\n          try {\n            that.add(data);\n            that.prefetch.store(that.index.serialize());\n            resolve();\n          } catch(e) {\n            reject(e);\n          }\n        });\n      });\n    }\n  },\n\n  _initialize: function() {\n    var that = this, deferred;\n\n    // in case this is a reinitialization, clear previous data\n    this.clear();\n\n    (this.initPromise = this._loadPrefetch())\n    .then(addLocalToIndex); // local must be added to index after prefetch\n\n    return this.initPromise;\n\n    function addLocalToIndex() { that.add(that.local); }\n  },\n\n  // ### public\n\n  initialize: function(force) {\n    return !this.initPromise || force ? this._initialize() : this.initPromise;\n  },\n\n  // TODO: before initialize what happens?\n  add: function(data) {\n    this.index.add(data);\n    return this;\n  },\n\n  get: function(ids) {\n    ids = _.isArray(ids) ? ids : [].slice.call(arguments);\n    return this.index.get(ids);\n  },\n\n  search: function(query, sync, async) {\n    var that = this, local;\n\n    local = this.sorter(this.index.search(query));\n\n    // return a copy to guarantee no changes within this scope\n    // as this array will get used when processing the remote results\n    sync(this.remote ? local.slice() : local);\n\n    if (this.remote && local.length < this.sufficient) {\n      this.remote.get(query, processRemote);\n    }\n\n    else if (this.remote) {\n      // #149: prevents outdated rate-limited requests from being sent\n      this.remote.cancelLastRequest();\n    }\n\n    return this;\n\n    function processRemote(remote) {\n      var nonDuplicates = [];\n\n      // exclude duplicates\n      _.each(remote, function(r) {\n         !_.some(local, function(l) {\n          return that.identify(r) === that.identify(l);\n        }) && nonDuplicates.push(r);\n      });\n\n      async && async(nonDuplicates);\n    }\n  },\n\n  all: function() {\n    return this.index.all();\n  },\n\n  clear: function() {\n    this.index.reset();\n    return this;\n  },\n\n  clearPrefetchCache: function() {\n    this.prefetch && this.prefetch.clear();\n    return this;\n  },\n\n  clearRemoteCache: function() {\n    Transport.resetCache();\n    return this;\n  },\n\n  // DEPRECATED: will be removed in v1\n  ttAdapter: function() {\n    return this.__ttAdapter();\n  }\n});\n\nmodule.exports = Bloodhound;\n","/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n// inspired by https://github.com/jharding/lru-cache\n\nvar _ = require('./utils');\n\nfunction LruCache(maxSize) {\n  this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n  this.reset();\n\n  // if max size is less than 0, provide a noop cache\n  if (this.maxSize <= 0) {\n    this.set = this.get = _.noop;\n  }\n}\n\n_.mixin(LruCache.prototype, {\n  set: function set(key, val) {\n    var tailItem = this.list.tail, node;\n\n    // at capacity\n    if (this.size >= this.maxSize) {\n      this.list.remove(tailItem);\n      delete this.hash[tailItem.key];\n\n      this.size--;\n    }\n\n    // writing over existing key\n    if (node = this.hash[key]) {\n      node.val = val;\n      this.list.moveToFront(node);\n    }\n\n    // new key\n    else {\n      node = new Node(key, val);\n\n      this.list.add(node);\n      this.hash[key] = node;\n\n      this.size++;\n    }\n  },\n\n  get: function get(key) {\n    var node = this.hash[key];\n\n    if (node) {\n      this.list.moveToFront(node);\n      return node.val;\n    }\n  },\n\n  reset: function reset() {\n    this.size = 0;\n    this.hash = {};\n    this.list = new List();\n  }\n});\n\nfunction List() {\n  this.head = this.tail = null;\n}\n\n_.mixin(List.prototype, {\n  add: function add(node) {\n    if (this.head) {\n      node.next = this.head;\n      this.head.prev = node;\n    }\n\n    this.head = node;\n    this.tail = this.tail || node;\n  },\n\n  remove: function remove(node) {\n    node.prev ? node.prev.next = node.next : this.head = node.next;\n    node.next ? node.next.prev = node.prev : this.tail = node.prev;\n  },\n\n  moveToFront: function(node) {\n    this.remove(node);\n    this.add(node);\n  }\n});\n\nfunction Node(key, val) {\n  this.key = key;\n  this.val = val;\n  this.prev = this.next = null;\n}\n\nmodule.exports = LruCache;\n","var _ = require('./utils');\nvar ajax = require('./ajax');\nvar VERSION = require('./version');\n\nmodule.exports = function(o) {\n  var defaults, sorter;\n\n  defaults = {\n    initialize: true,\n    identify: _.stringify,\n    datumTokenizer: null,\n    queryTokenizer: null,\n    sufficient: 5,\n    sorter: null,\n    local: [],\n    prefetch: null,\n    remote: null\n  };\n\n  o = _.mixin(defaults, o || {});\n\n  // throw error if required options are not set\n  !o.datumTokenizer && _.error('datumTokenizer is required');\n  !o.queryTokenizer && _.error('queryTokenizer is required');\n\n  sorter = o.sorter;\n  o.sorter = sorter ? function(x) { return x.sort(sorter); } : _.identity;\n\n  o.local = _.isFunction(o.local) ? o.local() : o.local;\n  o.prefetch = parsePrefetch(o.prefetch);\n  o.remote = parseRemote(o.remote);\n\n  return o;\n};\n\nfunction parsePrefetch(o) {\n  var defaults;\n\n  if (!o) { return null; }\n\n  defaults = {\n    url: null,\n    ttl: 24 * 60 * 60 * 1000, // 1 day\n    cache: true,\n    cacheKey: null,\n    thumbprint: '',\n    prepare: _.identity,\n    transform: _.identity,\n    transport: null\n  };\n\n  // support basic (url) and advanced configuration\n  o = _.isString(o) ? { url: o } : o;\n  o = _.mixin(defaults, o);\n\n  // throw error if required options are not set\n  !o.url && _.error('prefetch requires url to be set');\n\n  // DEPRECATED: filter will be dropped in v1\n  o.transform = o.filter || o.transform;\n\n  o.cacheKey = o.cacheKey || o.url;\n  o.thumbprint = VERSION + o.thumbprint;\n  o.transport = o.transport ? callbackToDeferred(o.transport) : ajax;\n\n  return o;\n}\n\nfunction parseRemote(o) {\n  var defaults;\n\n  if (!o) { return; }\n\n  defaults = {\n    url: null,\n    cache: true, // leave undocumented\n    prepare: null,\n    replace: null,\n    wildcard: null,\n    limiter: null,\n    rateLimitBy: 'debounce',\n    rateLimitWait: 300,\n    transform: _.identity,\n    transport: null\n  };\n\n  // support basic (url) and advanced configuration\n  o = _.isString(o) ? { url: o } : o;\n  o = _.mixin(defaults, o);\n\n  // throw error if required options are not set\n  !o.url && _.error('remote requires url to be set');\n\n  // DEPRECATED: filter will be dropped in v1\n  o.transform = o.filter || o.transform;\n\n  o.prepare = toRemotePrepare(o);\n  o.limiter = toLimiter(o);\n  o.transport = o.transport ? callbackToDeferred(o.transport) : ajax;\n\n  delete o.replace;\n  delete o.wildcard;\n  delete o.rateLimitBy;\n  delete o.rateLimitWait;\n\n  return o;\n}\n\nfunction toRemotePrepare(o) {\n  var prepare, replace, wildcard;\n\n  prepare = o.prepare;\n  replace = o.replace;\n  wildcard = o.wildcard;\n\n  if (prepare) { return prepare; }\n\n  if (replace) {\n    prepare = prepareByReplace;\n  }\n\n  else if (o.wildcard) {\n    prepare = prepareByWildcard;\n  }\n\n  else {\n    prepare = idenityPrepare;\n  }\n\n  return prepare;\n\n  function prepareByReplace(query, settings) {\n    settings.url = replace(settings.url, query);\n    return settings;\n  }\n\n  function prepareByWildcard(query, settings) {\n    settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\n    return settings;\n  }\n\n  function idenityPrepare(query, settings) {\n    return settings;\n  }\n}\n\nfunction toLimiter(o) {\n  var limiter, method, wait;\n\n  limiter = o.limiter;\n  method = o.rateLimitBy;\n  wait = o.rateLimitWait;\n\n  if (!limiter) {\n    limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\n  }\n\n  return limiter;\n\n  function debounce(wait) {\n    return function(fn) {\n      return _.debounce(fn, wait);\n    };\n  }\n\n  function throttle(wait) {\n    return function (fn) {\n      return _.throttle(fn, wait);\n    };\n  }\n}\n\nfunction callbackToDeferred(fn) {\n  return function(o) {\n    // var deferred = $.Deferred();\n\n    // fn(o, onSuccess, onError);\n\n    // return deferred;\n\n    // function onSuccess(resp) {\n    //   // defer in case fn is synchronous, otherwise done\n    //   // and always handlers will be attached after the resolution\n    //   _.defer(function() { deferred.resolve(resp); });\n    // }\n\n    // function onError(err) {\n    //   // defer in case fn is synchronous, otherwise done\n    //   // and always handlers will be attached after the resolution\n    //   _.defer(function() { deferred.reject(err); });\n    // }\n  };\n}\n","var storage2 = require('storage2');\nvar _ = require('./utils');\n\nvar LOCAL_STORAGE;\n\ntry {\n  LOCAL_STORAGE = storage2.localStorage;\n\n  // while in private browsing mode, some browsers make\n  // localStorage available, but throw an error when used\n  LOCAL_STORAGE.setItem('~~~', '!');\n  LOCAL_STORAGE.removeItem('~~~');\n} catch (err) {\n  LOCAL_STORAGE = null;\n}\n\n// constructor\n// -----------\n\nfunction PersistentStorage(namespace, override) {\n  this.prefix = ['__', namespace, '__'].join('');\n  this.ttlKey = '__ttl__';\n  this.keyMatcher = new RegExp('^' + _.escapeRegExChars(this.prefix));\n\n  // for testing purpose\n  this.ls = override || LOCAL_STORAGE;\n\n  // if local storage isn't available, everything becomes a noop\n  !this.ls && this._noop();\n}\n\n// instance methods\n// ----------------\n\n_.mixin(PersistentStorage.prototype, {\n  // ### private\n\n  _prefix: function(key) {\n    return this.prefix + key;\n  },\n\n  _ttlKey: function(key) {\n    return this._prefix(key) + this.ttlKey;\n  },\n\n  _noop: function() {\n    this.get =\n    this.set =\n    this.remove =\n    this.clear =\n    this.isExpired = _.noop;\n  },\n\n  _safeSet: function(key, val) {\n    try {\n      this.ls.setItem(key, val);\n    } catch (err) {\n      // hit the localstorage limit so clean up and better luck next time\n      if (err.name === 'QuotaExceededError') {\n        this.clear();\n        this._noop();\n      }\n    }\n  },\n\n  // ### public\n\n  get: function(key) {\n    if (this.isExpired(key)) {\n      this.remove(key);\n    }\n\n    return decode(this.ls.getItem(this._prefix(key)));\n  },\n\n  set: function(key, val, ttl) {\n    if (_.isNumber(ttl)) {\n      this._safeSet(this._ttlKey(key), encode(now() + ttl));\n    }\n\n    else {\n      this.ls.removeItem(this._ttlKey(key));\n    }\n\n    return this._safeSet(this._prefix(key), encode(val));\n  },\n\n  remove: function(key) {\n    this.ls.removeItem(this._ttlKey(key));\n    this.ls.removeItem(this._prefix(key));\n\n    return this;\n  },\n\n  clear: function() {\n    var i, keys = gatherMatchingKeys(this.keyMatcher);\n\n    for (i = keys.length; i--;) {\n      this.remove(keys[i]);\n    }\n\n    return this;\n  },\n\n  isExpired: function(key) {\n    var ttl = decode(this.ls.getItem(this._ttlKey(key)));\n\n    return _.isNumber(ttl) && now() > ttl ? true : false;\n  }\n});\n\n\n// helper functions\n// ----------------\n\nfunction now() {\n  return new Date().getTime();\n}\n\nfunction encode(val) {\n  // convert undefined to null to avoid issues with JSON.parse\n  return JSON.stringify(_.isUndefined(val) ? null : val);\n}\n\nfunction decode(val) {\n  return JSON.parse(val);\n  // return $.parseJSON(val);\n}\n\nfunction gatherMatchingKeys(keyMatcher) {\n  var i, key, keys = [], len = LOCAL_STORAGE.length;\n\n  for (i = 0; i < len; i++) {\n    if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\n      keys.push(key.replace(keyMatcher, ''));\n    }\n  }\n\n  return keys;\n}\n\nmodule.exports = PersistentStorage;\n","var PersistentStorage = require('./persistent_storage');\nvar _ = require('./utils');\n\nvar keys = { data: 'data', protocol: 'protocol', thumbprint: 'thumbprint' };\nvar location = null;\n\n\nif(typeof window !== 'undefined') {\n  location = window.location;\n} else {\n  location = {\n    protocol: 'https:'\n  };\n}\n\n\n// constructor\n// -----------\n\n// defaults for options are handled in options_parser\nfunction Prefetch(o) {\n  this.url = o.url;\n  this.ttl = o.ttl;\n  this.cache = o.cache;\n  this.prepare = o.prepare;\n  this.transform = o.transform;\n  this.transport = o.transport;\n  this.thumbprint = o.thumbprint;\n\n  this.storage = new PersistentStorage(o.cacheKey);\n}\n\n_.mixin(Prefetch.prototype, {\n\n  _settings: function() {\n    return { url: this.url, type: 'GET', dataType: 'json' };\n  },\n\n  store: function(data) {\n    if (!this.cache) { return; }\n\n    this.storage.set(keys.data, data, this.ttl);\n    this.storage.set(keys.protocol, location.protocol, this.ttl);\n    this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\n  },\n\n  fromCache: function() {\n    var stored = {}, isExpired;\n\n    if (!this.cache) { return null; }\n\n    stored.data = this.storage.get(keys.data);\n    stored.protocol = this.storage.get(keys.protocol);\n    stored.thumbprint = this.storage.get(keys.thumbprint);\n\n    // the stored data is considered expired if the thumbprints\n    // don't match or if the protocol it was originally stored under\n    // has changed\n    isExpired =\n      stored.thumbprint !== this.thumbprint ||\n      stored.protocol !== location.protocol;\n\n    // TODO: if expired, remove from local storage\n\n    return stored.data && !isExpired ? stored.data : null;\n  },\n\n  fromNetwork: function(cb) {\n    var that = this, settings;\n\n    if (!cb) { return; }\n\n    settings = this.prepare(this._settings());\n\n    // this.transport(settings).fail(onError).done(onResponse);\n    this.transport(settings).then(onResponse, onError);\n\n    function onError() { cb(true); }\n    function onResponse(resp) { cb(null, that.transform(resp)); }\n  },\n\n  clear: function() {\n    this.storage.clear();\n    return this;\n  }\n});\n\nmodule.exports = Prefetch;\n","/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar _ = require('./utils');\nvar Transport = require('./transport');\n\nfunction Remote(o) {\n  this.url = o.url;\n  this.prepare = o.prepare;\n  this.transform = o.transform;\n\n  this.transport = new Transport({\n    cache: o.cache,\n    limiter: o.limiter,\n    transport: o.transport\n  });\n}\n\n_.mixin(Remote.prototype, {\n  // ### private\n\n  _settings: function settings() {\n    return {\n      url: this.url,\n      type: 'GET',\n      dataType: 'json'\n    };\n  },\n\n  get: function get(query, cb) {\n    var that = this, settings;\n\n    if (!cb) { return; }\n\n    query = query || '';\n    settings = this.prepare(query, this._settings());\n\n    return this.transport.get(settings, onResponse);\n\n    function onResponse(err, resp) {\n      err ? cb([]) : cb(that.transform(resp));\n    }\n  },\n\n  cancelLastRequest: function cancelLastRequest() {\n    this.transport.cancel();\n  }\n});\n\nmodule.exports = Remote;","var _ = require('./utils');\n\nvar CHILDREN = 'c';\nvar IDS = 'i';\n\nfunction SearchIndex(o) {\n  o = o || {};\n\n  if (!o.datumTokenizer || !o.queryTokenizer) {\n    throw new Error('datumTokenizer and queryTokenizer are both required');\n  }\n\n  this.identify = o.identify || _.stringify;\n  this.datumTokenizer = o.datumTokenizer;\n  this.queryTokenizer = o.queryTokenizer;\n\n  this.reset();\n}\n\n_.mixin(SearchIndex.prototype, {\n\n  bootstrap: function(o) {\n    this.datums = o.datums;\n    this.trie = o.trie;\n  },\n\n  add: function(data) {\n    var that = this;\n\n    data = _.isArray(data) ? data : [data];\n\n    _.each(data, function(datum) {\n      var id, tokens;\n\n      that.datums[id = that.identify(datum)] = datum;\n      tokens = normalizeTokens(that.datumTokenizer(datum));\n\n      _.each(tokens, function(token) {\n        var node, chars, ch;\n\n        node = that.trie;\n        chars = token.split('');\n\n        while (ch = chars.shift()) {\n          node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\n          node[IDS].push(id);\n        }\n      });\n    });\n  },\n\n  get: function(ids) {\n    var that = this;\n\n    return _.map(ids, function(id) { return that.datums[id]; });\n  },\n\n  search: function(query) {\n    var that = this, tokens, matches;\n\n    tokens = normalizeTokens(this.queryTokenizer(query));\n\n    _.each(tokens, function(token) {\n      var node, chars, ch, ids;\n\n      // previous tokens didn't share any matches\n      if (matches && matches.length === 0) {\n        return false;\n      }\n\n      node = that.trie;\n      chars = token.split('');\n\n      while (node && (ch = chars.shift())) {\n        node = node[CHILDREN][ch];\n      }\n\n      if (node && chars.length === 0) {\n        ids = node[IDS].slice(0);\n        matches = matches ? getIntersection(matches, ids) : ids;\n      }\n\n      // break early if we find out there are no possible matches\n      else {\n        matches = [];\n        return false;\n      }\n    });\n\n    return matches ?\n      _.map(unique(matches), function(id) { return that.datums[id]; }) : [];\n  },\n\n  all: function() {\n    var values = [];\n\n    for (var key in this.datums) {\n      values.push(this.datums[key]);\n    }\n\n    return values;\n  },\n\n  reset: function() {\n    this.datums = {};\n    this.trie = newNode();\n  },\n\n  serialize: function serialize() {\n    return { datums: this.datums, trie: this.trie };\n  }\n});\n\n\nfunction normalizeTokens(tokens) {\n // filter out falsy tokens\n  tokens = _.filter(tokens, function(token) { return !!token; });\n\n  // normalize tokens\n  tokens = _.map(tokens, function(token) { return token.toLowerCase(); });\n\n  return tokens;\n}\n\nfunction newNode() {\n  var node = {};\n\n  node[IDS] = [];\n  node[CHILDREN] = {};\n\n  return node;\n}\n\nfunction unique(array) {\n  var seen = {}, uniques = [];\n\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (!seen[array[i]]) {\n      seen[array[i]] = true;\n      uniques.push(array[i]);\n    }\n  }\n\n  return uniques;\n}\n\nfunction getIntersection(arrayA, arrayB) {\n  var ai = 0, bi = 0, intersection = [];\n\n  arrayA = arrayA.sort();\n  arrayB = arrayB.sort();\n\n  var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n\n  while (ai < lenArrayA && bi < lenArrayB) {\n    if (arrayA[ai] < arrayB[bi]) {\n      ai++;\n    }\n\n    else if (arrayA[ai] > arrayB[bi]) {\n      bi++;\n    }\n\n    else {\n      intersection.push(arrayA[ai]);\n      ai++;\n      bi++;\n    }\n  }\n\n  return intersection;\n}\n\nmodule.exports = SearchIndex;\n","/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar _ = require('./utils');\n\nfunction whitespace(str) {\n  str = _.toStr(str);\n  return str ? str.split(/\\s+/) : [];\n}\n\nfunction nonword(str) {\n  str = _.toStr(str);\n  return str ? str.split(/\\W+/) : [];\n}\n\nfunction getObjTokenizer(tokenizer) {\n  return function setKey(keys) {\n    keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\n\n    return function tokenize(o) {\n      var tokens = [];\n\n      _.each(keys, function(k) {\n        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n      });\n\n      return tokens;\n    };\n  };\n}\n\nmodule.exports = {\n  nonword: nonword,\n  whitespace: whitespace,\n  obj: {\n    nonword: getObjTokenizer(nonword),\n    whitespace: getObjTokenizer(whitespace)\n  }\n};\n","var LruCache = require('./lru_cache');\nvar _ = require('./utils');\n\nvar pendingRequestsCount = 0;\nvar pendingRequests = {};\nvar maxPendingRequests = 6;\nvar sharedCache = new LruCache(10);\n\nfunction Transport(o) {\n  o = o || {};\n\n  this.cancelled = false;\n  this.lastReq = null;\n\n  this._send = o.transport;\n  this._get = o.limiter ? o.limiter(this._get) : this._get;\n\n  this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n}\n\nTransport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n  maxPendingRequests = num;\n};\n\nTransport.resetCache = function resetCache() {\n  sharedCache.reset();\n};\n\n_.mixin(Transport.prototype, {\n\n  _fingerprint: function(o) {\n    o = o || {};\n    return o.url + o.type + JSON.stringify(o.data || {}); \n  },\n\n  _get: function(o, cb) {\n    var that = this, fingerprint, jqXhr;\n\n    fingerprint = this._fingerprint(o);\n\n    // #149: don't make a network request if there has been a cancellation\n    // or if the url doesn't match the last url Transport#get was invoked with\n    if (this.cancelled || fingerprint !== this.lastReq) { return; }\n\n    // a request is already in progress, piggyback off of it\n    if (jqXhr = pendingRequests[fingerprint]) {\n      // jqXhr.done(done).fail(fail);\n      jqXhr.then(done, fail);\n    }\n\n    // under the pending request threshold, so fire off a request\n    else if (pendingRequestsCount < maxPendingRequests) {\n      pendingRequestsCount++;\n      pendingRequests[fingerprint] =\n        // this._send(o).done(done).fail(fail).always(always);\n        this._send(o).then(function(resp) {\n          done(resp);\n          always();\n        }, function() {\n          fail();\n          always();\n        });\n    }\n\n    // at the pending request threshold, so hang out in the on deck circle\n    else {\n      this.onDeckRequestArgs = [].slice.call(arguments, 0);\n    }\n\n    function done(resp) {\n      cb(null, resp);\n      that._cache.set(fingerprint, resp);\n    }\n\n    function fail() {\n      cb(true);\n    }\n\n    function always() {\n      pendingRequestsCount--;\n      delete pendingRequests[fingerprint];\n\n      // ensures request is always made for the last query\n      if (that.onDeckRequestArgs) {\n        that._get.apply(that, that.onDeckRequestArgs);\n        that.onDeckRequestArgs = null;\n      }\n    }\n  },\n\n  get: function(o, cb) {\n    var resp, fingerprint;\n\n    cb = cb || _.noop;\n    o = _.isString(o) ? { url: o } : (o || {});\n\n    fingerprint = this._fingerprint(o);\n\n    this.cancelled = false;\n    this.lastReq = fingerprint;\n\n    // in-memory cache hit\n    if (resp = this._cache.get(fingerprint)) {\n      cb(null, resp);\n    }\n\n    // go to network\n    else {\n      this._get(o, cb);\n    }\n  },\n\n  cancel: function() {\n    this.cancelled = true;\n  }\n});\n\nmodule.exports = Transport;\n","/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nvar assign = require('object-assign');\n\nvar _ = {\n  isMsie: function() {\n    // from https://github.com/ded/bowser/blob/master/bowser.js\n    return (/(msie|trident)/i).test(navigator.userAgent) ?\n      navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n  },\n\n  isBlankString: function(str) { return !str || /^\\s*$/.test(str); },\n\n  // http://stackoverflow.com/a/6969486\n  escapeRegExChars: function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  },\n\n  isString: function(obj) { return typeof obj === 'string'; },\n\n  isNumber: function(obj) { return typeof obj === 'number'; },\n\n  isArray: Array.isArray,\n\n  isFunction: function(obj) {\n\t\treturn typeof obj === 'function';\n\t},\n\n  isObject: function(obj) {\n    return typeof obj === 'object';\n  },\n\n  isUndefined: function(obj) { return typeof obj === 'undefined'; },\n\n  isElement: function(obj) { return !!(obj && obj.nodeType === 1); },\n\n  isJQuery: function(obj) { return obj instanceof $; },\n\n  toStr: function toStr(s) {\n    return (_.isUndefined(s) || s === null) ? '' : s + '';\n  },\n\n  bind: function(fn, context) {\n    return fn.bind(context);\n  },\n\n  each: function(collection, cb) {\n    collection.forEach(cb);\n  },\n\n  map: function(array, fn) {\n    return array.map(fn);\n  },\n\n  filter: function(array, fn) {\n    return array.filter(fn);\n  },\n\n  every: function(obj, test) {\n    var result = true;\n\n    if (!obj) { return result; }\n\n    // $.each(obj, function(key, val) {\n    //   if (!(result = test.call(null, val, key, obj))) {\n    //     return false;\n    //   }\n    // });\n\n    for(var key in obj) {\n      if(obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (!(result = test.call(null, val, key, obj))) {\n          return false;\n        }\n      }\n    }\n\n    return !!result;\n  },\n\n  some: function(obj, test) {\n    var result = false;\n\n    if (!obj) { return result; }\n\n    // $.each(obj, function(key, val) {\n    //   if (result = test.call(null, val, key, obj)) {\n    //     return false;\n    //   }\n    // });\n\n    for(var key in obj) {\n      if(obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (result = test.call(null, val, key, obj)) {\n          return false;\n        }\n      }\n    }\n\n    return !!result;\n  },\n\n  mixin: require('object-assign'),\n\n  identity: function(x) { return x; },\n\n  clone: function(obj) { return assign({}, obj); },\n\n  getIdGenerator: function() {\n    var counter = 0;\n    return function() { return counter++; };\n  },\n\n  templatify: function templatify(obj) {\n    return _.isFunction(obj) ? obj : template;\n\n    function template() { return String(obj); }\n  },\n\n  defer: function(fn) { setTimeout(fn, 0); },\n\n  debounce: function(func, wait, immediate) {\n    var timeout, result;\n\n    return function() {\n      var context = this, args = arguments, later, callNow;\n\n      later = function() {\n        timeout = null;\n        if (!immediate) { result = func.apply(context, args); }\n      };\n\n      callNow = immediate && !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n\n      if (callNow) { result = func.apply(context, args); }\n\n      return result;\n    };\n  },\n\n  throttle: function(func, wait) {\n    var context, args, timeout, result, previous, later;\n\n    previous = 0;\n    later = function() {\n      previous = new Date();\n      timeout = null;\n      result = func.apply(context, args);\n    };\n\n    return function() {\n      var now = new Date(),\n          remaining = wait - (now - previous);\n\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      }\n\n      else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  },\n\n  stringify: function(val) {\n    return _.isString(val) ? val : JSON.stringify(val);\n  },\n\n  noop: function() {},\n\n  error: function(msg) {\n    throw new Error(msg);\n  }\n};\n\nmodule.exports = _;\n","/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\nmodule.exports = '1.0.0';\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   3.3.1\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  return function () {\n    vertxNext(flush);\n  };\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        _resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      _reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      _reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    _reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return _resolve(promise, value);\n    }, function (reason) {\n      return _reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      _reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction _resolve(promise, value) {\n  if (promise === value) {\n    _reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction _reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      _reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      _resolve(promise, value);\n    }, function rejectPromise(reason) {\n      _reject(promise, reason);\n    });\n  } catch (e) {\n    _reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    _reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var _input = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$ = c.resolve;\n\n  if (resolve$$ === resolve) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$) {\n        return resolve$$(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      _reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve;\nPromise.reject = reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nfunction polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}\n\npolyfill();\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\n\nreturn Promise;\n\n})));\n//# sourceMappingURL=es6-promise.map","/*! Lity - v1.6.6 - 2016-04-22\n* http://sorgalla.com/lity/\n* Copyright (c) 2016 Jan Sorgalla; Licensed MIT */\n(function(window, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], function($) {\n            return factory(window, $);\n        });\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = factory(window, (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null));\n    } else {\n        window.lity = factory(window, window.jQuery || window.Zepto);\n    }\n}(typeof window !== \"undefined\" ? window : this, function(window, $) {\n    'use strict';\n\n    var document = window.document;\n\n    var _win = $(window);\n    var _html = $('html');\n    var _instanceCount = 0;\n\n    var _imageRegexp = /(^data:image\\/)|(\\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\\?\\S*)?$)/i;\n    var _youtubeRegex = /(youtube(-nocookie)?\\.com|youtu\\.be)\\/(watch\\?v=|v\\/|u\\/|embed\\/?)?([\\w-]{11})(.*)?/i;\n    var _vimeoRegex =  /(vimeo(pro)?.com)\\/(?:[^\\d]+)?(\\d+)\\??(.*)?$/;\n    var _googlemapsRegex = /((maps|www)\\.)?google\\.([^\\/\\?]+)\\/?((maps\\/?)?\\?)(.*)/i;\n\n    var _defaultHandlers = {\n        image: imageHandler,\n        inline: inlineHandler,\n        iframe: iframeHandler\n    };\n\n    var _defaultOptions = {\n        esc: true,\n        handler: null,\n        template: '<div class=\"lity\" tabindex=\"-1\"><div class=\"lity-wrap\" data-lity-close><div class=\"lity-loader\">Loading...</div><div class=\"lity-container\"><div class=\"lity-content\"></div><button class=\"lity-close\" type=\"button\" title=\"Close (Esc)\" data-lity-close></button></div></div></div>'\n    };\n\n    function globalToggle() {\n        _html[_instanceCount > 0 ? 'addClass' : 'removeClass']('lity-active');\n    }\n\n    var transitionEndEvent = (function() {\n        var el = document.createElement('div');\n\n        var transEndEventNames = {\n            WebkitTransition: 'webkitTransitionEnd',\n            MozTransition: 'transitionend',\n            OTransition: 'oTransitionEnd otransitionend',\n            transition: 'transitionend'\n        };\n\n        for (var name in transEndEventNames) {\n            if (el.style[name] !== undefined) {\n                return transEndEventNames[name];\n            }\n        }\n\n        return false;\n    })();\n\n    function transitionEnd(element) {\n        var deferred = $.Deferred();\n\n        if (!transitionEndEvent) {\n            deferred.resolve();\n        } else {\n            element.one(transitionEndEvent, deferred.resolve);\n            setTimeout(deferred.resolve, 500);\n        }\n\n        return deferred.promise();\n    }\n\n    function settings(currSettings, key, value) {\n        if (arguments.length === 1) {\n            return $.extend({}, currSettings);\n        }\n\n        if (typeof key === 'string') {\n            if (typeof value === 'undefined') {\n                return typeof currSettings[key] === 'undefined' ?\n                    null :\n                    currSettings[key];\n            }\n            currSettings[key] = value;\n        } else {\n            $.extend(currSettings, key);\n        }\n\n        return this;\n    }\n\n    function parseQueryParams(params){\n        var pairs = decodeURI(params).split('&');\n        var obj = {}, p;\n\n        for (var i = 0, n = pairs.length; i < n; i++) {\n            if (!pairs[i]) {\n                continue;\n            }\n\n            p = pairs[i].split('=');\n            obj[p[0]] = p[1];\n        }\n\n        return obj;\n    }\n\n    function appendQueryParams(url, params) {\n        return url + (url.indexOf('?') > -1 ? '&' : '?') + $.param(params);\n    }\n\n    function error(msg) {\n        return $('<span class=\"lity-error\"/>').append(msg);\n    }\n\n    function imageHandler(target) {\n        if (!_imageRegexp.test(target)) {\n            return false;\n        }\n\n        var img = $('<img src=\"' + target + '\">');\n        var deferred = $.Deferred();\n        var failed = function() {\n            deferred.reject(error('Failed loading image'));\n        };\n\n        img\n            .on('load', function() {\n                if (this.naturalWidth === 0) {\n                    return failed();\n                }\n\n                deferred.resolve(img);\n            })\n            .on('error', failed)\n        ;\n\n        return deferred.promise();\n    }\n\n    function inlineHandler(target) {\n        var el;\n\n        try {\n            el = $(target);\n        } catch (e) {\n            return false;\n        }\n\n        if (!el.length) {\n            return false;\n        }\n\n        var placeholder = $('<span style=\"display:none !important\" class=\"lity-inline-placeholder\"/>');\n\n        return el\n            .after(placeholder)\n            .on('lity:ready', function(e, instance) {\n                instance.one('lity:remove', function() {\n                    placeholder\n                        .before(el.addClass('lity-hide'))\n                        .remove()\n                    ;\n                });\n            })\n        ;\n    }\n\n    function iframeHandler(target) {\n        var matches, url = target;\n\n        matches = _youtubeRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://www.youtube' + (matches[2] || '') + '.com/embed/' + matches[4],\n                $.extend(\n                    {\n                        autoplay: 1\n                    },\n                    parseQueryParams(matches[5] || '')\n                )\n            );\n        }\n\n        matches = _vimeoRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://player.vimeo.com/video/' + matches[3],\n                $.extend(\n                    {\n                        autoplay: 1\n                    },\n                    parseQueryParams(matches[4] || '')\n                )\n            );\n        }\n\n        matches = _googlemapsRegex.exec(target);\n\n        if (matches) {\n            url = appendQueryParams(\n                'https://www.google.' + matches[3] + '/maps?' + matches[6],\n                {\n                    output: matches[6].indexOf('layer=c') > 0 ? 'svembed' : 'embed'\n                }\n            );\n        }\n\n        return '<div class=\"lity-iframe-container\"><iframe frameborder=\"0\" allowfullscreen src=\"' + url + '\"></iframe></div>';\n    }\n\n    function lity(options) {\n        var _options = {},\n            _handlers = {},\n            _instance,\n            _content,\n            _ready = $.Deferred().resolve();\n\n        function keyup(e) {\n            if (e.keyCode === 27) {\n                close();\n            }\n        }\n\n        function resize() {\n            var height = document.documentElement.clientHeight ? document.documentElement.clientHeight : Math.round(_win.height());\n\n            _content\n                .css('max-height', Math.floor(height) + 'px')\n                .trigger('lity:resize', [_instance])\n            ;\n        }\n\n        function ready(el, content) {\n            if (!_instance) {\n                return;\n            }\n\n            _content = $(content);\n\n            _win.on('resize', resize);\n            resize();\n\n            _instance\n                .find('.lity-loader')\n                .each(function() {\n                    var el = $(this);\n                    transitionEnd(el).always(function() {\n                        el.remove();\n                    });\n                })\n            ;\n\n            _instance\n                .removeClass('lity-loading')\n                .find('.lity-content')\n                .empty()\n                .append(_content)\n            ;\n\n            _content\n                .removeClass('lity-hide')\n                .trigger('lity:ready', [_instance, el])\n            ;\n\n            _ready.resolve();\n        }\n\n        function init(handler, content, options, el) {\n            _ready = $.Deferred();\n\n            _instanceCount++;\n            globalToggle();\n\n            _instance = $(options.template)\n                .addClass('lity-loading')\n                .appendTo('body');\n\n            if (!!options.esc) {\n                _win.on('keyup', keyup);\n            }\n\n            setTimeout(function() {\n                _instance\n                    .addClass('lity-opened lity-' + handler)\n                    .on('click', '[data-lity-close]', function(e) {\n                        if ($(e.target).is('[data-lity-close]')) {\n                            close();\n                        }\n                    })\n                    .trigger('lity:open', [_instance, el])\n                ;\n\n                $.when(content).always($.proxy(ready, null, el));\n            }, 0);\n        }\n\n        function open(target, options, el) {\n            var handler, content, handlers = $.extend({}, _defaultHandlers, _handlers);\n\n            options = $.extend(\n                {},\n                _defaultOptions,\n                _options,\n                options\n            );\n\n            if (options.handler && handlers[options.handler]) {\n                content = handlers[options.handler](target, popup);\n                handler = options.handler;\n            } else {\n                var lateHandlers = {};\n\n                // Run inline and iframe handlers after all other handlers\n                $.each(['inline', 'iframe'], function(i, name) {\n                    if (handlers[name]) {\n                        lateHandlers[name] = handlers[name];\n                    }\n\n                    delete handlers[name];\n                });\n\n                var call = function(name, callback) {\n                    // Handler might be \"removed\" by setting callback to null\n                    if (!callback) {\n                        return true;\n                    }\n\n                    content = callback(target, popup);\n\n                    if (!!content) {\n                        handler = name;\n                        return false;\n                    }\n                };\n\n                $.each(handlers, call);\n\n                if (!handler) {\n                    $.each(lateHandlers, call);\n                }\n            }\n\n            if (content) {\n                $.when(close()).done($.proxy(init, null, handler, content, options, el));\n            }\n\n            return !!content;\n        }\n\n        function close() {\n            if (!_instance) {\n                return;\n            }\n\n            var deferred = $.Deferred();\n\n            _ready.done(function() {\n                _instanceCount--;\n                globalToggle();\n\n                _win\n                    .off('resize', resize)\n                    .off('keyup', keyup)\n                ;\n\n                _content.trigger('lity:close', [_instance]);\n\n                _instance\n                    .removeClass('lity-opened')\n                    .addClass('lity-closed')\n                ;\n\n                var instance = _instance, content = _content;\n                _instance = null;\n                _content = null;\n\n                transitionEnd(content.add(instance)).always(function() {\n                    content.trigger('lity:remove', [instance]);\n                    instance.remove();\n                    deferred.resolve();\n                });\n            });\n\n            return deferred.promise();\n        }\n\n        function popup(event) {\n            // If not an event, act as alias of popup.open\n            if (!event.preventDefault) {\n                return popup.open(event);\n            }\n\n            var el = $(this);\n            var target = el.data('lity-target') || el.attr('href') || el.attr('src');\n\n            if (!target) {\n                return;\n            }\n\n            var options = el.data('lity-options') || el.data('lity');\n\n            if (open(target, options, el)) {\n                el.blur();\n                event.preventDefault();\n            }\n        }\n\n        popup.handlers = $.proxy(settings, popup, _handlers);\n        popup.options = $.proxy(settings, popup, _options);\n\n        popup.open = function(target, options, el) {\n            open(target, options, el);\n            return popup;\n        };\n\n        popup.close = function() {\n            close();\n            return popup;\n        };\n\n        return popup.options(options);\n    }\n\n    lity.version = '1.6.6';\n    lity.handlers = $.proxy(settings, lity, _defaultHandlers);\n    lity.options = $.proxy(settings, lity, _defaultOptions);\n\n    $(document).on('click', '[data-lity]', lity());\n\n    return lity;\n}));\n","( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'backbone.View', 'backbone-view-options', 'backbone-courier', 'backbone-handle', 'backbone-subviews' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null).View, require( 'backbone-view-options' ), require( 'backbone-courier' ), require( 'backbone-handle' ), require( 'backbone-subviews' ) );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, root.Backbone.View, root.Backbone.ViewOptions, root.Backbone.Courier, root.Backbone.Handle, root.Backbone.Subviews );\n\t}\n}( this, function( _, Backbone, Super, viewOptions, courier, handle, subviews ) {\n\nBackbone.ModuiBase = Super.extend( {\n\tclassName : 'view',\n\t\n\toptions : [],\n\n\tconstructor : function( options ) {\n\t\t//handle.add( Super.prototype ); // needs to be added to view prototype, so that logic executes before render() in derived classes\n\t\thandle.add( this ); // needs to be added to view prototype, so that logic executes before render() in derived classes\n\n\t\tviewOptions.add( this );\n\t\tthis.setOptions( options );\n\t\t\n\t\t// needs to be done before super is called, since super calls view#initialize,\n\t\t// and view#initialize might spawn events\n\t\tcourier.add( this );\n\n\t\t// must be done before super is called, since if this.render is referenced\n\t\t// in view#initialize (for example, if we bind an event to this.render),\n\t\t// we want it to reference the wrapped version (post subview) of render.\n\t\tsubviews.add( this );\n\n\t\tvar returnValue = Super.prototype.constructor.apply( this, arguments );\n\n\t\treturn returnValue;\n\t},\n\n\trender : function() {\n\t\tif( this.template ) {\n\t\t\tvar templateData = this.getOptions();\n\t\t\tif( this.model ) _.extend( templateData , this.model.attributes );\n\t\t\t_.extend( templateData , this._getTemplateData() );\n\n\t\t\tthis.$el.html( this._renderTemplate( templateData ) );\n\t\t}\n\t\t\n\t\tthis.resolveHandles();\n\t\t\n\t\treturn this;\n\t},\n\n\t_getTemplateData : function() {\n\t\t// this function may be overridden to add additional properties\n\t\t// to the object passed to the template's rendering function\n\t\treturn {};\n\t},\n\n\t_renderTemplate : function( templateData ) {\n\t\tvar html;\n\t\t\n\t\tif( _.isFunction( this.template ) )\n\t\t\thtml = this.template( templateData );\n\t\telse if( this.template.render )\n\t\t\thtml = this.template.render( templateData );\n\n\t\treturn html;\n\t},\n\n\t_onSubviewsRendered : function() {\n\t\t// override in derived classes\n\t}\n} );\n\nreturn Backbone.ModuiBase;\n\n} ) );\n","( function( root, factory ) {\n\t// UMD wrapper\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( [ 'underscore', 'backbone', 'jquery', 'modui-base' ], factory );\n\t} else if ( typeof exports !== 'undefined' ) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory( (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null), (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null), (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null), require( 'modui-base' ) );\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root._, root.Backbone, ( root.jQuery || root.Zepto || root.$ ), root.Backbone.ModuiBase );\n\t}\n}( this, function( _, Backbone, $, Super ) {\n\nvar lastPossibleViewElement = $( 'body' )[ 0 ];\nvar mOpenPopups = [];\n\nvar kState_Closed = 'closed';\nvar kState_Open = 'open';\nvar kState_Closing = 'closing';\n\nvar kFadeTime = 100;\nvar kMinTimeAfterOpenBeforeCloseOnOutsideClick = 100;\n\nvar kPositions = [\n\t'bottom center',\n\t'top center',\n\t'right center',\n\t'left center',\n\t'bottom center right',\n\t'bottom center left',\n\t'top center right',\n\t'top center left',\n\t'bottom left',\n\t'bottom right',\n\t'top left',\n\t'top right',\n\t'right top',\n\t'right bottom',\n\t'left top',\n\t'left bottom'\n];\n\nvar kPositionClasses = _.map( kPositions, function( thisPosition ) {\n\treturn thisPosition.replace( /\\ /g, '-' );\n} );\n\nvar mWindowEventListenersAttached = false;\n\nBackbone.ModuiPopup = Super.extend( {\n\toptions : [\n\t\t'target!',\n\t\t'contents',\n\t\t{ position : 'bottom center' },\n\t\t{ strictPositioning : false },\n\t\t{ hideIfAllPositionsAreOutOfBounds : false },\n\t\t{ distanceAway : 12 }, // margin / pointer is 10 pixels. With this default the tip of the pointer ends up 2 pixels from target\n\t\t{ pointerOffset : 0 },\n\t\t{ keepWithinRect : function() { return {\n\t\t\ttop : $( window ).scrollTop(),\n\t\t\tbottom : $( window ).scrollTop() + $( window ).height(),\n\t\t\tleft   : 0,\n\t\t\tright  : $( window ).width()\n\t\t}; } },\n\t\t{ closeOnOutsideClick : true },\n\t\t'onClose',\n\t\t'signature',\n\t\t'zIndex',\n\t\t{ 'extraClassName' : '' }, // appended to regular class names to facilitate styling\n\t\t{ 'kPointerHeight' : 10 }\n\t],\n\n\tpassMessages : { '*' : '.' }, // pass all courier messages directly through to parent view. why??\n\n\tclassName : 'modui-popup',\n\n\tinitialize : function() {\n\t\tvar _this = this;\n\n\t\tthis._setupTargetEl();\n\n\t\tthis._setState( kState_Closed );\n\n\t\t// if( this.closeOnOutsideClick ) {\n\t\t// \tsetTimeout( function() {\n\t\t// \t\t// in case this popup is triggered by a click, we need to wait\n\t\t// \t\t// until the next event loop before we bind the outside click\n\t\t// \t\t// event to closing the popup. otherwise would close right away\n\t\t// \t\t_this.$el.bind( 'clickoutside', function( e ) {\n\t\t// \t\t\t// we do not close the popup if the clicked element is within the original\n\t\t// \t\t\t// target element that this popup is pointing at (or IS that element)\n\t\t// \t\t\tif( e.target !== _this.targetEl.get( 0 ) && ! $.contains( _this.targetEl.get( 0 ), e.target ) ) {\n\t\t// \t\t\t\t_this.close();\n\t\t// \t\t\t}\n\t\t// \t\t} );\n\t\t// \t} );\n\t\t// }\n\n\t\tif( ! mWindowEventListenersAttached ) {\n\t\t\t_attachWindowEventListeners();\n\t\t\tmWindowEventListenersAttached = true;\n\t\t}\n\t},\n\n\trender : function() {\n\t\tif( _.isString( this.contents ) ) {\n\t\t\tthis.$el.html( '<div class=\"html-contents\">' + this.contents + '</div>' );\n\t\t} else if( _.isObject( this.contents ) && _.isFunction( this.contents.render ) ) {\n\t\t\tthis.$el.html( '' );\n\t\t\tthis.$el.append( this.contents.$el );\n\t\t\tthis.contents.render();\n\t\t\tthis.contents.delegateEvents();\n\t\t} else {\n\t\t\t// if we don't have any contents specified, assume that this is\n\t\t\t// a derived class that defines its own contents with its own render.\n\t\t\tSuper.prototype.render.apply( this, arguments );\n\t\t}\n\n\t\tif( ! _.isUndefined( this.zIndex ) ) this.$el.css( 'z-index', this.zIndex );\n\t\telse {\n\t\t\t// if no explicit z-index is supplied, make sure we are in front of\n\t\t\t// our target (being mindful over browser support).\n\n\t\t\tvar popupZIndex = _getElementZIndex( this.$el );\n\t\t\tvar targetElZIndex = _getElementZIndex( this.targetEl );\n\t\t\tif( _.isNaN( popupZIndex ) || popupZIndex <= targetElZIndex ) {\n\t\t\t\tthis.$el.css( 'z-index', targetElZIndex + 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\tclose : function() {\n\t\tvar _this = this;\n\n\t\tif( this.state !== kState_Open ) return;\n\n\t\tthis.$el.unbind( 'clickoutside' );\n\t\tthis._setState( kState_Closing );\n\n\t\tthis.spawn( 'closing' );\n\n\t\tsetTimeout( function() {\n\t\t\tif( _this.state === kState_Closing ) {\n\t\t\t\t_this.remove();\n\t\t\t\tmOpenPopups = _.without( mOpenPopups, _this );\n\t\t\t\t_this.spawn( 'closed' );\n\t\t\t}\n\t\t}, kFadeTime );\n\n\t\tif( _.isFunction( this.onClose ) ) this.onClose.apply( this, arguments );\n\t},\n \n\treposition : function( allowedPositions, options ) {\n\t\tvar _this = this;\n\n\t\toptions = _.extend( {}, {\n\t\t\ttryAgainIfDimentionsChange : true,\n\t\t\thideIfAllPositionsAreOutOfBounds : this.hideIfAllPositionsAreOutOfBounds\n\t\t}, options );\n\n\t\tvar targetIsVisible = this.targetEl.is( ':visible' );\n\t\tthis.$el.toggle( targetIsVisible );\n\t\tif( ! targetIsVisible ) return false;\n\n\t\tif( _.isUndefined( allowedPositions ) ) {\n\t\t\tallowedPositions = [];\n\n\t\t\tif( _.isArray( this.position ) ) allowedPositions = allowedPositions.concat( this.position )\n\t\t\telse allowedPositions.push( this.position );\n\n\t\t\tif( this.currentPosition && this.state === 'open' ) {\n\t\t\t\t// give preference to current position, if we already have one!\n\n\t\t\t\tif( _.contains( allowedPositions, this.currentPosition ) || ! this.strictPositioning ) {\n\t\t\t\t\tallowedPositions.unshift( this.currentPosition );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( ! this.strictPositioning ) allowedPositions = _.union( allowedPositions, kPositions );\n\t\t}\n\n\t\tallowedPositions = _.unique( allowedPositions );\n\n\t\tvar targetIsFixed = _elementPositionIsFixed( this.targetEl );\n\n\t\tvar targetWidth = Math.round( this.targetEl.outerWidth() );\n\t\tvar targetHeight = Math.round( this.targetEl.outerHeight() );\n\n\t\tvar popupWidth  = Math.round( this.$el.outerWidth() );\n\t\tvar popupHeight = Math.round( this.$el.outerHeight() );\n\t\tvar popupMargin = Math.round( ( this.$el.outerWidth( true ) - this.$el.outerWidth() ) / 2 ); // later we assume vertical is the same as this horizontal margin\n\n\t\tvar kPointerHeight = this.kPointerHeight;\n\t\tvar pointerInsetForSidePositions = Math.round( kPointerHeight + kPointerHeight * .66 );\n\n\t\tvar offsetParent = $( window );\n\t\tvar parentWidth = Math.round( offsetParent.outerWidth() );\n\t\tvar parentHeight = Math.round( offsetParent.outerHeight() );\n\n\t\tvar distanceAway = this.distanceAway;\n\n\t\tvar targetOffset = this.targetEl.offset();\n\t\tvar pointerOffset = this.pointerOffset;\n\n\t\tvar cssPositionProps;\n\n\t\tvar firstPositionTried;\n\t\tvar currentPositionBeingTried = firstPositionTried = _.first( allowedPositions );\n\t\tvar haveTriedOtherPositions = false;\n\t\tvar degreeOfUndesirabilityByPosition = {};\n\t\tvar allPositionsAreOutOfBounds = false;\n\t\tvar done = false;\n\n\t\tdo {  // run through all our different positions to find one that works\n\t\t\tif( ! _.contains( kPositions, currentPositionBeingTried ) ) {\n\t\t\t\tthrow new Error( 'Invalid position for popup: ' + currentPositionBeingTried );\n\t\t\t}\n\n\t\t\tswitch( currentPositionBeingTried ) {\n\t\t\t\tcase 'bottom center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + ( targetWidth / 2 ) - ( popupWidth / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + ( targetWidth / 2 ) - ( popupWidth / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right top':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right bottom':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + targetHeight + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + ( targetHeight / 2 ) - ( popupHeight / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + targetWidth + distanceAway - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left top':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left bottom':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + targetHeight + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left center':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: Math.round( targetOffset.top + ( targetHeight / 2 ) - ( popupHeight / 2 ) + pointerOffset ) - popupMargin,\n\t\t\t\t\t\tright : parentWidth - targetOffset.left + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom center right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom center left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tright : parentWidth - Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tleft : Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top center left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tleft : 'auto',\n\t\t\t\t\t\tright : parentWidth - Math.round( targetOffset.left + targetWidth / 2 ) - popupMargin - pointerInsetForSidePositions + pointerOffset,\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tright : parentWidth - ( targetOffset.left + targetWidth ) + pointerOffset - popupMargin,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop\t: targetOffset.top + targetHeight + distanceAway - popupMargin,\n\t\t\t\t\t\tleft : targetOffset.left + pointerOffset - popupMargin,\n\t\t\t\t\t\tright : 'auto',\n\t\t\t\t\t\tbottom : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top right':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tright : parentWidth - ( targetOffset.left + targetWidth ) + pointerOffset - popupMargin,\n\t\t\t\t\t\tleft : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'top left':\n\t\t\t\t\tcssPositionProps = {\n\t\t\t\t\t\tbottom : 'auto',\n\t\t\t\t\t\tleft : targetOffset.left + pointerOffset - popupMargin,\n\t\t\t\t\t\ttop : targetOffset.top - popupHeight - kPointerHeight - distanceAway,\n\t\t\t\t\t\tright : 'auto'\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif( targetIsFixed ) {\n\t\t\t\tcssPositionProps.position = 'fixed';\n\t\t\t\tcssPositionProps.top -= $( window ).scrollTop();\n\t\t\t}\n\n\t\t\tthis.$el\n\t\t\t\t.css( cssPositionProps )\n\t\t\t\t.removeClass( 'top left bottom right' )\n\t\t\t\t.removeClass( kPositionClasses.join( ' ' ) )\n\t\t\t\t.addClass( currentPositionBeingTried.split( ' ' )[ 0 ] )\n\t\t\t\t.addClass( currentPositionBeingTried.replace( /\\ /g, '-' ) )\n\t\t\t;\n\n\t\t\tdegreeOfUndesirabilityByPosition[ currentPositionBeingTried ] = this._getDegreeOfUndesirabilityOfCurrentPosition();\n\t\t\tvar cantFitIntoKeepWithinRectInThisPosition = degreeOfUndesirabilityByPosition[ currentPositionBeingTried ] !== 0;\n\n\t\t\tif( cantFitIntoKeepWithinRectInThisPosition ) {\n\t\t\t\tif( currentPositionBeingTried === firstPositionTried && haveTriedOtherPositions ) {\n\t\t\t\t\t// if we have tried all the different positions and are now are back at our\n\t\t\t\t\t// original 'preferred' position, then, shit, all positions were out of bounds.\\\n\t\t\t\t\t// just leave the popup in its default position, eventhough it is also out of bounds.\n\n\t\t\t\t\tallPositionsAreOutOfBounds = true;\n\t\t\t\t\tdone = true;\n\t\t\t\t} else {\n\t\t\t\t\t// Popup is outside bounding rect. try a new position.\n\t\t\t\t\thaveTriedOtherPositions = true;\n\t\t\t\t\tcurrentPositionBeingTried = _getNextPositionToTry( currentPositionBeingTried, allowedPositions );\n\t\t\t\t}\n\t\t\t} else done = true;\n\t\t} while( ! done );\n\n\n\t\tif( allPositionsAreOutOfBounds && allowedPositions.length > 1 ) {\n\t\t\tvar bestOfTheBadPositions = _.first( _.sortBy( _.pairs( degreeOfUndesirabilityByPosition ), function( thisPosition ) {\n\t\t\t\t// if the current position and another position are tied, give preference to the current position\n\t\t\t\treturn thisPosition[ 1 ] + ( thisPosition[ 0 ] === _this.currentPosition && _this.state === 'open' ? -1 : 0 );\n\t\t\t} ) )[ 0 ];\n\n\t\t\tallPositionsAreOutOfBounds = ! this.reposition( [ bestOfTheBadPositions ], { hideIfAllPositionsAreOutOfBounds : false } )\n\t\t}\n\n\t\tif( this._dimentionsHaveChanged( popupWidth, popupHeight ) ) {\n\t\t\t// there is a fringe case in which positining the popup actually changes its width and / or height.\n\t\t\t// for example, if the popup is placed just a few pixels from the edge of the view port, it might shrink\n\t\t\t// and text will wrap. so we have to check to see if the width or height of the popup has changed since\n\t\t\t// we started this re-positioning process. if so, try repositioning it once at the same position. if that\n\t\t\t// doesn't work, then move on to another position to see if we have better luck.\n\t\t\tif( ! options.tryAgainIfDimentionsChange ) return false;\n\n\t\t\tallPositionsAreOutOfBounds = ! this.reposition( [ currentPositionBeingTried ], {\n\t\t\t\ttryAgainIfDimentionsChange : false,\n\t\t\t\thideIfAllPositionsAreOutOfBounds : false\n\t\t\t} );\n\n\t\t\t// try one more time, with our new width and height.\n\t\t\t// if( ! this.reposition( [ currentPositionBeingTried ], false ) ) {\n\t\t\t// \t// if that doesn't work, then give up on this position\n\t\t\t// \tnewAllowedPositions = _.without( allowedPositions, currentPositionBeingTried );\n\t\t\t// \tif( newAllowedPositions.length > 0 ) allPositionsAreOutOfBounds = this.reposition( newAllowedPositions );\n\t\t\t// }\n\t\t}\n\n\t\tthis.currentPosition = currentPositionBeingTried;\n\n\t\tif( options.hideIfAllPositionsAreOutOfBounds && allPositionsAreOutOfBounds ) {\n\t\t\tthis.$el.hide();\n\t\t}\n\t\t\n\t\treturn ! allPositionsAreOutOfBounds;\n\t},\n\n\t_onSubviewsRendered : function() {\n\t\tif( ! _.isUndefined( this.extraClassName ) ) this.$el.addClass( this.extraClassName );\n\t},\n\n\t_getDegreeOfUndesirabilityOfCurrentPosition : function() {\n\t\tvar myOffset = this.$el.offset();\n\t\tif( ! myOffset ) return false; // hidden elements have undefined offsets, not much we can do\n\n\t\tvar myWidth = this.$el.outerWidth();\n\t\tvar myHeight = this.$el.outerHeight();\n\n\t\tvar myRect = {\n\t\t\ttop : myOffset.top,\n\t\t\tright : myOffset.left + myWidth,\n\t\t\tbottom : myOffset.top + myHeight,\n\t\t\tleft : myOffset.left\n\t\t};\n\n\t\tvar keepWithinRect = _.result( this, 'keepWithinRect' );\n\n\t\tvar horizontalOverlap = Math.max( 0, Math.min( myRect.right, keepWithinRect.right ) - Math.max( myRect.left, keepWithinRect.left ) )\n\t\tvar veritcalOverlap = Math.max( 0, Math.min( myRect.bottom, keepWithinRect.bottom ) - Math.max( myRect.top, keepWithinRect.top ) );\n\n\t\tvar myRectArea = myWidth * myHeight;\n\n\t\tvar amountOutsideBoundingRect = myRectArea - horizontalOverlap * veritcalOverlap;\n\n\t\tvar documentRect = {\n\t\t\ttop : 0,\n\t\t\tleft : 0,\n\t\t\tright : $( document ).width(),\n\t\t\tbottom : $( document ).height()\n\t\t};\n\n\t\thorizontalOverlap = Math.max( 0, Math.min( myRect.right, documentRect.right ) - Math.max( myRect.left, documentRect.left ) )\n\t\tveritcalOverlap = Math.max( 0, Math.min( myRect.bottom, documentRect.bottom ) - Math.max( myRect.top, documentRect.top ) );\n\t\t\n\t\tvar amountOutsideDocument = myRectArea - horizontalOverlap * veritcalOverlap;\n\t\t\n\t\treturn Math.max( Math.round( amountOutsideBoundingRect + amountOutsideDocument * 10 ), 0 );\n\t},\n\n\t_onOptionsChanged : function( changedOptions ) {\n\t\tif( 'target' in changedOptions ) this._setupTargetEl();\n\t\tif( 'contents' in changedOptions ) this.render();\n\n\t\tthis.reposition();\n\t},\n\n\t_getParentView : function() {\n\t\tvar parent = null;\n\n\t\tvar curElement = this.targetEl;\n\t\twhile( curElement.length > 0 && curElement[0] !== lastPossibleViewElement ) {\n\t\t\tvar view = curElement.data( 'view' );\n\t\t\tif( view && _.isFunction( view.render ) ) {\n\t\t\t\tparent = view;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcurElement = curElement.parent();\n\t\t}\n\n\t\treturn parent;\n\t},\n\n\t_setState : function( newState ) {\n\t\tthis.state = newState;\n\t\tthis.$el.attr( 'data-state', this.state );\n\n\t\tif( newState === kState_Open ) this.timeOpened = (new Date()).getTime();\n\t},\n\n\t_setupTargetEl : function() {\n\t\tvar _this = this;\n\n\t\tthis.targetEl = _.isObject( this.target ) && _.isFunction( this.target.render ) ? this.target.$el : $( this.target );\n\n\t\tif( this.targetEl.length !== 1 ) throw new Error( 'Each ModuiPopup must have exactly one target element.' );\n\n\t\tthis.targetEl.on( 'remove', function() {\n\t\t\tif( _this.targetEl.get( 0 ) === $( this ).get( 0 ) ) {\n\t\t\t\t_this.close();\n\t\t\t}\n\t\t} );\n\t},\n\n\t_dimentionsHaveChanged : function( oldOuterWidth, oldOuterHeight ) {\n\t\tvar widthDifference = Math.abs( oldOuterWidth - Math.round( this.$el.outerWidth() ) );\n\t\tvar heightDifference = Math.abs( oldOuterHeight - Math.round( this.$el.outerHeight() ) );\n\n\t\treturn widthDifference > 1 || heightDifference > 1;\n\t}\n}, {\n\topen : function( options ) {\n\t\tvar popupInstance;\n\n\t\tif( options.signature ) {\n\t\t\tvar existingPopupsOfThisSignature = _.filter( mOpenPopups, function( thisPopup ) {\n\t\t\t\treturn thisPopup.signature === options.signature && thisPopup.state === kState_Open;\n\t\t\t} );\n\n\t\t\tif( existingPopupsOfThisSignature.length ) {\n\t\t\t\tvar popupWeAreGoingTokeep = existingPopupsOfThisSignature.pop();\n\n\t\t\t\tpopupInstance = popupWeAreGoingTokeep;\n\t\t\t\tpopupInstance.setOptions( options );\n\t\t\t\tpopupInstance.reposition();\n\n\t\t\t\t_.each( existingPopupsOfThisSignature, function( thisExtraPopup ) {\n\t\t\t\t\tthisExtraPopup.close();\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tif( ! popupInstance ) {\n\t\t\tpopupInstance = new this( options );\n\n\t\t\t$( 'body' ).append( popupInstance.$el );\n\n\t\t\tpopupInstance.render();\n\t\t\tpopupInstance.reposition();\n\t\t\tmOpenPopups.push( popupInstance );\n\t\t}\n\n\t\tpopupInstance._setState( kState_Open );\n\n\t\treturn popupInstance;\n\t}\n} );\n\n$( document ).bind( 'mousedown', function( e ) {\n\t_.each( mOpenPopups, function( thisPopup ) {\n\t\tif( thisPopup.closeOnOutsideClick &&\n\t\t\tthisPopup.state === kState_Open &&\n\t\t\t( new Date() ).getTime() - thisPopup.timeOpened > kMinTimeAfterOpenBeforeCloseOnOutsideClick ) {\n\t\t\tvar thisPopupDomEl = thisPopup.$el.get( 0 );\n\t\t\tif( thisPopupDomEl !== e.target && ! $.contains( thisPopupDomEl, e.target ) ) {\n\t\t\t\tthisPopup.close();\n\t\t\t}\n\t\t}\n\t} );\n} );\n\nfunction _getElementZIndex( elm ) {\n\tvar bodyDomEl = $( 'body' )[ 0 ];\n\tvar zIndex = parseInt( elm.css( 'zIndex' ) ) > 0 ? elm.css( 'zIndex' ) : 0;\n\n\twhile( elm.length > 0 && bodyDomEl !== elm.get( 0 ) ) {\n\t\tzIndex = ( parseInt( elm.css( 'zIndex' ) ) > 0 && parseInt( elm.css( 'zIndex' ), 10 ) > zIndex ) ? elm.css( 'zIndex' ) : zIndex;\n\t\telm = elm.parent();\n\t}\n\n\treturn zIndex;\n}\n\nfunction _attachWindowEventListeners() {\n\tif( window.addEventListener ) window.addEventListener( 'scroll', function( e ) {\n\t\t_.each( mOpenPopups, function( thisPopup ) {\n\t\t\tif( ! _elementPositionIsFixed( thisPopup.targetEl, e.target ) ) {\n\t\t\t\tthisPopup.reposition();\n\t\t\t}\n\t\t} );\n\t}, true );\n\n\t$( window ).resize( function() {\n\t\t_.each( mOpenPopups, function( thisPopup ) {\n\t\t\tthisPopup.reposition();\n\t\t} );\n\t} );\n\n};\n\nfunction _elementPositionIsFixed( el, relativeToDomEl ) {\n\tif( el.prop( 'tagName' ) === 'HTML' ) return false;\n\n\tif( el.css( 'position' ) === 'fixed' ) return true;\n\n\tvar offsetParent = el.offsetParent();\n\tif( relativeToDomEl && ! $.contains( relativeToDomEl, offsetParent.get( 0 ) ) ) return false;\n\n\treturn _elementPositionIsFixed( el.offsetParent(), relativeToDomEl );\n};\n\nfunction _getNextPositionToTry( position, positionsToTry ) {\n\tpositionIndex = _.indexOf( positionsToTry, position );\n\tif( positionIndex === -1 ) throw new Error( 'Could not find position \"' + position + '\" in the allowed positions.' );\n\n\treturn positionIndex === positionsToTry.length - 1 ? positionsToTry[ 0 ] : positionsToTry[ positionIndex + 1 ];\n}\n\n// return UMD\nreturn Backbone.ModuiPopup;\n\n} ) );","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var Storage = require('./storage');\nvar cookie = require('./cookie');\n\nvar _storage_support = true;\n\ntry {\n  window.localStorage.setItem('test', '42');\n  window.sessionStorage.setItem('test', '42');\n} catch (e) {\n  _storage_support = false;\n}\n\nif (_storage_support) {\n  module.exports = {\n    localStorage: window.localStorage,\n    sessionStorage: window.sessionStorage\n  };\n} else {\n  var lsCookie = cookie.read('localStorage');\n\n  var ls = new Storage(\n    lsCookie ? JSON.parse(lsCookie) : {}, // init\n    function(data) {\n      // set\n      cookie.create('localStorage', JSON.stringify(data), 365);\n    },\n    function() {\n      // clear\n      cookie.create('localStorage', '', 365);\n    }\n  );\n\n  var ss = new Storage();\n\n  module.exports = {\n    localStorage: ls,\n    sessionStorage: ss\n  };\n}\n","function createCookie(name, value, days) {\n  var date, expires;\n\n  if (days) {\n    date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = '; expires=' + date.toGMTString();\n  } else {\n    expires = '';\n  }\n  document.cookie = name + '=' + value + expires + '; path=/';\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + '=',\n    ca = document.cookie.split(';'),\n    i,\n    c;\n\n  for (i = 0; i < ca.length; i++) {\n    c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) === 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n\nmodule.exports = {\n  create: createCookie,\n  read: readCookie\n};\n","module.exports = function(obj) {\n  var n = 0;\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      n += 1;\n    }\n  }\n\n  return n;\n};\n","var numKeys = require('./num-keys');\n\nfunction Storage(obj, set, clear) {\n  this._obj = obj || {};\n  this._set = set;\n  this._clear = clear;\n\n  this.length = 0;\n}\n\nvar proto = Storage.prototype;\n\n// html5 storage api\n\nproto.setItem = function(k, v) {\n  k = encodeURIComponent(k);\n  this._obj[k] = v;\n\n  this._updateLength();\n  if (this._set) this._set(this._obj);\n};\n\nproto.getItem = function(k) {\n  k = encodeURIComponent(k);\n  return this._obj[k] === undefined ? null : this._obj[k];\n};\n\nproto.removeItem = function(k) {\n  k = encodeURIComponent(k);\n  delete this._obj[k];\n\n  this._updateLength();\n  if (this._set) this._set(this._obj);\n};\n\nproto.key = function(i) {\n  var ctr = 0;\n  for (var k in this._obj) {\n    if (ctr === i) return decodeURIComponent(k);\n    else ctr++;\n  }\n\n  return null;\n};\n\nproto.clear = function() {\n  delete this['_obj'];\n\n  if (this._clear) this._clear();\n};\n\n// private\nproto._updateLength = function() {\n  this.length = numKeys(this._obj);\n};\n\nmodule.exports = Storage;\n","function Agent() {\n  this._defaults = [];\n}\n\n[\"use\", \"on\", \"once\", \"set\", \"query\", \"type\", \"accept\", \"auth\", \"withCredentials\", \"sortQuery\", \"retry\", \"ok\", \"redirects\",\n \"timeout\", \"buffer\", \"serialize\", \"parse\", \"ca\", \"key\", \"pfx\", \"cert\"].forEach(function(fn) {\n  /** Default setting for all requests from this agent */\n  Agent.prototype[fn] = function(/*varargs*/) {\n    this._defaults.push({fn:fn, arguments:arguments});\n    return this;\n  }\n});\n\nAgent.prototype._setDefaults = function(req) {\n    this._defaults.forEach(function(def) {\n      req[def.fn].apply(req, def.arguments);\n    });\n};\n\nmodule.exports = Agent;\n","/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = require('component-emitter');\nvar RequestBase = require('./request-base');\nvar isObject = require('./is-object');\nvar ResponseBase = require('./response-base');\nvar Agent = require('./agent-base');\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = exports = module.exports = function(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n}\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only version of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': serialize,\n  'application/json': JSON.stringify\n};\n\n/**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) { // could be empty line, just skip it\n      continue;\n    }\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[\\/+]json($|[^-\\w])/.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  var status = this.xhr.status;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n  this._setStatusProperties(status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (null === this.text && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method != 'HEAD'\n      ? this._parseBody(this.text ? this.text : this.xhr.response)\n      : null;\n  }\n}\n\nResponseBase(Response.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str) {\n  var parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse = typeof self.xhr.responseType == 'undefined' ? self.xhr.responseText : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n      }\n    } catch(custom_err) {\n      new_err = custom_err; // ok() callback can throw\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\nEmitter(Request.prototype);\nRequestBase(Request.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (1 === arguments.length) pass = '';\n  if (typeof pass === 'object' && pass !== null) { // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n  if (!options) {\n    options = {\n      type: 'function' === typeof btoa ? 'basic' : 'auto',\n    };\n  }\n\n  var encoder = function(string) {\n    if ('function' === typeof btoa) {\n      return btoa(string);\n    }\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n\n  return this._auth(user, pass, options, encoder);\n};\n\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, options){\n  if (file) {\n    if (this._data) {\n      throw Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n\n  var fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.buffer = Request.prototype.ca = Request.prototype.agent = function(){\n  console.warn(\"This is not supported in browser version of superagent\");\n  return this;\n};\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.pipe = Request.prototype.write = function(){\n  throw Error(\"Streaming is not supported in browser version of superagent\");\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nRequest.prototype._isHost = function _isHost(obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return obj && 'object' === typeof obj && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== '[object Object]';\n}\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  if (this._endCalled) {\n    console.warn(\"Warning: .end() was called twice. This is not supported in superagent\");\n  }\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // querystring\n  this._finalizeQueryString();\n\n  return this._end();\n};\n\nRequest.prototype._end = function() {\n  var self = this;\n  var xhr = (this.xhr = request.getXHR());\n  var data = this._formData || this._data;\n\n  this._setTimeouts();\n\n  // state change\n  xhr.onreadystatechange = function(){\n    var readyState = xhr.readyState;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n    if (4 != readyState) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (!this._formData && 'GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n\n    if (this.header.hasOwnProperty(field))\n      xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\nrequest.agent = function() {\n  return new Agent();\n};\n\n[\"GET\", \"POST\", \"OPTIONS\", \"PATCH\", \"PUT\", \"DELETE\"].forEach(function(method) {\n  Agent.prototype[method.toLowerCase()] = function(url, fn) {\n    var req = new request.Request(method, url);\n    this._setDefaults(req);\n    if (fn) {\n      req.end(fn);\n    }\n    return req;\n  };\n});\n\nAgent.prototype.del = Agent.prototype['delete'];\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn) {\n  var req = request('GET', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn) {\n  var req = request('HEAD', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn) {\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  var req = request('DELETE', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn) {\n  var req = request('PATCH', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn) {\n  var req = request('POST', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn) {\n  var req = request('PUT', url);\n  if ('function' == typeof data) (fn = data), (data = null);\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n","'use strict';\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n","'use strict';\n\n/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n\n/**\n * Expose `RequestBase`.\n */\n\nmodule.exports = RequestBase;\n\n/**\n * Initialize a new `RequestBase`.\n *\n * @api public\n */\n\nfunction RequestBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in RequestBase.prototype) {\n    obj[key] = RequestBase.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.clearTimeout = function _clearTimeout(){\n  clearTimeout(this._timer);\n  clearTimeout(this._responseTimeoutTimer);\n  delete this._timer;\n  delete this._responseTimeoutTimer;\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Set format of binary response body.\n * In browser valid formats are 'blob' and 'arraybuffer',\n * which return Blob and ArrayBuffer, respectively.\n *\n * In Node all values result in Buffer.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nRequestBase.prototype.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeouts.\n *\n * - response timeout is time between sending request and receiving the first byte of the response. Includes DNS and connection time.\n * - deadline is the time from start of the request to receiving response body in full. If the deadline is too short large files may not load at all on slow connections.\n *\n * Value of 0 or false means no timeout.\n *\n * @param {Number|Object} ms or {response, deadline}\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.timeout = function timeout(options){\n  if (!options || 'object' !== typeof options) {\n    this._timeout = options;\n    this._responseTimeout = 0;\n    return this;\n  }\n\n  for(var option in options) {\n    switch(option) {\n      case 'deadline':\n        this._timeout = options.deadline;\n        break;\n      case 'response':\n        this._responseTimeout = options.response;\n        break;\n      default:\n        console.warn(\"Unknown timeout option\", option);\n    }\n  }\n  return this;\n};\n\n/**\n * Set number of retry attempts on error.\n *\n * Failed requests will be retried 'count' times if timeout or err.code >= 500.\n *\n * @param {Number} count\n * @param {Function} [fn]\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.retry = function retry(count, fn){\n  // Default to 1 if no count passed or true\n  if (arguments.length === 0 || count === true) count = 1;\n  if (count <= 0) count = 0;\n  this._maxRetries = count;\n  this._retries = 0;\n  this._retryCallback = fn;\n  return this;\n};\n\nvar ERROR_CODES = [\n  'ECONNRESET',\n  'ETIMEDOUT',\n  'EADDRINFO',\n  'ESOCKETTIMEDOUT'\n];\n\n/**\n * Determine if a request should be retried.\n * (Borrowed from segmentio/superagent-retry)\n *\n * @param {Error} err\n * @param {Response} [res]\n * @returns {Boolean}\n */\nRequestBase.prototype._shouldRetry = function(err, res) {\n  if (!this._maxRetries || this._retries++ >= this._maxRetries) {\n    return false;\n  }\n  if (this._retryCallback) {\n    try {\n      var override = this._retryCallback(err, res);\n      if (override === true) return true;\n      if (override === false) return false;\n      // undefined falls back to defaults\n    } catch(e) {\n      console.error(e);\n    }\n  }\n  if (res && res.status && res.status >= 500 && res.status != 501) return true;\n  if (err) {\n    if (err.code && ~ERROR_CODES.indexOf(err.code)) return true;\n    // Superagent timeout\n    if (err.timeout && err.code == 'ECONNABORTED') return true;\n    if (err.crossDomain) return true;\n  }\n  return false;\n};\n\n/**\n * Retry request\n *\n * @return {Request} for chaining\n * @api private\n */\n\nRequestBase.prototype._retry = function() {\n\n  this.clearTimeout();\n\n  // node\n  if (this.req) {\n    this.req = null;\n    this.req = this.request();\n  }\n\n  this._aborted = false;\n  this.timedout = false;\n\n  return this._end();\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} [reject]\n * @return {Request}\n */\n\nRequestBase.prototype.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    if (this._endCalled) {\n      console.warn(\"Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises\");\n    }\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject) {\n      self.end(function(err, res) {\n        if (err) innerReject(err);\n        else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n};\n\nRequestBase.prototype['catch'] = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nRequestBase.prototype.use = function use(fn) {\n  fn(this);\n  return this;\n};\n\nRequestBase.prototype.ok = function(cb) {\n  if ('function' !== typeof cb) throw Error(\"Callback required\");\n  this._okCallback = cb;\n  return this;\n};\n\nRequestBase.prototype._isResponseOK = function(res) {\n  if (!res) {\n    return false;\n  }\n\n  if (this._okCallback) {\n    return this._okCallback(res);\n  }\n\n  return res.status >= 200 && res.status < 300;\n};\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nRequestBase.prototype.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nRequestBase.prototype.getHeader = RequestBase.prototype.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nRequestBase.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nRequestBase.prototype.field = function(name, val) {\n  // name should be either a string or an object.\n  if (null === name || undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (this._data) {\n    console.error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      this.field(key, name[key]);\n    }\n    return this;\n  }\n\n  if (Array.isArray(val)) {\n    for (var i in val) {\n      this.field(name, val[i]);\n    }\n    return this;\n  }\n\n  // val should be defined now\n  if (null === val || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n  if ('boolean' === typeof val) {\n    val = '' + val;\n  }\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nRequestBase.prototype.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\nRequestBase.prototype._auth = function(user, pass, options, base64Encoder) {\n  switch (options.type) {\n    case 'basic':\n      this.set('Authorization', 'Basic ' + base64Encoder(user + ':' + pass));\n      break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n      break;\n\n    case 'bearer': // usage would be .auth(accessToken, { type: 'bearer' })\n      this.set('Authorization', 'Bearer ' + user);\n      break;\n  }\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequestBase.prototype.withCredentials = function(on) {\n  // This is browser-only functionality. Node side is no-op.\n  if (on == undefined) on = true;\n  this._withCredentials = on;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Maximum size of buffered response body, in bytes. Counts uncompressed size.\n * Default 200MB.\n *\n * @param {Number} n\n * @return {Request} for chaining\n */\nRequestBase.prototype.maxResponseSize = function(n){\n  if ('number' !== typeof n) {\n    throw TypeError(\"Invalid argument\");\n  }\n  this._maxResponseSize = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nRequestBase.prototype.toJSON = function() {\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header,\n  };\n};\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.send = function(data){\n  var isObj = isObject(data);\n  var type = this._header['content-type'];\n\n  if (this._formData) {\n    console.error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObj && !this._data) {\n    if (Array.isArray(data)) {\n      this._data = [];\n    } else if (!this._isHost(data)) {\n      this._data = {};\n    }\n  } else if (data && this._data && this._isHost(this._data)) {\n    throw Error(\"Can't merge these send calls\");\n  }\n\n  // merge\n  if (isObj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!isObj || this._isHost(data)) {\n    return this;\n  }\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Sort `querystring` by the sort function\n *\n *\n * Examples:\n *\n *       // default order\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery()\n *         .end(callback)\n *\n *       // customized sort function\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery(function(a, b){\n *           return a.length - b.length;\n *         })\n *         .end(callback)\n *\n *\n * @param {Function} sort\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.sortQuery = function(sort) {\n  // _sort default to true but otherwise can be a function or boolean\n  this._sort = typeof sort === 'undefined' ? true : sort;\n  return this;\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\nRequestBase.prototype._finalizeQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += (this.url.indexOf('?') >= 0 ? '&' : '?') + query;\n  }\n  this._query.length = 0; // Makes the call idempotent\n\n  if (this._sort) {\n    var index = this.url.indexOf('?');\n    if (index >= 0) {\n      var queryArr = this.url.substring(index + 1).split('&');\n      if ('function' === typeof this._sort) {\n        queryArr.sort(this._sort);\n      } else {\n        queryArr.sort();\n      }\n      this.url = this.url.substring(0, index) + '?' + queryArr.join('&');\n    }\n  }\n};\n\n// For backwards compat only\nRequestBase.prototype._appendQueryString = function() {console.trace(\"Unsupported\");}\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequestBase.prototype._timeoutError = function(reason, timeout, errno){\n  if (this._aborted) {\n    return;\n  }\n  var err = new Error(reason + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  err.code = 'ECONNABORTED';\n  err.errno = errno;\n  this.timedout = true;\n  this.abort();\n  this.callback(err);\n};\n\nRequestBase.prototype._setTimeouts = function() {\n  var self = this;\n\n  // deadline\n  if (this._timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self._timeoutError('Timeout of ', self._timeout, 'ETIME');\n    }, this._timeout);\n  }\n  // response timeout\n  if (this._responseTimeout && !this._responseTimeoutTimer) {\n    this._responseTimeoutTimer = setTimeout(function(){\n      self._timeoutError('Response timeout of ', self._responseTimeout, 'ETIMEDOUT');\n    }, this._responseTimeout);\n  }\n};\n","'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar utils = require('./utils');\n\n/**\n * Expose `ResponseBase`.\n */\n\nmodule.exports = ResponseBase;\n\n/**\n * Initialize a new `ResponseBase`.\n *\n * @api public\n */\n\nfunction ResponseBase(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in ResponseBase.prototype) {\n    obj[key] = ResponseBase.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponseBase.prototype.get = function(field) {\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponseBase.prototype._setHeaderProperties = function(header){\n    // TODO: moar!\n    // TODO: make this a util\n\n    // content-type\n    var ct = header['content-type'] || '';\n    this.type = utils.type(ct);\n\n    // params\n    var params = utils.params(ct);\n    for (var key in params) this[key] = params[key];\n\n    this.links = {};\n\n    // links\n    try {\n        if (header.link) {\n            this.links = utils.parseLinks(header.link);\n        }\n    } catch (err) {\n        // ignore\n    }\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponseBase.prototype._setStatusProperties = function(status){\n    var type = status / 100 | 0;\n\n    // status / class\n    this.status = this.statusCode = status;\n    this.statusType = type;\n\n    // basics\n    this.info = 1 == type;\n    this.ok = 2 == type;\n    this.redirect = 3 == type;\n    this.clientError = 4 == type;\n    this.serverError = 5 == type;\n    this.error = (4 == type || 5 == type)\n        ? this.toError()\n        : false;\n\n    // sugar\n    this.created = 201 == status;\n    this.accepted = 202 == status;\n    this.noContent = 204 == status;\n    this.badRequest = 400 == status;\n    this.unauthorized = 401 == status;\n    this.notAcceptable = 406 == status;\n    this.forbidden = 403 == status;\n    this.notFound = 404 == status;\n    this.unprocessableEntity = 422 == status;\n};\n","'use strict';\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = function(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = function(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = function(str){\n  return str.split(/ *, */).reduce(function(obj, str){\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = function(header, changesOrigin){\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header['host'];\n  // secuirty\n  if (changesOrigin) {\n    delete header['authorization'];\n    delete header['cookie'];\n  }\n  return header;\n};\n","/* Citation controller */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var searchIndex = require('../search')(Backbone);\n\n  var showBookRefs = function (terms) {\n\n    App.addRegions({\n      BookRefs: '#search-book-refs'\n    });\n\n    terms = decodeURIComponent(terms.replace(/\\+/g, '%20'));\n\n    if (terms) {\n      searchIndex(terms, function (results) {\n        if (results.length) {\n\n          App.addRegions({\n            'BookRefs': '#search-book-refs'\n          });\n          App.BookRefs.show(Module.Views.Layout);\n\n          Module.Views.Layout.showChildView('bookRefs', new Module.Views.BookRef.CollectionView({\n            collection: new Module.Models.BookRef.Collection(results)\n          }));\n\n        }\n      });\n    }\n\n  };\n\n  return Backbone.Marionette.Controller.extend({\n    showBookRefs: showBookRefs\n  });\n\n};\n","/* Book index module */\n\nmodule.exports = function (Module, App, Backbone) {\n\n  'use strict';\n\n  require('./models/book-ref-model.js')(Module, App, Backbone);\n  require('./views/layout-view.js')(Module, App, Backbone);\n  require('./views/book-ref-view.js')(Module, App, Backbone);\n\n  var Router = require('./routers')(Module, App, Backbone);\n  var Controller = require('./controllers')(Module, App, Backbone);\n\n  App.addInitializer(function () {\n    Module.router = new Router({\n      controller: new Controller()\n    });\n  });\n\n};\n","/* Book reference model */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var Model = Backbone.Model.extend({\n\n    defaults: {\n      name: '',\n      ref: ''\n    }\n\n  });\n\n  var Collection = Backbone.Collection.extend({\n    model: Model\n  });\n\n  Module.Models = Module.Models || {};\n\n  Module.Models.BookRef = {\n    Model: Model,\n    Collection: Collection\n  };\n\n};\n","/* Book index router */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n  return Backbone.Marionette.AppRouter.extend({\n    appRoutes: {\n      '?s=:terms': 'showBookRefs'\n    }\n  });\n};\n","/* Book index search */\n\nmodule.exports = function (Backbone) {\n\n  'use strict';\n\n  var Bloodhound = require('bloodhound-js');\n  var indexTerms = require('../../data/index.json');\n\n  var _ = Backbone._;\n\n  var engine = new Bloodhound({\n    local: indexTerms,\n    identify: function (obj) {\n      return obj.id;\n    },\n    queryTokenizer: Bloodhound.tokenizers.whitespace,\n    datumTokenizer: function (d) {\n      return Bloodhound.tokenizers.whitespace(d.name);\n    }\n  });\n\n  // Build simplified results array from Bloodhound matches.\n  var buildResults = function (data, cb) {\n\n    var sortedData = _.sortBy(data, function (datum) {\n      return datum.parent;\n    });\n\n    var results = [];\n\n    // Parse results.\n    _.each(sortedData, function (datum) {\n      // Only proceed if the reference exists and has not already been added.\n      if (datum.ref && _.findWhere(results, {ref: datum.ref}) === undefined) {\n        results.push({\n          name: datum.name,\n          ref: datum.ref\n        });\n      }\n    });\n\n    // Format page numbers and section references.\n    _.each(results, function (result) {\n      var refs = result.ref.split(', ');\n      result.ref = _.map(refs, function (ref) {\n        if (ref.indexOf('.') !== -1) {\n          return '<em>' + ref + '</em>';\n        } else if (ref.indexOf('') !== -1) {\n          return 'pps. ' + ref;\n        } else {\n          return 'p. ' + ref;\n        }\n      }).join(', ');\n    });\n\n    cb(results);\n\n  };\n\n  // Initialize Bloodhound.\n  var promise = engine.initialize();\n\n  // Export search function.\n  return function (terms, cb) {\n    promise.then(function () {\n      engine.search(terms, function (data) {\n        buildResults(data, cb);\n      });\n    });\n  };\n\n};\n","var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<strong>'+\n((__t=( data.name + ':' ))==null?'':__t)+\n'</strong> '+\n((__t=( data.ref ))==null?'':__t)+\n'\\n';\nreturn __p;\n};\n","var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<h4>From the <em>Handbook</em></h4>\\n<p>You will also find content related to your search terms in the <em>Handbook</em>. Numbers in <em>italic</em> are section references.</p>\\n<div id=\"book-refs\"></div>\\n';\nreturn __p;\n};\n","/* Book reference views */\n\n'use strict';\n\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var ItemView = Backbone.Marionette.ItemView.extend({\n    tagName: 'p',\n    className: 'book-ref',\n    template: require('../templates/book-ref.tpl')\n  });\n\n  var CollectionView = Backbone.Marionette.CollectionView.extend({\n    childView: ItemView,\n    tagName: 'div',\n    className: 'book-refs'\n  });\n\n  Module.Views = Module.Views || {};\n\n  Module.Views.BookRef = {\n    ItemView: ItemView,\n    CollectionView: CollectionView\n  };\n\n};\n","/* Layout view */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var Layout = Backbone.Marionette.LayoutView.extend({\n\n    template: require('../templates/layout.tpl'),\n\n    regions: {\n      bookRefs: '#book-refs'\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n  Module.Views.Layout = new Layout();\n\n};\n","/* FAQ module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  /**\n   * since author tiles are used on various sections but have to not link on behind-the-style,\n   * disable link functionality here rather than duplicating markup\n   */\n  $('.category-behind-the-style .instructor-tile a, .category-teaching-resources .instructor-tile a').each(function() {\n    $(this).css({ 'cursor': 'default' });\n    $(this).on('click', function(e) {\n      e.preventDefault();\n    });\n  });\n\n};\n","/* Citation controller */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var citationData = require('../../data/citations.json');\n\n  var showCitationForm = function (citationType) {\n\n    citationType = citationType || 'empty';\n\n    App.Content.show(Module.Views.Layout, {\n      forceShow: true,\n      preventDestroy: true\n    });\n\n    Module.Views.Layout.showChildView('form', new Module.Views.Citation.CollectionView({\n      collection: new Module.Models.Citation.Collection(citationData[citationType])\n    }));\n\n  };\n\n  return Backbone.Marionette.Controller.extend({\n    showCitationForm: showCitationForm\n  });\n\n};\n","/* Citation module */\n\nmodule.exports = function (Module, App, Backbone) {\n\n  'use strict';\n\n  require('./models/citation-model.js')(Module, App, Backbone);\n  require('./views/citation-view.js')(Module, App, Backbone);\n  require('./views/layout-view.js')(Module, App, Backbone);\n\n  var Router = require('./routers')(Module, App, Backbone);\n  var Controller = require('./controllers')(Module, App, Backbone);\n\n  App.addInitializer(function () {\n    Module.router = new Router({\n      controller: new Controller()\n    });\n  });\n\n};\n","/* Citation model */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  Module.Models = Module.Models || {};\n\n  var _ = Backbone._;\n\n  var Model = Backbone.Model.extend({\n\n    defaults: function () {\n      return {\n\n        title: '',\n        author: '',\n        version: '',\n        number: '',\n        publisher: '',\n        pubdate: '',\n        location: '',\n\n        container: true,\n        containerNumber: 1,\n\n        schema: {\n          source: {\n            author: {\n              name: 'Author',\n              punctuation: '.'\n            },\n            title: {\n              name: 'Title of source',\n              punctuation: '.'\n            }\n          },\n          container: {\n            title: {\n              name: 'Title of container',\n              punctuation: ','\n            },\n            author: {\n              name: 'Other contributors',\n              punctuation: ','\n            },\n            version: {\n              name: 'Version',\n              punctuation: ','\n            },\n            number: {\n              name: 'Number',\n              punctuation: ','\n            },\n            publisher: {\n              name: 'Publisher',\n              punctuation: ','\n            },\n            pubdate: {\n              name: 'Publication date',\n              punctuation: ','\n            },\n            location: {\n              name: 'Location',\n              punctuation: '.'\n            }\n          }\n        },\n\n        callouts: {},\n        classNames: {},\n        images: {},\n\n        order: this.collection.nextOrder()\n      };\n    },\n\n    setClassNames: function () {\n      var modelAttrs = this.attributes;\n      var classNames = {};\n\n      _.each(_.keys(modelAttrs.schema.container), function (attr) {\n        var attrClassNames = [];\n\n        if (modelAttrs[attr]) {\n          attrClassNames.push('has-value');\n        }\n\n        if (modelAttrs.callouts[attr]) {\n          attrClassNames.push('has-callout');\n        }\n\n        if (modelAttrs.images[attr]) {\n          attrClassNames.push('has-image');\n        }\n\n        classNames[attr] = attrClassNames.join(' ');\n      });\n\n      this.set({\n        classNames: classNames\n      });\n    },\n\n    getCitationString: function () {\n\n      var modelAttrs = this.attributes;\n\n      var formatAttribute = function (attr, str) {\n        return str.replace(/_([^_]+)_/g, '<em>$1</em>');\n      };\n\n      var filterAttrs = (modelAttrs.container) ? _.keys(modelAttrs.schema.container) : _.keys(modelAttrs.schema.source);\n\n      // Filter attributes for valid string values, then reduce to a\n      // citation string.\n      var attrs = _.filter(filterAttrs, function (attr) {\n        var val = modelAttrs[attr];\n        return (typeof val === 'string' && val.replace(/\\s/g, '') !== '');\n      });\n\n      var citation = attrs.map(function (attr) {\n        return '<span class=\"field-' + attr + '\">' + formatAttribute(attr, modelAttrs[attr]) + '</span>';\n      });\n\n      // Wrap in span.\n      return '<span class=\"container-' + this.attributes.order + '\">' + citation.join(' ') + '</span> ';\n\n    }\n\n  });\n\n  var Collection = Backbone.Collection.extend({\n\n    model: Model,\n    comparator: 'order',\n\n    initialize: function () {\n      this.bind('add remove', this.updateNumbers);\n    },\n\n    updateNumbers: function () {\n      this.each(function (model, i) {\n        model.set('containerNumber', i);\n      });\n    },\n\n    counter: 0,\n\n    nextOrder: function () {\n      this.counter = this.counter + 1;\n      return this.counter;\n    }\n\n  });\n\n  Module.Models.Citation = {\n    Model: Model,\n    Collection: Collection\n  };\n\n};\n","/* Citation router */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n  return Backbone.Marionette.AppRouter.extend({\n    appRoutes: {\n      'whats-new/': 'showCitationForm',\n      'works-cited-a-quick-guide-:type/': 'showCitationForm'\n    }\n  });\n};\n","var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='<div id=\"citation-form\"></div>\\n<div class=\"citation-output\">\\n  <h4 class=\"citation-output-head\">Final works-cited-list entry</h4>\\n  <p id=\"citation-el\"></p>\\n</div>\\n<div id=\"citation-lightbox-placeholder\" class=\"lity-hide\"></div>\\n';\nreturn __p;\n};\n","var _ = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nmodule.exports = function(data){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n__p+='';\n var attrs = (data.container) ? data.schema.container : data.schema.source \n__p+='\\n\\n';\n if (data.container) { \n__p+='\\n<h3>Container '+\n((__t=( data.order - 1 ))==null?'':__t)+\n'</h3>\\n';\n } \n__p+='\\n\\n';\n _.each(attrs, function (value, key) { \n__p+='\\n<p class=\"citation-field '+\n((__t=( data.classNames[key] ))==null?'':__t)+\n'\" data-name=\"'+\n((__t=( key ))==null?'':__t)+\n'\">\\n  <label for=\"container-title-'+\n((__t=( data.order ))==null?'':__t)+\n'\">'+\n((__t=( value.name ))==null?'':__t)+\n'<span class=\"punctuation\">'+\n((__t=( value.punctuation ))==null?'':__t)+\n'</span></label>\\n  <span id=\"container-title-'+\n((__t=( data.order ))==null?'':__t)+\n'\" class=\"field-value\">'+\n((__t=( data[key] ))==null?'':__t)+\n'</span>\\n  <span data-lity-image=\"'+\n((__t=( data.images[key] ))==null?'':__t)+\n'\" class=\"image-link\"></span>\\n</p>\\n';\n }); \n__p+='\\n';\nreturn __p;\n};\n","/* Citation views */\n\n/*global wp_theme*/\n\n'use strict';\n\nvar popup = require('modui-popup');\nvar lity = require('lity');\n\nvar template = require('../templates/container-form.tpl');\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var $ = Backbone.$;\n  var _ = Backbone._;\n\n  var ItemView = Backbone.Marionette.ItemView.extend({\n\n    tagName: 'fieldset',\n    template: template,\n\n    className: function () {\n      return this.model.get('container') ? 'container' : 'source';\n    },\n\n    events: {\n      'click .remove-container': 'removeContainer',\n      'click .citation-field': 'maybeShowPopup',\n      'click .image-link': 'showLightbox',\n      'keyup input': 'updateField'\n    },\n\n    onRender: function () {\n      var view = this;\n      setTimeout(function () {\n        $('.has-callout').each(function () {\n          view.showPopup($(this), $(this).data('name'));\n        });\n      }, 1000);\n    },\n\n    updateField: function (evt) {\n      var $field = $(evt.target);\n      var newAttr = {};\n      newAttr[$field.attr('name')] = $field.val();\n      this.model.set(newAttr);\n    },\n\n    removeContainer: function () {\n      this.model.collection.remove(this.model);\n    },\n\n    showPopup: function ($target, fieldName) {\n      if (this.model.attributes.callouts[fieldName]) {\n        popup.open({\n          target: $target,\n          position: 'right center',\n          contents: this.model.attributes.callouts[fieldName]\n        });\n      }\n    },\n\n    maybeShowPopup: function (evt) {\n      var $target = $(evt.target).closest('.citation-field');\n      var fieldName = $target.data('name');\n      this.showPopup($target, fieldName);\n    },\n\n    showLightbox: function (evt) {\n      var lightbox = lity();\n      var imageURL = $(evt.target).data('lity-image');\n      // jscs:disable requireCamelCaseOrUpperCaseIdentifiers\n      lightbox(wp_theme.asset_path + imageURL);\n      // jscs:enable\n    },\n\n    serializeData: function () {\n      this.model.setClassNames();\n      return this.model.toJSON();\n    }\n\n  });\n\n  var CollectionView = Backbone.Marionette.CollectionView.extend({\n\n    childView: ItemView,\n    tagName: 'div',\n    className: 'citation',\n\n    events: {\n      'click .add-container': 'addContainer',\n      'keyup input': 'updateCitation'\n    },\n\n    onRender: function () {\n      this.updateCitation();\n    },\n\n    addContainer: function () {\n      this.collection.add({});\n    },\n\n    onRemoveChild: function () {\n      this.updateCitation();\n    },\n\n    updateCitation: function () {\n      var citation = _.map(this.collection.models, function (model) {\n        return model.getCitationString();\n      });\n      $('#citation-el').html(citation.join(''));\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n\n  Module.Views.Citation = {\n    ItemView: ItemView,\n    CollectionView: CollectionView\n  };\n\n};\n","/* Layout view */\n\n'use strict';\n\nmodule.exports = function (Module, App, Backbone) {\n\n  var layoutTemplate = require('../templates/citation-layout.tpl');\n\n  var Layout = Backbone.Marionette.LayoutView.extend({\n\n    template: layoutTemplate,\n    className: 'citation-template',\n\n    regions: {\n      output: '#citation-output',\n      form: '#citation-form'\n    }\n\n  });\n\n  Module.Views = Module.Views || {};\n  Module.Views.Layout = new Layout();\n\n};\n","module.exports={\n  'empty': [\n    {\n      container: false,\n    },\n    {}\n  ],\n  'book': [\n    {\n      author: 'Copeland, Edward.',\n      title: 'Money.',\n      container: false,\n      images: {\n        author: '/assets/images/citation-book-3.png',\n        title: '/assets/images/citation-book-3.png'\n      }\n    },\n    {\n      title: '<em>The Cambridge Companion to Jane Austen</em>,',\n      author: 'edited by Copeland and Juliet McMaster,',\n      publisher: 'Cambridge UP,',\n      pubdate: '1997,',\n      location: 'pp. 131-48.',\n      callouts: {\n        version: 'For guidance on when to skip items in the template, see p. 20 of the <em>MLA Handbook</em>.'\n      },\n      images: {\n        author: '/assets/images/citation-book-1.png',\n        title: '/assets/images/citation-book-1.png',\n        publisher: '/assets/images/citation-book-1.png',\n        pubdate: '/assets/images/citation-book-2.png',\n        location: '/assets/images/citation-book-3.png'\n      }\n    }\n  ],\n  'video': [\n    {\n      title: '<em>Curiosity</em> Rover Report (August 2015): Three Years on Mars!',\n      container: false,\n      callouts: {\n        author: 'This source has no author. See pp. 24 and 5556 of the <em>MLA Handbook</em> for more guidance.'\n      },\n      images: {\n        title: '/assets/images/citation-video-1.png'\n      }\n    },\n    {\n      title: '<em>NASAs Journey to Mars: Videos</em>,',\n      author: 'edited by Sarah Loff,',\n      publisher: 'National Aeronautics and Space Administration,',\n      pubdate: '30 July 2015,',\n      location: 'www.nasa.gov/topics/journeytomars/videos/index.html.',\n      images: {\n        author: '/assets/images/citation-video-1.png',\n        title: '/assets/images/citation-video-1.png',\n        publisher: '/assets/images/citation-video-1.png',\n        pubdate: '/assets/images/citation-video-1.png',\n        location: '/assets/images/citation-video-1.png',\n      }\n    }\n  ],\n  'journal': [\n    {\n      title: 'Between Image and Word, Color, and Time: Jacob Lawrences <em>The Migration Series</em>.',\n      author: 'Lorensen, Jutta.',\n      container: false,\n      images: {\n        author: '/assets/images/citation-journal-1.png',\n        title: '/assets/images/citation-journal-1.png'\n      }\n    },\n    {\n      title: '<em>African American Review</em>,',\n      number: 'vol. 40, no. 3,',\n      pubdate: '2006,',\n      location: 'pp. 571-86.',\n      images: {\n        title: '/assets/images/citation-journal-1.png',\n        number: '/assets/images/citation-journal-1.png',\n        pubdate: '/assets/images/citation-journal-1.png',\n        location: '/assets/images/citation-journal-1.png'\n      }\n    },\n    {\n      title: '<em>EBSCOHost</em>,',\n      location: 'search.ebscohost.com/login.aspx?direct=true&db=f5h&AN=24093790&site=ehost-live.',\n      callouts: {\n        title: 'Learn where to find publication information for online sources and when to omit a publishers name on pp. 17 and 42 of the <em>MLA Handbook</em>.'\n      },\n      images: {\n        title: '/assets/images/citation-journal-1.png',\n        location: '/assets/images/citation-journal-1.png'\n      }\n    }\n  ]\n}\n","module.exports=[{\"id\":1,\"name\":\"in online usernames @\",\"parent\":null,\"ref\":\"24\"},{\"id\":1001,\"name\":\"in online usernames @ ignored in alphabetization\",\"parent\":1,\"ref\":\"2.7.1\"},{\"id\":3,\"name\":\"abbreviations\",\"parent\":null,\"ref\":\"1.6\"},{\"id\":1002,\"name\":\"abbreviations of common academic terms\",\"parent\":3,\"ref\":\"1.6.2\"},{\"id\":2001,\"name\":\"in in-text citations authors first names\",\"parent\":1003,\"ref\":\"55\"},{\"id\":2002,\"name\":\"in in-text citations corporate authors\",\"parent\":1003,\"ref\":\"3.1.2\"},{\"id\":2003,\"name\":\"in in-text citations indirect sources (<em>qtd. in</em>)\",\"parent\":1003,\"ref\":\"3.4\"},{\"id\":2004,\"name\":\"in in-text citations three or more authors (<em>et al.</em>)\",\"parent\":1003,\"ref\":\"3.1.1\"},{\"id\":2005,\"name\":\"in in-text citations titles of sources\",\"parent\":1003,\"ref\":\"5556, 1.6.4, 3.2.1\"},{\"id\":2006,\"name\":\"in text numbers with abbreviations\",\"parent\":1004,\"ref\":\"1.4.1\"},{\"id\":2007,\"name\":\"in text titles of sources\",\"parent\":1004,\"ref\":\"1.2.3\"},{\"id\":2008,\"name\":\"in text use of periods\",\"parent\":1004,\"ref\":\"1.6\"},{\"id\":2009,\"name\":\"in works-cited lists editions\",\"parent\":1005,\"ref\":\"2.3\"},{\"id\":2010,\"name\":\"in works-cited lists months\",\"parent\":1005,\"ref\":\"1.5, 1.6.1\"},{\"id\":2011,\"name\":\"in works-cited lists publishers names\",\"parent\":1005,\"ref\":\"1.6.23\"},{\"id\":2012,\"name\":\"in works-cited lists versions\",\"parent\":1005,\"ref\":\"2.3\"},{\"id\":4,\"name\":\"documentation styles in academic disciplines\",\"parent\":null,\"ref\":\"56\"},{\"id\":5,\"name\":\"academic integrity\",\"parent\":null,\"ref\":\"6\"},{\"id\":6,\"name\":\"names of academic presses\",\"parent\":null,\"ref\":\"1.6.3\"},{\"id\":1006,\"name\":\"academic writing as conversation\",\"parent\":7,\"ref\":\"x, xiixiii, 5\"},{\"id\":1007,\"name\":\"academic writing cyclic nature of\",\"parent\":7,\"ref\":\"12\"},{\"id\":1008,\"name\":\"academic writing diversity of\",\"parent\":7,\"ref\":\"12728\"},{\"id\":1009,\"name\":\"academic writing evaluating sources for\",\"parent\":7,\"ref\":\"4, 1012\"},{\"id\":8,\"name\":\"ignored in alphabetization accents\",\"parent\":null,\"ref\":\"2.7.1\"},{\"id\":9,\"name\":\"for online sources access dates\",\"parent\":null,\"ref\":\"53\"},{\"id\":10,\"name\":\"accuracy of quotations\",\"parent\":null,\"ref\":\"1.3.1\"},{\"id\":11,\"name\":\"in works-cited lists actors\",\"parent\":null,\"ref\":\"24\"},{\"id\":13,\"name\":\"street addresses\",\"parent\":null,\"ref\":\"1.4.2\"},{\"id\":1010,\"name\":\"adjectives capitalized in titles\",\"parent\":14,\"ref\":\"1.2.1\"},{\"id\":1011,\"name\":\"adjectives in languages other than English\",\"parent\":14,\"ref\":\"1.2.5\"},{\"id\":1012,\"name\":\"adjectives in shortened titles\",\"parent\":14,\"ref\":\"3.2.1\"},{\"id\":1013,\"name\":\"adverbs capitalized in titles\",\"parent\":15,\"ref\":\"1.2.1\"},{\"id\":1014,\"name\":\"adverbs in languages other than English\",\"parent\":15,\"ref\":\"1.2.5\"},{\"id\":1015,\"name\":\"adverbs in shortened titles\",\"parent\":15,\"ref\":\"3.2.1\"},{\"id\":1016,\"name\":\"afterwords documenting\",\"parent\":16,\"ref\":\"2.2.1\"},{\"id\":1017,\"name\":\"afterwords referred to in text\",\"parent\":16,\"ref\":\"70\"},{\"id\":17,\"name\":\"<em>ALA-LC Romanization Tables</em>\",\"parent\":null,\"ref\":\"64, 74\"},{\"id\":1018,\"name\":\"alphabetization of names not in English\",\"parent\":19,\"ref\":\"1.1.4\"},{\"id\":2013,\"name\":\"of names not in English Asian languages\",\"parent\":1018,\"ref\":\"6364\"},{\"id\":2014,\"name\":\"of names not in English French\",\"parent\":1018,\"ref\":\"64\"},{\"id\":2015,\"name\":\"of names not in English German\",\"parent\":1018,\"ref\":\"6465\"},{\"id\":2016,\"name\":\"of names not in English Italian\",\"parent\":1018,\"ref\":\"65\"},{\"id\":2017,\"name\":\"of names not in English Latin\",\"parent\":1018,\"ref\":\"6566\"},{\"id\":2018,\"name\":\"of names not in English Spanish\",\"parent\":1018,\"ref\":\"66\"},{\"id\":1019,\"name\":\"alphabetization in works-cited lists\",\"parent\":19,\"ref\":\"2.7.14\"},{\"id\":2019,\"name\":\"in works-cited lists authors names\",\"parent\":1019,\"ref\":\"21, 22, 2.7.23\"},{\"id\":2020,\"name\":\"in works-cited lists letter by letter\",\"parent\":1019,\"ref\":\"2.7.1\"},{\"id\":2021,\"name\":\"in works-cited lists no author\",\"parent\":1019,\"ref\":\"2.7.4\"},{\"id\":2022,\"name\":\"in works-cited lists titles\",\"parent\":1019,\"ref\":\"2.7.4\"},{\"id\":1020,\"name\":\"<em>and</em> between authors names\",\"parent\":20,\"ref\":\"21\"},{\"id\":1021,\"name\":\"<em>and</em> between editors names\",\"parent\":20,\"ref\":\"23\"},{\"id\":21,\"name\":\"anonymous works\",\"parent\":null,\"ref\":\"24, 5556, 2.7.4\"},{\"id\":1022,\"name\":\"appendixes referred to in text\",\"parent\":23,\"ref\":\"70\"},{\"id\":1023,\"name\":\"appendixes in Web projects works-cited lists as\",\"parent\":23,\"ref\":\"128\"},{\"id\":24,\"name\":\"quotations and titles of sources in Arabic\",\"parent\":null,\"ref\":\"74, 1.3.8\"},{\"id\":1024,\"name\":\"archives locations of objects in\",\"parent\":26,\"ref\":\"4950\"},{\"id\":1025,\"name\":\"archives online\",\"parent\":26,\"ref\":\"11, 4143, 45, 48\"},{\"id\":27,\"name\":\"works of Aristotle\",\"parent\":null,\"ref\":\"122\"},{\"id\":1026,\"name\":\"<em>an</em> articles (<em>a</em> excluded in in-text citations\",\"parent\":28,\"ref\":\"3.2.1\"},{\"id\":1027,\"name\":\"<em>an</em> articles (<em>a</em> ignored in alphabetization\",\"parent\":28,\"ref\":\"2.7.4\"},{\"id\":1028,\"name\":\"<em>an</em> articles (<em>a</em> not capitalized in titles\",\"parent\":28,\"ref\":\"1.2.1\"},{\"id\":1029,\"name\":\"<em>an</em> articles (<em>a</em> omitted in corporate author names\",\"parent\":28,\"ref\":\"2.1.3\"},{\"id\":1030,\"name\":\"online and print articles quotation marks around titles of\",\"parent\":29,\"ref\":\"1.2.2\"},{\"id\":2023,\"name\":\"in works-cited lists authors names\",\"parent\":1031,\"ref\":\"21, 24, 2.1.1\"},{\"id\":2024,\"name\":\"in works-cited lists digital platforms\",\"parent\":1031,\"ref\":\"31, 32\"},{\"id\":2025,\"name\":\"in works-cited lists consecutive page numbers\",\"parent\":1031,\"ref\":\"46\"},{\"id\":2026,\"name\":\"in works-cited lists not consecutive page numbers\",\"parent\":1031,\"ref\":\"2.5.1\"},{\"id\":2027,\"name\":\"in works-cited lists pseudonyms\",\"parent\":1031,\"ref\":\"24, 2.1.1\"},{\"id\":2028,\"name\":\"in works-cited lists publication dates\",\"parent\":1031,\"ref\":\"4243, 4445\"},{\"id\":2029,\"name\":\"in works-cited lists republication in book collections\",\"parent\":1031,\"ref\":\"53\"},{\"id\":2030,\"name\":\"in works-cited lists titles\",\"parent\":1031,\"ref\":\"2728, 30\"},{\"id\":2031,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1031,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":1032,\"name\":\"in works-cited lists artworks generic descriptions of\",\"parent\":30,\"ref\":\"2829\"},{\"id\":1033,\"name\":\"in works-cited lists artworks locations of\",\"parent\":30,\"ref\":\"4950\"},{\"id\":1034,\"name\":\"Asian languages names of persons in\",\"parent\":31,\"ref\":\"62, 6364, 2.1.1\"},{\"id\":1035,\"name\":\"Asian languages quotations and titles of sources in\",\"parent\":31,\"ref\":\"74, 1.3.8\"},{\"id\":33,\"name\":\"authority of sources\",\"parent\":null,\"ref\":\"4, 1012\"},{\"id\":1036,\"name\":\"authors definition of\",\"parent\":34,\"ref\":\"2225\"},{\"id\":1037,\"name\":\"authors evaluating reliability of\",\"parent\":34,\"ref\":\"11\"},{\"id\":1038,\"name\":\"authors names gathering information on\",\"parent\":35,\"ref\":\"13, 1417, 2.1\"},{\"id\":1039,\"name\":\"authors names in in-text citations\",\"parent\":35,\"ref\":\"5458\"},{\"id\":2032,\"name\":\"in in-text citations authors with same last names\",\"parent\":1039,\"ref\":\"55\"},{\"id\":2033,\"name\":\"in in-text citations coauthors\",\"parent\":1039,\"ref\":\"3.1.1\"},{\"id\":2034,\"name\":\"in in-text citations multiple works by one author\",\"parent\":1039,\"ref\":\"55, 3.6\"},{\"id\":2035,\"name\":\"in in-text citations single authors\",\"parent\":1039,\"ref\":\"5455\"},{\"id\":2036,\"name\":\"in text first and subsequent uses of names\",\"parent\":1040,\"ref\":\"1.1.1\"},{\"id\":2037,\"name\":\"in text names not in English\",\"parent\":1040,\"ref\":\"1.1.4\"},{\"id\":2038,\"name\":\"in text pseudonyms and simplified names\",\"parent\":1040,\"ref\":\"1.1.3\"},{\"id\":2039,\"name\":\"in text titles of persons\",\"parent\":1040,\"ref\":\"1.1.2\"},{\"id\":2040,\"name\":\"in works-cited lists absence of author\",\"parent\":1041,\"ref\":\"24, 5556\"},{\"id\":2042,\"name\":\"in works-cited lists coauthors\",\"parent\":1041,\"ref\":\"2123, 2.7.3\"},{\"id\":2043,\"name\":\"in works-cited lists cross-references\",\"parent\":1041,\"ref\":\"2.1.1, 2.7.5\"},{\"id\":2044,\"name\":\"in works-cited lists film and television personnel\",\"parent\":1041,\"ref\":\"24\"},{\"id\":2045,\"name\":\"in works-cited lists married names\",\"parent\":1041,\"ref\":\"2.1.1\"},{\"id\":2046,\"name\":\"in works-cited lists multiple works by one author\",\"parent\":1041,\"ref\":\"2.1.3, 2.7.2\"},{\"id\":2047,\"name\":\"in works-cited lists pseudonyms and online usernames\",\"parent\":1041,\"ref\":\"24, 2.1.1\"},{\"id\":2048,\"name\":\"in works-cited lists punctuation\",\"parent\":1041,\"ref\":\"20, 2122\"},{\"id\":2049,\"name\":\"in works-cited lists titles and suffixes\",\"parent\":1041,\"ref\":\"7274, 1.1.2, 2.1.2\"},{\"id\":2050,\"name\":\"in works-cited lists translators\",\"parent\":1041,\"ref\":\"23\"},{\"id\":2051,\"name\":\"in works-cited lists variant forms of names\",\"parent\":1041,\"ref\":\"2.1.1\"},{\"id\":1042,\"name\":\"Bible abbreviations for\",\"parent\":36,\"ref\":\"1.6.4\"},{\"id\":2052,\"name\":\"abbreviations for Apocrypha\",\"parent\":1042,\"ref\":\"99100\"},{\"id\":2053,\"name\":\"abbreviations for New Testament\",\"parent\":1042,\"ref\":\"99\"},{\"id\":2054,\"name\":\"abbreviations for Old Testament and Hebrew Bible\",\"parent\":1042,\"ref\":\"9799\"},{\"id\":1043,\"name\":\"Bible in in-text citations\",\"parent\":36,\"ref\":\"12223, 1.6.4, 3.2.1\"},{\"id\":1044,\"name\":\"Bible treatment of titles of in text\",\"parent\":36,\"ref\":\"69\"},{\"id\":1045,\"name\":\"Bible in works-cited lists\",\"parent\":36,\"ref\":\"38, 123, 2.3\"},{\"id\":37,\"name\":\"referred to in text bibliographies\",\"parent\":null,\"ref\":\"70\"},{\"id\":1046,\"name\":\"blogs as parts of networks of blogs\",\"parent\":38,\"ref\":\"31\"},{\"id\":1047,\"name\":\"blogs republication of posts\",\"parent\":38,\"ref\":\"3\"},{\"id\":2055,\"name\":\"in works-cited lists comments\",\"parent\":1048,\"ref\":\"29, 44\"},{\"id\":2056,\"name\":\"in works-cited lists publishers\",\"parent\":1048,\"ref\":\"4142\"},{\"id\":2057,\"name\":\"in works-cited lists titles\",\"parent\":1048,\"ref\":\"28, 30\"},{\"id\":2058,\"name\":\"in works-cited lists URLs\",\"parent\":1048,\"ref\":\"48\"},{\"id\":1049,\"name\":\"book collections digital platforms for\",\"parent\":39,\"ref\":\"31, 34\"},{\"id\":1050,\"name\":\"book collections gathering information on\",\"parent\":39,\"ref\":\"16\"},{\"id\":2059,\"name\":\"in works-cited lists cross-references\",\"parent\":1051,\"ref\":\"2.7.5\"},{\"id\":2060,\"name\":\"in works-cited lists other contributors\",\"parent\":1051,\"ref\":\"38\"},{\"id\":2061,\"name\":\"in works-cited lists page numbers\",\"parent\":1051,\"ref\":\"46\"},{\"id\":2062,\"name\":\"in works-cited lists prior publication\",\"parent\":1051,\"ref\":\"50, 53\"},{\"id\":2063,\"name\":\"in works-cited lists publication dates for articles\",\"parent\":1051,\"ref\":\"42\"},{\"id\":2064,\"name\":\"in works-cited lists titles and subtitles\",\"parent\":1051,\"ref\":\"2627, 30, 35\"},{\"id\":40,\"name\":\"untitled book reviews\",\"parent\":null,\"ref\":\"29\"},{\"id\":2065,\"name\":\"in text capitalization and punctuation of titles\",\"parent\":1053,\"ref\":\"1.2.1\"},{\"id\":2066,\"name\":\"in text italics for titles\",\"parent\":1053,\"ref\":\"1.2.2\"},{\"id\":2067,\"name\":\"in text referring to parts of books\",\"parent\":1053,\"ref\":\"70\"},{\"id\":2068,\"name\":\"in text shortened titles\",\"parent\":1053,\"ref\":\"1.2.3\"},{\"id\":2069,\"name\":\"in text titles not in English\",\"parent\":1053,\"ref\":\"1.2.5\"},{\"id\":2070,\"name\":\"in text titles within titles\",\"parent\":1053,\"ref\":\"1.2.4\"},{\"id\":2071,\"name\":\"in works-cited lists authors names\",\"parent\":1054,\"ref\":\"2125, 2.1, 2.7.23\"},{\"id\":2072,\"name\":\"in works-cited lists editions\",\"parent\":1054,\"ref\":\"3839\"},{\"id\":2073,\"name\":\"in works-cited lists other contributors\",\"parent\":1054,\"ref\":\"3738\"},{\"id\":2074,\"name\":\"in works-cited lists prior publication\",\"parent\":1054,\"ref\":\"50, 53\"},{\"id\":2075,\"name\":\"in works-cited lists publication dates\",\"parent\":1054,\"ref\":\"15, 45, 46\"},{\"id\":2076,\"name\":\"in works-cited lists titles and subtitles\",\"parent\":1054,\"ref\":\"2527, 2.2\"},{\"id\":1055,\"name\":\"book series titles of\",\"parent\":42,\"ref\":\"69\"},{\"id\":1056,\"name\":\"book series in works-cited lists\",\"parent\":42,\"ref\":\"52\"},{\"id\":2077,\"name\":\"in text parts of works\",\"parent\":1057,\"ref\":\"70\"},{\"id\":2078,\"name\":\"in text titles of sources in English\",\"parent\":1057,\"ref\":\"1.2.1\"},{\"id\":2079,\"name\":\"in text titles of sources not in English\",\"parent\":1057,\"ref\":\"1.2.5\"},{\"id\":2080,\"name\":\"in works-cited lists editions\",\"parent\":1058,\"ref\":\"2.3\"},{\"id\":2081,\"name\":\"in works-cited lists generic descriptions of sources\",\"parent\":1058,\"ref\":\"29\"},{\"id\":2082,\"name\":\"in works-cited lists prefaces introductions\",\"parent\":1058,\"ref\":\"2.2.1\"},{\"id\":2083,\"name\":\"in works-cited lists titles of sources\",\"parent\":1058,\"ref\":\"2526, 1.2.1\"},{\"id\":2084,\"name\":\"in works-cited lists untitled sources\",\"parent\":1058,\"ref\":\"29\"},{\"id\":2085,\"name\":\"in works-cited lists versions\",\"parent\":1058,\"ref\":\"3839, 2.3\"},{\"id\":47,\"name\":\"centuries\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":49,\"name\":\"referred to in text chapters\",\"parent\":null,\"ref\":\"70\"},{\"id\":50,\"name\":\"fictional characters\",\"parent\":null,\"ref\":\"1.1.3\"},{\"id\":51,\"name\":\"<em>The</em> <em>Chicago Manual of Style</em>\",\"parent\":null,\"ref\":\"64, 74, 105\"},{\"id\":1059,\"name\":\"Chinese names of persons in\",\"parent\":52,\"ref\":\"62, 6364, 2.1.1\"},{\"id\":1060,\"name\":\"Chinese quotations and titles of sources in\",\"parent\":52,\"ref\":\"74, 1.3.8\"},{\"id\":53,\"name\":\"<em>circa</em>\",\"parent\":null,\"ref\":\"2.6.1\"},{\"id\":1061,\"name\":\"cities of publication of books\",\"parent\":55,\"ref\":\"51\"},{\"id\":1062,\"name\":\"cities of publication of newspapers\",\"parent\":55,\"ref\":\"2.6.1\"},{\"id\":1063,\"name\":\"coauthors in in-text citations\",\"parent\":56,\"ref\":\"3.1.1\"},{\"id\":1064,\"name\":\"coauthors in works-cited lists\",\"parent\":56,\"ref\":\"2123, 2.7.3\"},{\"id\":1065,\"name\":\"colons before block quotations\",\"parent\":57,\"ref\":\"87, 1.3.23\"},{\"id\":1066,\"name\":\"colons with quotation marks\",\"parent\":57,\"ref\":\"89\"},{\"id\":1067,\"name\":\"colons in titles\",\"parent\":57,\"ref\":\"1.2.1\"},{\"id\":1068,\"name\":\"comic books titles of\",\"parent\":58,\"ref\":\"31\"},{\"id\":1069,\"name\":\"comic books volume and issue numbers of\",\"parent\":58,\"ref\":\"40\"},{\"id\":1070,\"name\":\"commas in in-text citations\",\"parent\":59,\"ref\":\"3.6\"},{\"id\":1071,\"name\":\"commas in numbers\",\"parent\":59,\"ref\":\"1.4.2\"},{\"id\":1072,\"name\":\"commas with quotation marks\",\"parent\":59,\"ref\":\"8889\"},{\"id\":1073,\"name\":\"commas in works-cited lists\",\"parent\":59,\"ref\":\"20, 2.6\"},{\"id\":2086,\"name\":\"in works-cited lists authors names\",\"parent\":1073,\"ref\":\"21, 22\"},{\"id\":2087,\"name\":\"in works-cited lists other contributors\",\"parent\":1073,\"ref\":\"37\"},{\"id\":60,\"name\":\"online comments\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":61,\"name\":\"documentation unneeded for common knowledge\",\"parent\":null,\"ref\":\"10\"},{\"id\":62,\"name\":\"in works-cited lists compilers\",\"parent\":null,\"ref\":\"2.1.3\"},{\"id\":63,\"name\":\"conference titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":64,\"name\":\"in titles conjunctions\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":66,\"name\":\"copublishers\",\"parent\":null,\"ref\":\"2.4\"},{\"id\":1074,\"name\":\"copyright pages publication dates on\",\"parent\":67,\"ref\":\"15, 45, 46\"},{\"id\":1075,\"name\":\"copyright pages publishers names on\",\"parent\":67,\"ref\":\"41\"},{\"id\":1077,\"name\":\"copyright pages in in-text citations\",\"parent\":67,\"ref\":\"5556, 3.1.2\"},{\"id\":1078,\"name\":\"copyright pages in works-cited lists\",\"parent\":67,\"ref\":\"25, 2.1.3\"},{\"id\":68,\"name\":\"course titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":1079,\"name\":\"in works-cited lists cross-references for varying names of authors\",\"parent\":69,\"ref\":\"2.1.1\"},{\"id\":1080,\"name\":\"in works-cited lists cross-references for works in collections\",\"parent\":69,\"ref\":\"2.7.5\"},{\"id\":70,\"name\":\"<em>de</em> <em>da</em>\",\"parent\":null,\"ref\":\"65\"},{\"id\":72,\"name\":\"dates and times\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":1081,\"name\":\"dates and times abbreviations for\",\"parent\":72,\"ref\":\"1.6\"},{\"id\":1082,\"name\":\"dates and times for online works of access\",\"parent\":72,\"ref\":\"53\"},{\"id\":73,\"name\":\"<em>del</em> <em>de</em>\",\"parent\":null,\"ref\":\"66\"},{\"id\":74,\"name\":\"<em>du</em> <em>de</em>\",\"parent\":null,\"ref\":\"64\"},{\"id\":1083,\"name\":\"descriptive terms prefaces for documenting introductions\",\"parent\":75,\"ref\":\"2.2.1\"},{\"id\":1084,\"name\":\"descriptive terms for editors\",\"parent\":75,\"ref\":\"23\"},{\"id\":1085,\"name\":\"descriptive terms for film and television personnel\",\"parent\":75,\"ref\":\"24\"},{\"id\":1086,\"name\":\"descriptive terms for other contributors\",\"parent\":75,\"ref\":\"3738\"},{\"id\":1087,\"name\":\"descriptive terms for parts of works in text\",\"parent\":75,\"ref\":\"70\"},{\"id\":1088,\"name\":\"descriptive terms in place of titles in citations\",\"parent\":75,\"ref\":\"3.2.2\"},{\"id\":1089,\"name\":\"descriptive terms for unexpected types of works\",\"parent\":75,\"ref\":\"52\"},{\"id\":1090,\"name\":\"descriptive terms for untitled sources\",\"parent\":75,\"ref\":\"2829\"},{\"id\":76,\"name\":\"ignored in alphabetization diacritics\",\"parent\":null,\"ref\":\"2.7.1\"},{\"id\":1091,\"name\":\"dialogue quotations consisting solely of\",\"parent\":77,\"ref\":\"1.3.7\"},{\"id\":1092,\"name\":\"dialogue quoted from plays or screenplays\",\"parent\":77,\"ref\":\"1.3.4\"},{\"id\":1093,\"name\":\"digital media dates needed for\",\"parent\":78,\"ref\":\"4243, 4445\"},{\"id\":1094,\"name\":\"digital media gathering information on\",\"parent\":78,\"ref\":\"17\"},{\"id\":2088,\"name\":\"in works-cited lists publishers\",\"parent\":1095,\"ref\":\"4142\"},{\"id\":2089,\"name\":\"in works-cited lists titles of containers\",\"parent\":1095,\"ref\":\"3135\"},{\"id\":2090,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1095,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":2091,\"name\":\"in works-cited lists versions\",\"parent\":1095,\"ref\":\"39\"},{\"id\":79,\"name\":\"digital object identifiers (DOIs)\",\"parent\":null,\"ref\":\"48, 2.5.2\"},{\"id\":80,\"name\":\"digital reference managers\",\"parent\":null,\"ref\":\"12\"},{\"id\":82,\"name\":\"<em>Dr.</em> <em>Doctor</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":1096,\"name\":\"documentation commonsense approach to\",\"parent\":83,\"ref\":\"xiixiii, 34\"},{\"id\":1097,\"name\":\"documentation development of MLA style of\",\"parent\":83,\"ref\":\"xxii\"},{\"id\":1098,\"name\":\"documentation evaluating sources for\",\"parent\":83,\"ref\":\"3, 1012\"},{\"id\":1099,\"name\":\"documentation gathering information for\",\"parent\":83,\"ref\":\"1318\"},{\"id\":1100,\"name\":\"documentation importance of\",\"parent\":83,\"ref\":\"56\"},{\"id\":1101,\"name\":\"documentation in-text citations and\",\"parent\":83,\"ref\":\"5458\"},{\"id\":1102,\"name\":\"documentation organizing information for\",\"parent\":83,\"ref\":\"19\"},{\"id\":1103,\"name\":\"documentation recordkeeping and\",\"parent\":83,\"ref\":\"8, 910, 12\"},{\"id\":1104,\"name\":\"documentation in research projects in nonprint media\",\"parent\":83,\"ref\":\"12728\"},{\"id\":84,\"name\":\"DOIs (digital object identifiers)\",\"parent\":null,\"ref\":\"48, 2.5.2\"},{\"id\":1105,\"name\":\"drama and plays quotations of\",\"parent\":85,\"ref\":\"1.3.4\"},{\"id\":1106,\"name\":\"drama and plays titles of\",\"parent\":85,\"ref\":\"27, 1.2.2\"},{\"id\":1107,\"name\":\"DVDs disc numbers in sets of\",\"parent\":86,\"ref\":\"49\"},{\"id\":1108,\"name\":\"DVDs release dates of\",\"parent\":86,\"ref\":\"44\"},{\"id\":1109,\"name\":\"e-books digital platforms for\",\"parent\":87,\"ref\":\"31, 34, 47\"},{\"id\":1110,\"name\":\"e-books location indicators in\",\"parent\":87,\"ref\":\"3.3.3\"},{\"id\":88,\"name\":\"<em>ed.\",\"parent\":null,\"ref\":\"2.3</em>\"},{\"id\":1111,\"name\":\"editions publication dates of\",\"parent\":89,\"ref\":\"45, 46\"},{\"id\":1112,\"name\":\"editions works in multiple\",\"parent\":89,\"ref\":\"57, 3.3.2\"},{\"id\":1113,\"name\":\"in works-cited lists editors multiple works by\",\"parent\":90,\"ref\":\"2.7.2\"},{\"id\":1114,\"name\":\"in works-cited lists editors multivolume works and\",\"parent\":90,\"ref\":\"36\"},{\"id\":1115,\"name\":\"in works-cited lists editors as other contributors\",\"parent\":90,\"ref\":\"3738\"},{\"id\":1116,\"name\":\"in works-cited lists editors at start of entry\",\"parent\":90,\"ref\":\"23\"},{\"id\":1117,\"name\":\"in works-cited lists editors three or more\",\"parent\":90,\"ref\":\"23, 38\"},{\"id\":1118,\"name\":\"in works-cited lists editors two\",\"parent\":90,\"ref\":\"23\"},{\"id\":91,\"name\":\"<em>e.g.</em>\",\"parent\":null,\"ref\":\"1.6.2\"},{\"id\":93,\"name\":\"in quotations ellipses\",\"parent\":null,\"ref\":\"1.3.5\"},{\"id\":94,\"name\":\"in works-cited lists e-mail messages\",\"parent\":null,\"ref\":\"29\"},{\"id\":95,\"name\":\"use of <em>emphasis added</em>\",\"parent\":null,\"ref\":\"1.3.6\"},{\"id\":1119,\"name\":\"essays in containers\",\"parent\":96,\"ref\":\"32\"},{\"id\":1120,\"name\":\"essays titles of\",\"parent\":96,\"ref\":\"2728, 1.2.2\"},{\"id\":97,\"name\":\"<em>et al.</em>\",\"parent\":null,\"ref\":\"1.6.2\"},{\"id\":1121,\"name\":\"<em>et al.</em> in in-text citations\",\"parent\":97,\"ref\":\"3.1.1\"},{\"id\":1122,\"name\":\"<em>et al.</em> in works-cited lists\",\"parent\":97,\"ref\":\"22, 23, 38\"},{\"id\":98,\"name\":\"ethics and documentation\",\"parent\":null,\"ref\":\"6\"},{\"id\":99,\"name\":\"exclamation points and quotations\",\"parent\":null,\"ref\":\"1.3.7\"},{\"id\":101,\"name\":\"fictional characters\",\"parent\":null,\"ref\":\"1.1.3\"},{\"id\":1123,\"name\":\"television film digital platforms for\",\"parent\":102,\"ref\":\"31, 33\"},{\"id\":1124,\"name\":\"television film gathering information on\",\"parent\":102,\"ref\":\"18\"},{\"id\":1125,\"name\":\"television film research projects as\",\"parent\":102,\"ref\":\"128\"},{\"id\":1126,\"name\":\"television film timings in\",\"parent\":102,\"ref\":\"57\"},{\"id\":2092,\"name\":\"in works-cited lists contributors treated as authors\",\"parent\":1127,\"ref\":\"24\"},{\"id\":2093,\"name\":\"in works-cited lists disc numbers in DVD sets\",\"parent\":1127,\"ref\":\"49\"},{\"id\":2094,\"name\":\"in works-cited lists networks of airing\",\"parent\":1127,\"ref\":\"43\"},{\"id\":2095,\"name\":\"in works-cited lists other contributors\",\"parent\":1127,\"ref\":\"38\"},{\"id\":2096,\"name\":\"in works-cited lists production or distribution companies\",\"parent\":1127,\"ref\":\"41\"},{\"id\":2097,\"name\":\"in works-cited lists release dates\",\"parent\":1127,\"ref\":\"4344\"},{\"id\":2098,\"name\":\"in works-cited lists seasons and episode numbers\",\"parent\":1127,\"ref\":\"40\"},{\"id\":2099,\"name\":\"in works-cited lists series and episode titles\",\"parent\":1127,\"ref\":\"24, 28, 30, 33\"},{\"id\":2100,\"name\":\"in works-cited lists URLs\",\"parent\":1127,\"ref\":\"48\"},{\"id\":2101,\"name\":\"in works-cited lists versions\",\"parent\":1127,\"ref\":\"39\"},{\"id\":103,\"name\":\"as titles first lines of poems\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1128,\"name\":\"forewords documenting\",\"parent\":104,\"ref\":\"2.2.1\"},{\"id\":1129,\"name\":\"forewords referred to in text\",\"parent\":104,\"ref\":\"70\"},{\"id\":105,\"name\":\"online forums\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":1130,\"name\":\"forward slashes for line and stanza breaks in poetry\",\"parent\":106,\"ref\":\"1.3.3\"},{\"id\":2102,\"name\":\"in works-cited lists separating comparable items\",\"parent\":1131,\"ref\":\"2.6.2\"},{\"id\":2103,\"name\":\"in works-cited lists separating copublishers\",\"parent\":1131,\"ref\":\"2.4\"},{\"id\":1132,\"name\":\"French names of persons in\",\"parent\":108,\"ref\":\"64\"},{\"id\":1133,\"name\":\"French titles of sources in\",\"parent\":108,\"ref\":\"72\"},{\"id\":1134,\"name\":\"of books front matter documenting\",\"parent\":109,\"ref\":\"2.2.1\"},{\"id\":1135,\"name\":\"of books front matter referred to in text\",\"parent\":109,\"ref\":\"70\"},{\"id\":1136,\"name\":\"German names of persons in\",\"parent\":110,\"ref\":\"6465\"},{\"id\":1137,\"name\":\"German titles of sources in\",\"parent\":110,\"ref\":\"7273\"},{\"id\":111,\"name\":\"<em>Google</em>\",\"parent\":null,\"ref\":\"12\"},{\"id\":1138,\"name\":\"Greek documenting ancient works in\",\"parent\":113,\"ref\":\"122\"},{\"id\":1139,\"name\":\"Greek quotations and titles of sources in\",\"parent\":113,\"ref\":\"74, 1.3.8\"},{\"id\":1140,\"name\":\"hanging indention for quoted dialogue\",\"parent\":114,\"ref\":\"1.3.4\"},{\"id\":1141,\"name\":\"hanging indention for quoted poetry\",\"parent\":114,\"ref\":\"79\"},{\"id\":1142,\"name\":\"hanging indention in works-cited lists\",\"parent\":114,\"ref\":\"2.7\"},{\"id\":115,\"name\":\"quotations and titles of sources in Hebrew\",\"parent\":null,\"ref\":\"74, 1.3.8\"},{\"id\":116,\"name\":\"names of persons in Hungarian\",\"parent\":null,\"ref\":\"62\"},{\"id\":1143,\"name\":\"hyphens for authors names in works-cited lists\",\"parent\":117,\"ref\":\"2.1.3, 2.7.23\"},{\"id\":1144,\"name\":\"hyphens in compound terms and capitalization\",\"parent\":117,\"ref\":\"1.2.1\"},{\"id\":1145,\"name\":\"hyphens in persons names\",\"parent\":117,\"ref\":\"1.1.1\"},{\"id\":118,\"name\":\"<em>i.e.\",\"parent\":null,\"ref\":\"1.6.2</em>\"},{\"id\":119,\"name\":\"publishers imprints\",\"parent\":null,\"ref\":\"109\"},{\"id\":1146,\"name\":\"indention of quotations\",\"parent\":120,\"ref\":\"55, 7677\"},{\"id\":1147,\"name\":\"indention of quotations with translations\",\"parent\":120,\"ref\":\"1.3.8\"},{\"id\":1148,\"name\":\"indention of quoted dialogue\",\"parent\":120,\"ref\":\"1.3.4\"},{\"id\":1149,\"name\":\"indention in quoted poetry unusual\",\"parent\":120,\"ref\":\"79\"},{\"id\":121,\"name\":\"not capitalized in titles infinitives\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1150,\"name\":\"institutions objects in\",\"parent\":122,\"ref\":\"4950\"},{\"id\":1151,\"name\":\"institutions romanizing non-English names of\",\"parent\":122,\"ref\":\"1.3.8\"},{\"id\":1152,\"name\":\"Internet finding and retrieving sources on\",\"parent\":123,\"ref\":\"11\"},{\"id\":1153,\"name\":\"Internet research papers purchased on\",\"parent\":123,\"ref\":\"78\"},{\"id\":1154,\"name\":\"Internet URLs and DOIs and\",\"parent\":123,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":124,\"name\":\"in-text citations\",\"parent\":null,\"ref\":\"5458, 3.16\"},{\"id\":2104,\"name\":\"abbreviations in authors first names\",\"parent\":1155,\"ref\":\"55\"},{\"id\":2105,\"name\":\"abbreviations in corporate authors\",\"parent\":1155,\"ref\":\"3.1.2\"},{\"id\":2106,\"name\":\"abbreviations in indirect sources (<em>qtd. in</em>)\",\"parent\":1155,\"ref\":\"3.4\"},{\"id\":2107,\"name\":\"abbreviations in three or more authors (<em>et al.</em>)\",\"parent\":1155,\"ref\":\"3.1.1\"},{\"id\":2108,\"name\":\"abbreviations in titles of sources\",\"parent\":1155,\"ref\":\"5556, 1.6.4, 3.2.1\"},{\"id\":1156,\"name\":\"in-text citations coauthors in\",\"parent\":124,\"ref\":\"3.1.1\"},{\"id\":1157,\"name\":\"in-text citations corporate authors in\",\"parent\":124,\"ref\":\"5556, 3.1.2\"},{\"id\":1158,\"name\":\"in-text citations descriptive terms in\",\"parent\":124,\"ref\":\"3.2.2\"},{\"id\":1159,\"name\":\"in-text citations goals of\",\"parent\":124,\"ref\":\"19, 54, 58, 116\"},{\"id\":1160,\"name\":\"in-text citations indirect sources in\",\"parent\":124,\"ref\":\"3.4\"},{\"id\":1161,\"name\":\"in-text citations prefaces introductions\",\"parent\":124,\"ref\":\"2.2.1\"},{\"id\":1162,\"name\":\"in-text citations multiple sources in\",\"parent\":124,\"ref\":\"3.6\"},{\"id\":1163,\"name\":\"in-text citations multivolume works in\",\"parent\":124,\"ref\":\"3.3.1\"},{\"id\":2109,\"name\":\"numbers in location indicators other than pages\",\"parent\":1164,\"ref\":\"3.3.23, 3.6\"},{\"id\":2110,\"name\":\"numbers in style\",\"parent\":1164,\"ref\":\"3.3.1\"},{\"id\":2111,\"name\":\"numbers in works in multiple editions\",\"parent\":1164,\"ref\":\"3.3.2\"},{\"id\":1165,\"name\":\"in-text citations organizing information for\",\"parent\":124,\"ref\":\"19\"},{\"id\":1166,\"name\":\"in-text citations punctuation and formatting of\",\"parent\":124,\"ref\":\"5458, 82, 1.3.2, 1.3.7, 3.6\"},{\"id\":1167,\"name\":\"in-text citations repeated use of sources and\",\"parent\":124,\"ref\":\"3.5\"},{\"id\":1168,\"name\":\"in-text citations shortened titles of legal cases in\",\"parent\":124,\"ref\":\"1.2.3\"},{\"id\":1169,\"name\":\"in-text citations translations of quotations and\",\"parent\":124,\"ref\":\"1.3.8\"},{\"id\":1170,\"name\":\"introductions documenting\",\"parent\":125,\"ref\":\"2.2.1\"},{\"id\":1171,\"name\":\"introductions referred to in text\",\"parent\":125,\"ref\":\"70\"},{\"id\":1173,\"name\":\"introductions names of persons in\",\"parent\":125,\"ref\":\"65\"},{\"id\":1174,\"name\":\"introductions titles of sources in\",\"parent\":125,\"ref\":\"73\"},{\"id\":2112,\"name\":\"in text added to quotations\",\"parent\":1175,\"ref\":\"1.3.6\"},{\"id\":2113,\"name\":\"in text titles of sources\",\"parent\":1175,\"ref\":\"1.2.2\"},{\"id\":2114,\"name\":\"in text titles within titles\",\"parent\":1175,\"ref\":\"1.2.4\"},{\"id\":2115,\"name\":\"in works-cited lists titles of containers\",\"parent\":1176,\"ref\":\"30, 31\"},{\"id\":2116,\"name\":\"in works-cited lists titles of sources\",\"parent\":1176,\"ref\":\"2529, 1.2.2\"},{\"id\":1177,\"name\":\"Japanese names of persons in\",\"parent\":127,\"ref\":\"62, 63\"},{\"id\":1178,\"name\":\"Japanese quotations and titles of sources in\",\"parent\":127,\"ref\":\"74, 1.3.8\"},{\"id\":129,\"name\":\"research projects presented with <em>Keynote</em>\",\"parent\":null,\"ref\":\"128\"},{\"id\":130,\"name\":\"Quran) Koran (Quran\",\"parent\":null,\"ref\":\"69, 12223\"},{\"id\":131,\"name\":\"names of persons in Korean\",\"parent\":null,\"ref\":\"62, 63\"},{\"id\":1179,\"name\":\"languages other than English capitalization in\",\"parent\":133,\"ref\":\"1.2.5\"},{\"id\":2117,\"name\":\"capitalization in French\",\"parent\":1179,\"ref\":\"72\"},{\"id\":2118,\"name\":\"capitalization in German\",\"parent\":1179,\"ref\":\"7273\"},{\"id\":2119,\"name\":\"capitalization in Italian\",\"parent\":1179,\"ref\":\"73\"},{\"id\":2120,\"name\":\"capitalization in Latin\",\"parent\":1179,\"ref\":\"7374\"},{\"id\":2121,\"name\":\"capitalization in Spanish\",\"parent\":1179,\"ref\":\"74\"},{\"id\":1180,\"name\":\"languages other than English names of persons in\",\"parent\":133,\"ref\":\"1.1.4\"},{\"id\":2122,\"name\":\"names of persons in Asian languages\",\"parent\":1180,\"ref\":\"62, 6364\"},{\"id\":2123,\"name\":\"names of persons in first and subsequent uses in text\",\"parent\":1180,\"ref\":\"1.1.1\"},{\"id\":2124,\"name\":\"names of persons in French\",\"parent\":1180,\"ref\":\"64\"},{\"id\":2125,\"name\":\"names of persons in German\",\"parent\":1180,\"ref\":\"6465\"},{\"id\":2126,\"name\":\"names of persons in Italian\",\"parent\":1180,\"ref\":\"65\"},{\"id\":2127,\"name\":\"names of persons in Latin\",\"parent\":1180,\"ref\":\"6566\"},{\"id\":2128,\"name\":\"names of persons in Spanish\",\"parent\":1180,\"ref\":\"66\"},{\"id\":2129,\"name\":\"names of persons in variant forms of names\",\"parent\":1180,\"ref\":\"2.1.1\"},{\"id\":1181,\"name\":\"languages other than English titles of sources in\",\"parent\":133,\"ref\":\"1.2.5\"},{\"id\":2130,\"name\":\"titles of sources in French\",\"parent\":1181,\"ref\":\"72\"},{\"id\":2131,\"name\":\"titles of sources in German\",\"parent\":1181,\"ref\":\"7273\"},{\"id\":2132,\"name\":\"titles of sources in initial articles ignored in alphabetizing\",\"parent\":1181,\"ref\":\"2.7.4\"},{\"id\":2133,\"name\":\"titles of sources in Italian\",\"parent\":1181,\"ref\":\"73\"},{\"id\":2134,\"name\":\"titles of sources in Latin\",\"parent\":1181,\"ref\":\"7374\"},{\"id\":2135,\"name\":\"titles of sources in other languages\",\"parent\":1181,\"ref\":\"75\"},{\"id\":2136,\"name\":\"titles of sources in romanized languages\",\"parent\":1181,\"ref\":\"74\"},{\"id\":2137,\"name\":\"titles of sources in Spanish\",\"parent\":1181,\"ref\":\"74\"},{\"id\":2138,\"name\":\"titles of sources in translations\",\"parent\":1181,\"ref\":\"1.2.5, 2.2.2\"},{\"id\":1182,\"name\":\"Latin documenting ancient works in\",\"parent\":134,\"ref\":\"122\"},{\"id\":1183,\"name\":\"Latin names of persons in\",\"parent\":134,\"ref\":\"6566\"},{\"id\":1184,\"name\":\"Latin titles of sources in\",\"parent\":134,\"ref\":\"7374\"},{\"id\":135,\"name\":\"titles of laws\",\"parent\":null,\"ref\":\"69\"},{\"id\":137,\"name\":\"shortened titles of legal cases\",\"parent\":null,\"ref\":\"1.2.3\"},{\"id\":1185,\"name\":\"reports legislative bills in text titles of\",\"parent\":138,\"ref\":\"69\"},{\"id\":1186,\"name\":\"reports legislative bills in works-cited lists\",\"parent\":138,\"ref\":\"53, 2.1.3\"},{\"id\":1187,\"name\":\"commonly studied literary works fictional characters in\",\"parent\":140,\"ref\":\"1.1.3\"},{\"id\":2139,\"name\":\"in in-text citations format and punctuation\",\"parent\":1188,\"ref\":\"1.3.2, 1.3.7, 3.6\"},{\"id\":2140,\"name\":\"in in-text citations numbers\",\"parent\":1188,\"ref\":\"57, 3.3.2\"},{\"id\":1189,\"name\":\"live presentations research projects as\",\"parent\":141,\"ref\":\"128\"},{\"id\":2141,\"name\":\"in works-cited lists descriptive terms\",\"parent\":1190,\"ref\":\"52\"},{\"id\":2142,\"name\":\"in works-cited lists other contributors\",\"parent\":1190,\"ref\":\"38\"},{\"id\":2143,\"name\":\"in works-cited lists city venue\",\"parent\":1190,\"ref\":\"50\"},{\"id\":142,\"name\":\"locations\",\"parent\":null,\"ref\":\"46, 4850, 2.5\"},{\"id\":1191,\"name\":\"locations gathering information on\",\"parent\":142,\"ref\":\"14\"},{\"id\":2144,\"name\":\"in works-cited lists disc numbers in DVD sets\",\"parent\":1192,\"ref\":\"49\"},{\"id\":2145,\"name\":\"in works-cited lists objects located in places\",\"parent\":1192,\"ref\":\"4950\"},{\"id\":2146,\"name\":\"in works-cited lists page numbers\",\"parent\":1192,\"ref\":\"46\"},{\"id\":2147,\"name\":\"in works-cited lists page numbers not consecutive in periodicals\",\"parent\":1192,\"ref\":\"2.5.1\"},{\"id\":2148,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1192,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":1193,\"name\":\"manuscripts dates of\",\"parent\":144,\"ref\":\"1.5\"},{\"id\":1194,\"name\":\"manuscripts locations of\",\"parent\":144,\"ref\":\"50\"},{\"id\":145,\"name\":\"of authors married names\",\"parent\":null,\"ref\":\"2.1.1\"},{\"id\":146,\"name\":\"writing of measurements\",\"parent\":null,\"ref\":\"1.4.1\"},{\"id\":148,\"name\":\"documenting medieval works\",\"parent\":null,\"ref\":\"122\"},{\"id\":149,\"name\":\"online messages\",\"parent\":null,\"ref\":\"29\"},{\"id\":150,\"name\":\"history of <em>MLA Handbook</em>\",\"parent\":null,\"ref\":\"xxii\"},{\"id\":151,\"name\":\"abbreviations for months\",\"parent\":null,\"ref\":\"1.5, 1.6.1\"},{\"id\":1195,\"name\":\"multiple authors in in-text citations\",\"parent\":152,\"ref\":\"3.1.1\"},{\"id\":1196,\"name\":\"multiple authors in works-cited lists\",\"parent\":152,\"ref\":\"2123, 2.7.3\"},{\"id\":1197,\"name\":\"multivolume works in in-text citations\",\"parent\":153,\"ref\":\"3.3.1\"},{\"id\":1198,\"name\":\"multivolume works in works-cited lists\",\"parent\":153,\"ref\":\"36, 39, 3.3.1\"},{\"id\":2149,\"name\":\"in works-cited lists total number of volumes\",\"parent\":1198,\"ref\":\"5152\"},{\"id\":154,\"name\":\"objects in museums\",\"parent\":null,\"ref\":\"4950\"},{\"id\":155,\"name\":\"identified by form musical compositions\",\"parent\":null,\"ref\":\"69\"},{\"id\":1199,\"name\":\"names of persons in fiction\",\"parent\":157,\"ref\":\"1.1.3\"},{\"id\":1200,\"name\":\"names of persons initials and\",\"parent\":157,\"ref\":\"1.6\"},{\"id\":1201,\"name\":\"names of persons <em>Jr.</em> and <em>Sr.</em> with\",\"parent\":157,\"ref\":\"1.1.1, 2.1.2\"},{\"id\":1202,\"name\":\"names of persons in languages other than English\",\"parent\":157,\"ref\":\"1.1.4\"},{\"id\":2150,\"name\":\"in languages other than English Asian languages\",\"parent\":1202,\"ref\":\"62, 6364\"},{\"id\":2151,\"name\":\"in languages other than English French\",\"parent\":1202,\"ref\":\"64\"},{\"id\":2152,\"name\":\"in languages other than English German\",\"parent\":1202,\"ref\":\"6465\"},{\"id\":2153,\"name\":\"in languages other than English Italian\",\"parent\":1202,\"ref\":\"65\"},{\"id\":2154,\"name\":\"in languages other than English Latin\",\"parent\":1202,\"ref\":\"6566\"},{\"id\":2155,\"name\":\"in languages other than English romanization\",\"parent\":1202,\"ref\":\"1.3.8\"},{\"id\":2156,\"name\":\"in languages other than English Spanish\",\"parent\":1202,\"ref\":\"66\"},{\"id\":1203,\"name\":\"names of persons order of\",\"parent\":157,\"ref\":\"1.1.1\"},{\"id\":1204,\"name\":\"names of persons pseudonymous 24,<em> 1.1.3</em>,\",\"parent\":157,\"ref\":\"2.1.1\"},{\"id\":1205,\"name\":\"names of persons roman numerals with\",\"parent\":157,\"ref\":\"1.4.4, 2.1.2\"},{\"id\":1206,\"name\":\"names of persons simplified\",\"parent\":157,\"ref\":\"1.1.3\"},{\"id\":1207,\"name\":\"names of persons first and subsequent use of in text\",\"parent\":157,\"ref\":\"1.1.1\"},{\"id\":1208,\"name\":\"names of persons with titles\",\"parent\":157,\"ref\":\"1.1.2\"},{\"id\":160,\"name\":\"titles abbreviated as noun phrases\",\"parent\":null,\"ref\":\"3.2.1\"},{\"id\":1209,\"name\":\"nouns capitalized in titles\",\"parent\":161,\"ref\":\"1.2.1\"},{\"id\":1210,\"name\":\"nouns in languages other than English\",\"parent\":161,\"ref\":\"1.2.5\"},{\"id\":162,\"name\":\"titles of novellas\",\"parent\":null,\"ref\":\"1.2.2\"},{\"id\":1211,\"name\":\"novels in containers\",\"parent\":163,\"ref\":\"36\"},{\"id\":1212,\"name\":\"novels titles of\",\"parent\":163,\"ref\":\"2527, 1.2.2\"},{\"id\":2157,\"name\":\"in in-text citations e-books\",\"parent\":1213,\"ref\":\"3.3.3\"},{\"id\":2158,\"name\":\"in in-text citations location indicators other than pages\",\"parent\":1213,\"ref\":\"3.3.23, 3.6\"},{\"id\":2159,\"name\":\"in in-text citations sections paragraphs\",\"parent\":1213,\"ref\":\"5657, 78, 121\"},{\"id\":2160,\"name\":\"in in-text citations parts of poetry\",\"parent\":1213,\"ref\":\"12122, 1.3.3\"},{\"id\":2161,\"name\":\"in in-text citations sources without page or part numbers\",\"parent\":1213,\"ref\":\"56\"},{\"id\":2162,\"name\":\"in in-text citations style\",\"parent\":1213,\"ref\":\"3.3.1\"},{\"id\":2163,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1213,\"ref\":\"3.3.2\"},{\"id\":2164,\"name\":\"in text beginning of sentences\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2165,\"name\":\"in text commas\",\"parent\":1214,\"ref\":\"1.4.2\"},{\"id\":2166,\"name\":\"in text inclusive ranges\",\"parent\":1214,\"ref\":\"1.4.3\"},{\"id\":2167,\"name\":\"in text musical compositions\",\"parent\":1214,\"ref\":\"69\"},{\"id\":2168,\"name\":\"in text sections paragraphs\",\"parent\":1214,\"ref\":\"1.6.2\"},{\"id\":2169,\"name\":\"in text plurals\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2170,\"name\":\"in text use of numerals or words\",\"parent\":1214,\"ref\":\"1.4.1\"},{\"id\":2171,\"name\":\"in works-cited lists alphabetizing titles\",\"parent\":1215,\"ref\":\"2.7.4\"},{\"id\":2172,\"name\":\"in works-cited lists discs in DVD sets\",\"parent\":1215,\"ref\":\"49\"},{\"id\":2173,\"name\":\"in works-cited lists editions\",\"parent\":1215,\"ref\":\"2.3\"},{\"id\":2174,\"name\":\"in works-cited lists episodes\",\"parent\":1215,\"ref\":\"40\"},{\"id\":2175,\"name\":\"in works-cited lists issues\",\"parent\":1215,\"ref\":\"3940\"},{\"id\":2176,\"name\":\"in works-cited lists seasons of television series\",\"parent\":1215,\"ref\":\"40\"},{\"id\":2177,\"name\":\"in works-cited lists versions\",\"parent\":1215,\"ref\":\"2.3\"},{\"id\":2178,\"name\":\"in works-cited lists volumes\",\"parent\":1215,\"ref\":\"39\"},{\"id\":1216,\"name\":\"in works-cited lists objects generic descriptions of\",\"parent\":165,\"ref\":\"2829\"},{\"id\":1217,\"name\":\"in works-cited lists objects locations of\",\"parent\":165,\"ref\":\"4950\"},{\"id\":1218,\"name\":\"online databases journal articles in\",\"parent\":166,\"ref\":\"3\"},{\"id\":1219,\"name\":\"online databases possibly incorrect dates in\",\"parent\":166,\"ref\":\"47\"},{\"id\":1220,\"name\":\"online databases in works-cited lists\",\"parent\":166,\"ref\":\"31\"},{\"id\":167,\"name\":\"in works-cited lists online forums\",\"parent\":null,\"ref\":\"29, 44\"},{\"id\":168,\"name\":\"of authors online usernames\",\"parent\":null,\"ref\":\"24, 2.1.1\"},{\"id\":1221,\"name\":\"in works-cited lists optional elements access dates as\",\"parent\":169,\"ref\":\"53\"},{\"id\":1222,\"name\":\"in works-cited lists optional elements cities of publication of books as\",\"parent\":169,\"ref\":\"51\"},{\"id\":1223,\"name\":\"in works-cited lists optional elements dates of prior publication as\",\"parent\":169,\"ref\":\"50, 53\"},{\"id\":1224,\"name\":\"in works-cited lists optional elements decisions on including\",\"parent\":169,\"ref\":\"50\"},{\"id\":1225,\"name\":\"in works-cited lists optional elements series as\",\"parent\":169,\"ref\":\"52\"},{\"id\":1226,\"name\":\"in works-cited lists optional elements total numbers of volumes as\",\"parent\":169,\"ref\":\"5152\"},{\"id\":1227,\"name\":\"in works-cited lists optional elements types of works as\",\"parent\":169,\"ref\":\"52\"},{\"id\":170,\"name\":\"romanizing non-English names of organizations\",\"parent\":null,\"ref\":\"1.3.8\"},{\"id\":171,\"name\":\"other contributors\",\"parent\":null,\"ref\":\"3738\"},{\"id\":1228,\"name\":\"other contributors given alone last names of\",\"parent\":171,\"ref\":\"103, 2.2.1\"},{\"id\":1229,\"name\":\"other contributors original authors as\",\"parent\":171,\"ref\":\"23\"},{\"id\":1230,\"name\":\"page numbers abbreviation with\",\"parent\":172,\"ref\":\"1.6.2\"},{\"id\":1231,\"name\":\"page numbers commas not used in\",\"parent\":172,\"ref\":\"1.4.2\"},{\"id\":1232,\"name\":\"page numbers in in-text citations\",\"parent\":172,\"ref\":\"5458, 3.3.1\"},{\"id\":2179,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1232,\"ref\":\"3.3.2\"},{\"id\":2180,\"name\":\"in works-cited lists book collections\",\"parent\":1233,\"ref\":\"46\"},{\"id\":2181,\"name\":\"in works-cited lists in periodicals consecutive\",\"parent\":1233,\"ref\":\"46\"},{\"id\":2182,\"name\":\"in works-cited lists in periodicals not consecutive\",\"parent\":1233,\"ref\":\"2.5.1\"},{\"id\":2183,\"name\":\"in works-cited lists plus signs\",\"parent\":1233,\"ref\":\"2.5.1\"},{\"id\":1234,\"name\":\"paragraphs abbreviation with numbers for\",\"parent\":174,\"ref\":\"1.6.2\"},{\"id\":1235,\"name\":\"paragraphs in block quotations\",\"parent\":174,\"ref\":\"77\"},{\"id\":1236,\"name\":\"paraphrasing avoiding plagiarism in\",\"parent\":175,\"ref\":\"9\"},{\"id\":1237,\"name\":\"paraphrasing integrated in text\",\"parent\":175,\"ref\":\"1.3.1\"},{\"id\":1238,\"name\":\"paraphrasing sources needed for\",\"parent\":175,\"ref\":\"5758\"},{\"id\":2184,\"name\":\"with quotations alterations to sources\",\"parent\":1239,\"ref\":\"1.3.6\"},{\"id\":2185,\"name\":\"with quotations ellipses in sources\",\"parent\":1239,\"ref\":\"85\"},{\"id\":1240,\"name\":\"parentheses real names of pseudonymous authors in\",\"parent\":176,\"ref\":\"2.1.1\"},{\"id\":2186,\"name\":\"in text full Latin names\",\"parent\":1241,\"ref\":\"65\"},{\"id\":2187,\"name\":\"in text shortened titles\",\"parent\":1241,\"ref\":\"1.2.3\"},{\"id\":2188,\"name\":\"in text translations of quotations\",\"parent\":1241,\"ref\":\"1.3.8\"},{\"id\":2189,\"name\":\"in text translations of titles\",\"parent\":1241,\"ref\":\"1.2.5\"},{\"id\":178,\"name\":\"William Riley Parker\",\"parent\":null,\"ref\":\"x\"},{\"id\":179,\"name\":\"Tim Parks\",\"parent\":null,\"ref\":\"ix, xiii\"},{\"id\":1242,\"name\":\"other than page numbers part numbers abbreviations with\",\"parent\":180,\"ref\":\"1.6.2\"},{\"id\":1243,\"name\":\"other than page numbers part numbers in in-text citations\",\"parent\":180,\"ref\":\"56, 3.3.2\"},{\"id\":1244,\"name\":\"periodicals on digital platforms back issues of\",\"parent\":182,\"ref\":\"31\"},{\"id\":1245,\"name\":\"periodicals gathering information on\",\"parent\":182,\"ref\":\"16\"},{\"id\":1246,\"name\":\"periodicals specialized style of page numbers in\",\"parent\":182,\"ref\":\"3.3.1\"},{\"id\":2190,\"name\":\"in works-cited lists authors\",\"parent\":1247,\"ref\":\"21\"},{\"id\":2191,\"name\":\"in works-cited lists cities of publication of newspapers\",\"parent\":1247,\"ref\":\"2.6.1\"},{\"id\":2192,\"name\":\"in works-cited lists formats for titles\",\"parent\":1247,\"ref\":\"2728, 30\"},{\"id\":2193,\"name\":\"in works-cited lists consecutive page numbers\",\"parent\":1247,\"ref\":\"46\"},{\"id\":2194,\"name\":\"in works-cited lists not consecutive page numbers\",\"parent\":1247,\"ref\":\"2.5.1\"},{\"id\":2195,\"name\":\"in works-cited lists pseudonymous authors\",\"parent\":1247,\"ref\":\"24\"},{\"id\":2196,\"name\":\"in works-cited lists publication dates\",\"parent\":1247,\"ref\":\"4243, 4445\"},{\"id\":2197,\"name\":\"in works-cited lists publishers omitted\",\"parent\":1247,\"ref\":\"42\"},{\"id\":2198,\"name\":\"in works-cited lists seasons\",\"parent\":1247,\"ref\":\"1.5\"},{\"id\":2199,\"name\":\"in works-cited lists volume and issue numbers\",\"parent\":1247,\"ref\":\"3940\"},{\"id\":1248,\"name\":\"periods (punctuation) in abbreviations\",\"parent\":183,\"ref\":\"1.6\"},{\"id\":1249,\"name\":\"periods (punctuation) ellipses with\",\"parent\":183,\"ref\":\"1.3.5\"},{\"id\":1250,\"name\":\"periods (punctuation) quotation marks with\",\"parent\":183,\"ref\":\"8889, 1.2.4, 1.3.2\"},{\"id\":1251,\"name\":\"periods (punctuation) in works-cited lists\",\"parent\":183,\"ref\":\"20\"},{\"id\":184,\"name\":\"permalinks\",\"parent\":null,\"ref\":\"48\"},{\"id\":185,\"name\":\"pinyin\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1252,\"name\":\"place-names in languages other than English\",\"parent\":186,\"ref\":\"1.2.5\"},{\"id\":1253,\"name\":\"place-names romanizing\",\"parent\":186,\"ref\":\"1.3.8\"},{\"id\":1254,\"name\":\"plagiarism avoiding\",\"parent\":187,\"ref\":\"910\"},{\"id\":1255,\"name\":\"plagiarism common knowledge and\",\"parent\":187,\"ref\":\"10\"},{\"id\":1256,\"name\":\"plagiarism definition of\",\"parent\":187,\"ref\":\"67\"},{\"id\":1257,\"name\":\"plagiarism forms of\",\"parent\":187,\"ref\":\"79\"},{\"id\":1258,\"name\":\"plagiarism of own writings\",\"parent\":187,\"ref\":\"8\"},{\"id\":1259,\"name\":\"plagiarism seriousness of\",\"parent\":187,\"ref\":\"7\"},{\"id\":189,\"name\":\"plus signs with page numbers\",\"parent\":null,\"ref\":\"2.5.1\"},{\"id\":1260,\"name\":\"poetry gathering information on\",\"parent\":190,\"ref\":\"16\"},{\"id\":1261,\"name\":\"poetry quotations of\",\"parent\":190,\"ref\":\"1.3.3\"},{\"id\":2200,\"name\":\"quotations of division numbers\",\"parent\":1261,\"ref\":\"12122, 1.3.3, 3.3.2\"},{\"id\":2201,\"name\":\"quotations of ellipses\",\"parent\":1261,\"ref\":\"8385\"},{\"id\":2202,\"name\":\"quotations of line and stanza breaks\",\"parent\":1261,\"ref\":\"1.3.3\"},{\"id\":1262,\"name\":\"poetry titles of works of\",\"parent\":190,\"ref\":\"2627, 1.2.2\"},{\"id\":2203,\"name\":\"titles of works of first lines as titles\",\"parent\":1262,\"ref\":\"1.2.1\"},{\"id\":2204,\"name\":\"titles of works of titles within titles\",\"parent\":1262,\"ref\":\"1.2.4\"},{\"id\":2205,\"name\":\"titles of works of untitled\",\"parent\":1262,\"ref\":\"1.2.1\"},{\"id\":192,\"name\":\"research projects presented with <em>PowerPoint</em>\",\"parent\":null,\"ref\":\"128\"},{\"id\":1263,\"name\":\"prefaces documenting\",\"parent\":193,\"ref\":\"2.2.1\"},{\"id\":1264,\"name\":\"prefaces referred to in text\",\"parent\":193,\"ref\":\"70\"},{\"id\":194,\"name\":\"prepositions in titles\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1265,\"name\":\"pronouns altered in quotations\",\"parent\":195,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":1266,\"name\":\"pronouns capitalized in titles\",\"parent\":195,\"ref\":\"1.2.1\"},{\"id\":1267,\"name\":\"pronouns in languages other than English\",\"parent\":195,\"ref\":\"1.2.5\"},{\"id\":196,\"name\":\"prose style and mechanics\",\"parent\":null,\"ref\":\"61101\"},{\"id\":1268,\"name\":\"prose style and mechanics abbreviations\",\"parent\":196,\"ref\":\"1.6\"},{\"id\":1269,\"name\":\"prose style and mechanics dates and times\",\"parent\":196,\"ref\":\"1.5\"},{\"id\":1270,\"name\":\"prose style and mechanics names of persons\",\"parent\":196,\"ref\":\"1.1\"},{\"id\":1271,\"name\":\"prose style and mechanics numbers\",\"parent\":196,\"ref\":\"1.4\"},{\"id\":1272,\"name\":\"prose style and mechanics quotations\",\"parent\":196,\"ref\":\"1.3\"},{\"id\":1273,\"name\":\"prose style and mechanics titles of sources\",\"parent\":196,\"ref\":\"1.2\"},{\"id\":1274,\"name\":\"pseudonyms in text\",\"parent\":197,\"ref\":\"1.1.3\"},{\"id\":1275,\"name\":\"pseudonyms in works-cited lists\",\"parent\":197,\"ref\":\"24, 2.1.1\"},{\"id\":198,\"name\":\"publication dates\",\"parent\":null,\"ref\":\"4245\"},{\"id\":1276,\"name\":\"publication dates gathering information on\",\"parent\":198,\"ref\":\"15, 45, 46, 47\"},{\"id\":2206,\"name\":\"in works-cited lists abbreviations for months\",\"parent\":1277,\"ref\":\"1.6.1\"},{\"id\":2207,\"name\":\"in works-cited lists approximated\",\"parent\":1277,\"ref\":\"2.6.1\"},{\"id\":2208,\"name\":\"in works-cited lists books\",\"parent\":1277,\"ref\":\"45, 46\"},{\"id\":2209,\"name\":\"in works-cited lists DVDs\",\"parent\":1277,\"ref\":\"44\"},{\"id\":2210,\"name\":\"in works-cited lists original\",\"parent\":1277,\"ref\":\"50, 53\"},{\"id\":2211,\"name\":\"in works-cited lists periodicals\",\"parent\":1277,\"ref\":\"45\"},{\"id\":2212,\"name\":\"in works-cited lists prior\",\"parent\":1277,\"ref\":\"50, 53\"},{\"id\":2213,\"name\":\"in works-cited lists television episodes\",\"parent\":1277,\"ref\":\"43\"},{\"id\":2214,\"name\":\"in works-cited lists Web sites\",\"parent\":1277,\"ref\":\"4243, 4445\"},{\"id\":1278,\"name\":\"publication facts evaluating\",\"parent\":199,\"ref\":\"12\"},{\"id\":1279,\"name\":\"publication facts gathering\",\"parent\":199,\"ref\":\"13, 1418\"},{\"id\":1280,\"name\":\"publication facts missing in sources\",\"parent\":199,\"ref\":\"2.6.1\"},{\"id\":1281,\"name\":\"publishers definition of\",\"parent\":200,\"ref\":\"40\"},{\"id\":1282,\"name\":\"publishers gathering information on\",\"parent\":200,\"ref\":\"14, 41, 2.4\"},{\"id\":2215,\"name\":\"in works-cited lists abbreviations\",\"parent\":1283,\"ref\":\"1.6.23\"},{\"id\":2216,\"name\":\"in works-cited lists copublishers\",\"parent\":1283,\"ref\":\"4041, 2.4, 2.6.2\"},{\"id\":2217,\"name\":\"in works-cited lists corporate authors as publishers\",\"parent\":1283,\"ref\":\"25, 2.1.3\"},{\"id\":2218,\"name\":\"in works-cited lists imprints\",\"parent\":1283,\"ref\":\"2.4\"},{\"id\":2219,\"name\":\"in works-cited lists missing in sources\",\"parent\":1283,\"ref\":\"2.6.1\"},{\"id\":2220,\"name\":\"in works-cited lists multiple publishers of a source\",\"parent\":1283,\"ref\":\"4041\"},{\"id\":2221,\"name\":\"in works-cited lists omitting publishers\",\"parent\":1283,\"ref\":\"42\"},{\"id\":2222,\"name\":\"in works-cited lists online media\",\"parent\":1283,\"ref\":\"4142\"},{\"id\":2223,\"name\":\"in works-cited lists parent companies and divisions\",\"parent\":1283,\"ref\":\"2.4\"},{\"id\":1284,\"name\":\"punctuation in abbreviations\",\"parent\":201,\"ref\":\"1.6\"},{\"id\":1285,\"name\":\"punctuation in in-text citations\",\"parent\":201,\"ref\":\"5458, 3.6\"},{\"id\":2224,\"name\":\"in text ellipses\",\"parent\":1286,\"ref\":\"1.3.5\"},{\"id\":1287,\"name\":\"punctuation in works-cited lists\",\"parent\":201,\"ref\":\"20, 2.6\"},{\"id\":2226,\"name\":\"in works-cited lists authors names\",\"parent\":1287,\"ref\":\"2122\"},{\"id\":2227,\"name\":\"in works-cited lists multiple works by same author\",\"parent\":1287,\"ref\":\"2.7.2\"},{\"id\":2228,\"name\":\"in works-cited lists titles of containers\",\"parent\":1287,\"ref\":\"30\"},{\"id\":2229,\"name\":\"in works-cited lists titles of sources\",\"parent\":1287,\"ref\":\"1.2.1\"},{\"id\":1288,\"name\":\"question marks and quotations\",\"parent\":202,\"ref\":\"1.3.7\"},{\"id\":1289,\"name\":\"question marks uncertain dates indicated by\",\"parent\":202,\"ref\":\"1.5, 2.6.1\"},{\"id\":1290,\"name\":\"quotation marks in-text citations and\",\"parent\":203,\"ref\":\"54\"},{\"id\":1291,\"name\":\"quotation marks with poetry quotations\",\"parent\":203,\"ref\":\"1.3.3, 1.3.7\"},{\"id\":1292,\"name\":\"quotation marks with prose quotations\",\"parent\":203,\"ref\":\"1.3.2, 1.3.7\"},{\"id\":1293,\"name\":\"quotation marks single and double\",\"parent\":203,\"ref\":\"1.2.4, 1.3.78\"},{\"id\":1294,\"name\":\"quotation marks with titles of sources\",\"parent\":203,\"ref\":\"2529, 1.2.2\"},{\"id\":1295,\"name\":\"quotation marks titles within titles and\",\"parent\":203,\"ref\":\"1.2.4\"},{\"id\":204,\"name\":\"quotations\",\"parent\":null,\"ref\":\"1.3\"},{\"id\":1296,\"name\":\"quotations accuracy and effective use of\",\"parent\":204,\"ref\":\"1.3.1\"},{\"id\":1297,\"name\":\"quotations altered for clarity\",\"parent\":204,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":1298,\"name\":\"quotations of drama\",\"parent\":204,\"ref\":\"1.3.4\"},{\"id\":1299,\"name\":\"quotations ellipses in\",\"parent\":204,\"ref\":\"1.3.5\"},{\"id\":1300,\"name\":\"quotations in-text citations and\",\"parent\":204,\"ref\":\"5458\"},{\"id\":2230,\"name\":\"in-text citations and alterations of quotations\",\"parent\":1300,\"ref\":\"1.3.1, 1.3.6\"},{\"id\":2231,\"name\":\"in-text citations and location indicators other than pages\",\"parent\":1300,\"ref\":\"3.3.2\"},{\"id\":1301,\"name\":\"quotations of poetry\",\"parent\":204,\"ref\":\"1.3.3, 1.3.7\"},{\"id\":1302,\"name\":\"quotations of prose\",\"parent\":204,\"ref\":\"1.3.2, 1.3.7\"},{\"id\":1303,\"name\":\"quotations punctuation with\",\"parent\":204,\"ref\":\"1.3.7\"},{\"id\":2232,\"name\":\"punctuation with colons before block quotations\",\"parent\":1303,\"ref\":\"1.3.23, 1.3.7\"},{\"id\":2233,\"name\":\"punctuation with retained from original source\",\"parent\":1303,\"ref\":\"1.3.7\"},{\"id\":1304,\"name\":\"quotations quotations consisting solely of\",\"parent\":204,\"ref\":\"1.3.7\"},{\"id\":1305,\"name\":\"quotations titles including\",\"parent\":204,\"ref\":\"1.2.1\"},{\"id\":1306,\"name\":\"quotations translations of\",\"parent\":204,\"ref\":\"1.3.8\"},{\"id\":1307,\"name\":\"quotations from works in multiple editions\",\"parent\":204,\"ref\":\"3.3.2\"},{\"id\":205,\"name\":\"Koran) Quran (Quran\",\"parent\":null,\"ref\":\"69, 12223\"},{\"id\":1308,\"name\":\"audio recordings timings in\",\"parent\":206,\"ref\":\"57\"},{\"id\":1309,\"name\":\"audio recordings titles of songs and albums\",\"parent\":206,\"ref\":\"28\"},{\"id\":1310,\"name\":\"audio recordings in works-cited lists versions of\",\"parent\":206,\"ref\":\"39\"},{\"id\":207,\"name\":\"recordkeeping in research\",\"parent\":null,\"ref\":\"8, 910, 12\"},{\"id\":208,\"name\":\"names of persons in Renaissance\",\"parent\":null,\"ref\":\"6566\"},{\"id\":210,\"name\":\"<em>rev.\",\"parent\":null,\"ref\":\"2.3</em>\"},{\"id\":211,\"name\":\"untitled reviews\",\"parent\":null,\"ref\":\"29\"},{\"id\":212,\"name\":\"romanization\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1311,\"name\":\"romanization of authors names\",\"parent\":212,\"ref\":\"1.3.8, 2.1.1\"},{\"id\":1312,\"name\":\"romanization of quotations\",\"parent\":212,\"ref\":\"74, 1.3.8\"},{\"id\":1313,\"name\":\"romanization of titles of sources\",\"parent\":212,\"ref\":\"74, 1.3.8\"},{\"id\":213,\"name\":\"roman numerals\",\"parent\":null,\"ref\":\"1.4.4\"},{\"id\":1314,\"name\":\"roman numerals arabic numerals vs.\",\"parent\":213,\"ref\":\"1.4\"},{\"id\":1315,\"name\":\"roman numerals names of persons with\",\"parent\":213,\"ref\":\"1.4.4, 2.1.2\"},{\"id\":1316,\"name\":\"roman numerals page numbers as\",\"parent\":213,\"ref\":\"3.3.1\"},{\"id\":1317,\"name\":\"roman numerals reduced use of\",\"parent\":213,\"ref\":\"xi\"},{\"id\":214,\"name\":\"ancient Roman works\",\"parent\":null,\"ref\":\"122\"},{\"id\":1318,\"name\":\"Russian authors names in\",\"parent\":215,\"ref\":\"2.1.1\"},{\"id\":1319,\"name\":\"Russian quotations and titles of sources in\",\"parent\":215,\"ref\":\"74, 1.3.8\"},{\"id\":216,\"name\":\"use of title <em>Saint</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":1320,\"name\":\"scripture documentation of\",\"parent\":217,\"ref\":\"12223\"},{\"id\":1321,\"name\":\"scripture titles in\",\"parent\":217,\"ref\":\"69\"},{\"id\":218,\"name\":\"search engines\",\"parent\":null,\"ref\":\"x, 12\"},{\"id\":1322,\"name\":\"seasons in publication dates\",\"parent\":219,\"ref\":\"1.5\"},{\"id\":1323,\"name\":\"seasons of a television series\",\"parent\":219,\"ref\":\"40\"},{\"id\":221,\"name\":\"self-published works\",\"parent\":null,\"ref\":\"42\"},{\"id\":1324,\"name\":\"semicolons in in-text citations\",\"parent\":222,\"ref\":\"1.3.8, 3.3.2, 3.6\"},{\"id\":1325,\"name\":\"semicolons with quotation marks\",\"parent\":222,\"ref\":\"89\"},{\"id\":223,\"name\":\"seminar titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":224,\"name\":\"numbered series\",\"parent\":null,\"ref\":\"1.4.1\"},{\"id\":1326,\"name\":\"William Shakespeare abbreviations for titles of\",\"parent\":225,\"ref\":\"10001, 3.2.1\"},{\"id\":1327,\"name\":\"William Shakespeare location indicators other than pages in\",\"parent\":225,\"ref\":\"12122\"},{\"id\":226,\"name\":\"<em>sic\",\"parent\":null,\"ref\":\"1.3.6</em>\"},{\"id\":227,\"name\":\"use of title <em>Sir</em>\",\"parent\":null,\"ref\":\"1.1.2\"},{\"id\":229,\"name\":\"research projects as slide-based presentations\",\"parent\":null,\"ref\":\"128\"},{\"id\":1328,\"name\":\"software for managing information about sources\",\"parent\":230,\"ref\":\"12\"},{\"id\":1329,\"name\":\"software research projects presented with\",\"parent\":230,\"ref\":\"128\"},{\"id\":1330,\"name\":\"sources authority of\",\"parent\":232,\"ref\":\"1012\"},{\"id\":1331,\"name\":\"sources differences among copies of\",\"parent\":232,\"ref\":\"31\"},{\"id\":1332,\"name\":\"sources evaluating\",\"parent\":232,\"ref\":\"1012\"},{\"id\":1333,\"name\":\"sources gathering information on\",\"parent\":232,\"ref\":\"1318\"},{\"id\":1334,\"name\":\"sources indirect\",\"parent\":232,\"ref\":\"3.4\"},{\"id\":1335,\"name\":\"sources mobility of\",\"parent\":232,\"ref\":\"3\"},{\"id\":1336,\"name\":\"sources in research tracking\",\"parent\":232,\"ref\":\"8, 910, 12\"},{\"id\":1337,\"name\":\"Spanish names of persons in\",\"parent\":233,\"ref\":\"66\"},{\"id\":1338,\"name\":\"Spanish titles of sources in\",\"parent\":233,\"ref\":\"74\"},{\"id\":1339,\"name\":\"square brackets in in-text citations\",\"parent\":235,\"ref\":\"3.6\"},{\"id\":2234,\"name\":\"with quotations alterations\",\"parent\":1340,\"ref\":\"1.3.1\"},{\"id\":2235,\"name\":\"with quotations explanations\",\"parent\":1340,\"ref\":\"1.3.6\"},{\"id\":2236,\"name\":\"in works-cited lists translations of titles\",\"parent\":1341,\"ref\":\"2.2.2\"},{\"id\":2237,\"name\":\"in works-cited lists uncertain or additional information\",\"parent\":1341,\"ref\":\"2.6.1\"},{\"id\":1342,\"name\":\"stories in containers\",\"parent\":236,\"ref\":\"35\"},{\"id\":1343,\"name\":\"stories titles of\",\"parent\":236,\"ref\":\"2627, 1.2.2\"},{\"id\":237,\"name\":\"street addresses\",\"parent\":null,\"ref\":\"1.4.2\"},{\"id\":1344,\"name\":\"subtitles capitalization and punctuation of\",\"parent\":238,\"ref\":\"25, 27, 1.2.1\"},{\"id\":1345,\"name\":\"subtitles on books finding\",\"parent\":238,\"ref\":\"14, 27\"},{\"id\":1346,\"name\":\"subtitles in text omitting\",\"parent\":238,\"ref\":\"1.2.3\"},{\"id\":239,\"name\":\"suffixes of authors names\",\"parent\":null,\"ref\":\"2.1.2\"},{\"id\":1347,\"name\":\"symbols and special characters @\",\"parent\":240,\"ref\":\"24, 2.1.1, 2.7.1\"},{\"id\":1348,\"name\":\"symbols and special characters accents and other diacritics\",\"parent\":240,\"ref\":\"2.7.1\"},{\"id\":1349,\"name\":\"symbols and special characters numbers used with\",\"parent\":240,\"ref\":\"1.4.1\"},{\"id\":1350,\"name\":\"Talmud abbreviations for books in\",\"parent\":242,\"ref\":\"9799\"},{\"id\":1351,\"name\":\"Talmud in in-text citations\",\"parent\":242,\"ref\":\"122\"},{\"id\":1352,\"name\":\"Talmud titles of\",\"parent\":242,\"ref\":\"69\"},{\"id\":246,\"name\":\"times and time zones\",\"parent\":null,\"ref\":\"1.5\"},{\"id\":1353,\"name\":\"title pages publication dates on\",\"parent\":247,\"ref\":\"45, 47\"},{\"id\":1354,\"name\":\"title pages publisher information on\",\"parent\":247,\"ref\":\"14, 41, 10709\"},{\"id\":1355,\"name\":\"title pages titles and subtitles on\",\"parent\":247,\"ref\":\"2627\"},{\"id\":248,\"name\":\"omitted titles of authors\",\"parent\":null,\"ref\":\"1.1.2, 2.1.2\"},{\"id\":1356,\"name\":\"titles of containers definition of\",\"parent\":249,\"ref\":\"3031\"},{\"id\":1357,\"name\":\"titles of containers italics for\",\"parent\":249,\"ref\":\"1.2.2\"},{\"id\":1358,\"name\":\"titles of containers for nested containers\",\"parent\":249,\"ref\":\"3136\"},{\"id\":1359,\"name\":\"titles of sources formatting\",\"parent\":250,\"ref\":\"1.2\"},{\"id\":2238,\"name\":\"formatting capitalization and punctuation\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":2239,\"name\":\"formatting italics and quotation marks\",\"parent\":1359,\"ref\":\"1.2.2\"},{\"id\":2240,\"name\":\"formatting languages other than English\",\"parent\":1359,\"ref\":\"1.2.5\"},{\"id\":2241,\"name\":\"formatting quotations in titles\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":2242,\"name\":\"formatting titles within titles\",\"parent\":1359,\"ref\":\"1.2.4\"},{\"id\":2243,\"name\":\"formatting untitled poems\",\"parent\":1359,\"ref\":\"1.2.1\"},{\"id\":1360,\"name\":\"titles of sources gathering information on\",\"parent\":250,\"ref\":\"1318, 67\"},{\"id\":1361,\"name\":\"titles of sources in in-text citations\",\"parent\":250,\"ref\":\"5556, 3.2\"},{\"id\":2244,\"name\":\"in in-text citations abbreviating titles\",\"parent\":1361,\"ref\":\"1.6.4, 3.2.1\"},{\"id\":2245,\"name\":\"in in-text citations descriptive terms in place of titles\",\"parent\":1361,\"ref\":\"3.2.2\"},{\"id\":1362,\"name\":\"titles of sources shortened forms of in text\",\"parent\":250,\"ref\":\"1.2.3\"},{\"id\":1363,\"name\":\"titles of sources in works-cited lists\",\"parent\":250,\"ref\":\"2529, 2.2\"},{\"id\":2246,\"name\":\"in works-cited lists alphabetizing by titles\",\"parent\":1363,\"ref\":\"2.7.4\"},{\"id\":2247,\"name\":\"in works-cited lists articles online or in print\",\"parent\":1363,\"ref\":\"2728\"},{\"id\":2248,\"name\":\"in works-cited lists prefaces introductions\",\"parent\":1363,\"ref\":\"2.2.1\"},{\"id\":2249,\"name\":\"in works-cited lists songs and other parts of albums\",\"parent\":1363,\"ref\":\"28\"},{\"id\":2250,\"name\":\"in works-cited lists start of entry\",\"parent\":1363,\"ref\":\"2425, 2.7.4\"},{\"id\":2251,\"name\":\"in works-cited lists translations of titles\",\"parent\":1363,\"ref\":\"2.2.2\"},{\"id\":2252,\"name\":\"in works-cited lists untitled works\",\"parent\":1363,\"ref\":\"2829\"},{\"id\":251,\"name\":\"<em>to</em> in infinitives in titles\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":1364,\"name\":\"translations of quotations\",\"parent\":253,\"ref\":\"1.3.8\"},{\"id\":1365,\"name\":\"translations of titles\",\"parent\":253,\"ref\":\"72, 2.2.2\"},{\"id\":1366,\"name\":\"translators names <em>my trans</em>. in place of\",\"parent\":254,\"ref\":\"1.3.8\"},{\"id\":1367,\"name\":\"translators names in works-cited lists\",\"parent\":254,\"ref\":\"23, 37, 38\"},{\"id\":255,\"name\":\"treaty titles\",\"parent\":null,\"ref\":\"69\"},{\"id\":2253,\"name\":\"names of authors of alphabetizing\",\"parent\":1368,\"ref\":\"112\"},{\"id\":2254,\"name\":\"names of authors of formatting\",\"parent\":1368,\"ref\":\"24\"},{\"id\":2255,\"name\":\"names of authors of real names added\",\"parent\":1368,\"ref\":\"102\"},{\"id\":1369,\"name\":\"in works-cited lists tweets titles of\",\"parent\":256,\"ref\":\"29\"},{\"id\":258,\"name\":\"uniform resource locators (URLs)\",\"parent\":null,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":259,\"name\":\"as author United Nations\",\"parent\":null,\"ref\":\"25, 2.1.3\"},{\"id\":260,\"name\":\"departments and agencies of United States\",\"parent\":null,\"ref\":\"2.1.3, 3.1.2\"},{\"id\":261,\"name\":\"as author United States Congress\",\"parent\":null,\"ref\":\"53, 2.1.3\"},{\"id\":262,\"name\":\"abbreviations of <em>University</em>\",\"parent\":null,\"ref\":\"1.6.23\"},{\"id\":263,\"name\":\"names of university presses\",\"parent\":null,\"ref\":\"1.6.3\"},{\"id\":1370,\"name\":\"untitled sources poems as\",\"parent\":264,\"ref\":\"1.2.1\"},{\"id\":1371,\"name\":\"untitled sources in works-cited lists\",\"parent\":264,\"ref\":\"2829\"},{\"id\":265,\"name\":\"Upanishads\",\"parent\":null,\"ref\":\"69\"},{\"id\":266,\"name\":\"URLs\",\"parent\":null,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":267,\"name\":\"capitalized in titles verbs\",\"parent\":null,\"ref\":\"1.2.1\"},{\"id\":2256,\"name\":\"in in-text citations scripture\",\"parent\":1372,\"ref\":\"12223\"},{\"id\":2257,\"name\":\"in in-text citations works in multiple editions\",\"parent\":1372,\"ref\":\"57, 3.3.2\"},{\"id\":1373,\"name\":\"versions in works-cited lists\",\"parent\":268,\"ref\":\"3839, 2.3\"},{\"id\":270,\"name\":\"names of persons in Vietnamese\",\"parent\":null,\"ref\":\"63, 1.1.1\"},{\"id\":272,\"name\":\"in German last names <em>von</em>\",\"parent\":null,\"ref\":\"6465\"},{\"id\":273,\"name\":\"Wade-Giles system\",\"parent\":null,\"ref\":\"6364\"},{\"id\":1374,\"name\":\"Web sites italics for titles of\",\"parent\":274,\"ref\":\"1.2.2\"},{\"id\":2258,\"name\":\"in works-cited lists dates\",\"parent\":1375,\"ref\":\"4243, 4445, 53\"},{\"id\":2259,\"name\":\"in works-cited lists publishers\",\"parent\":1375,\"ref\":\"4142\"},{\"id\":2260,\"name\":\"in works-cited lists titles\",\"parent\":1375,\"ref\":\"28, 30\"},{\"id\":2261,\"name\":\"in works-cited lists URLs and DOIs\",\"parent\":1375,\"ref\":\"17, 48, 49, 128, 2.5.2\"},{\"id\":275,\"name\":\"<em>Wikipedia</em>\",\"parent\":null,\"ref\":\"12\"},{\"id\":276,\"name\":\"works-cited lists\",\"parent\":null,\"ref\":\"2054, 10216\"},{\"id\":1376,\"name\":\"works-cited lists core elements of\",\"parent\":276,\"ref\":\"2054\"},{\"id\":2262,\"name\":\"core elements of authors names\",\"parent\":1376,\"ref\":\"2125, 2.1, 2.7.23\"},{\"id\":2263,\"name\":\"core elements of locations\",\"parent\":1376,\"ref\":\"46, 4850\"},{\"id\":2264,\"name\":\"core elements of multiple comparable items\",\"parent\":1376,\"ref\":\"2.6.2\"},{\"id\":2265,\"name\":\"core elements of numbers\",\"parent\":1376,\"ref\":\"3940\"},{\"id\":2266,\"name\":\"core elements of other contributors\",\"parent\":1376,\"ref\":\"3738\"},{\"id\":2267,\"name\":\"core elements of publication dates\",\"parent\":1376,\"ref\":\"4245, 46, 1.5, 1.6.1\"},{\"id\":2268,\"name\":\"core elements of publishers\",\"parent\":1376,\"ref\":\"4042, 1.6.23\"},{\"id\":2269,\"name\":\"core elements of titles of containers\",\"parent\":1376,\"ref\":\"3036\"},{\"id\":2270,\"name\":\"core elements of titles of sources\",\"parent\":1376,\"ref\":\"2529, 1.2, 2.2\"},{\"id\":2271,\"name\":\"core elements of versions\",\"parent\":1376,\"ref\":\"3839\"},{\"id\":2272,\"name\":\"cross-references in varying names of authors\",\"parent\":1377,\"ref\":\"2.1.1\"},{\"id\":2273,\"name\":\"cross-references in works in collections\",\"parent\":1377,\"ref\":\"2.7.5\"},{\"id\":1378,\"name\":\"works-cited lists definition of\",\"parent\":276,\"ref\":\"20\"},{\"id\":1379,\"name\":\"works-cited lists formatting and ordering\",\"parent\":276,\"ref\":\"2.7\"},{\"id\":2274,\"name\":\"formatting and ordering hanging indention\",\"parent\":1379,\"ref\":\"2.7\"},{\"id\":2275,\"name\":\"formatting and ordering heading\",\"parent\":1379,\"ref\":\"20, 2.7\"},{\"id\":2276,\"name\":\"formatting and ordering letter-by-letter alphabetization\",\"parent\":1379,\"ref\":\"2.7.1\"},{\"id\":2277,\"name\":\"formatting and ordering multiple works by coauthors\",\"parent\":1379,\"ref\":\"2.7.23\"},{\"id\":2278,\"name\":\"formatting and ordering multiple works by one author\",\"parent\":1379,\"ref\":\"2.1.3, 2.7.2\"},{\"id\":2279,\"name\":\"formatting and ordering titles used for alphabetization\",\"parent\":1379,\"ref\":\"2.7.4\"},{\"id\":1380,\"name\":\"works-cited lists in-text citations in relation to\",\"parent\":276,\"ref\":\"54\"},{\"id\":1381,\"name\":\"works-cited lists names in languages other than English in\",\"parent\":276,\"ref\":\"1.1.1, 1.1.4\"},{\"id\":1382,\"name\":\"works-cited lists optional elements in\",\"parent\":276,\"ref\":\"5053\"},{\"id\":1383,\"name\":\"works-cited lists organizing information for\",\"parent\":276,\"ref\":\"34, 19\"},{\"id\":1384,\"name\":\"works-cited lists in research projects in nonprint media\",\"parent\":276,\"ref\":\"128\"},{\"id\":1385,\"name\":\"works-cited lists seasons in\",\"parent\":276,\"ref\":\"1.5\"},{\"id\":1386,\"name\":\"works-cited lists template for\",\"parent\":276,\"ref\":\"129\"},{\"id\":277,\"name\":\"workshop titles\",\"parent\":null,\"ref\":\"70\"},{\"id\":1387,\"name\":\"years in works-cited list approximated\",\"parent\":278,\"ref\":\"2.6.1\"},{\"id\":1388,\"name\":\"years commas not used in\",\"parent\":278,\"ref\":\"1.4.2\"},{\"id\":1389,\"name\":\"years ranges of\",\"parent\":278,\"ref\":\"1.4.3\"}]\n","/* FAQ module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  $('a.toggle-answer').each(function() {\n    $(this).on('click', function(e) {\n      e.preventDefault();\n\n      $(this)\n        .toggleClass('toggle')\n        .siblings('.answer').toggle();\n    });\n  });\n\n};\n","/**\n * Main theme JS file driven by CommonJS and Browserify.\n */\n\n'use strict';\n\nvar jQuery = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar underscore = (typeof window !== \"undefined\" ? window['_'] : typeof global !== \"undefined\" ? global['_'] : null);\nvar Backbone = (typeof window !== \"undefined\" ? window['Backbone'] : typeof global !== \"undefined\" ? global['Backbone'] : null);\n\n// Side-shim jQuery and Underscore before requiring Marionette.\nBackbone.$ = jQuery;\nBackbone._ = underscore;\nrequire('backbone.marionette');\n\n// Create the application.\nvar App = new Backbone.Marionette.Application();\n\n// Add regions.\nApp.addRegions({\n  BookRefs: '#search-book-refs',\n  Content: '#citation-tool'\n}); \n\n\n// Load Marionette modules.\nApp.module('BookIndex', require('./book-index'));\nApp.module('Citations', require('./citations'));\n\n// Start the history listener.\nApp.on('start', function () {\n  // expect DOM to be loaded at this point\n  // Load generic modules.\n  //require('./search-hints')(jQuery);\n  require('./page-menu')(jQuery);\n  require('./faq')(jQuery);\n  require('./bylines')(jQuery);\n  require('./teaching-resources')(jQuery);\n\n  Backbone.history.start({\n    pushState: true,\n    root: '/'\n  });\n});\n\n// Start the application.\nApp.start();\n","/* Page menu module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\n  'use strict';\n\n  var $button = $('.page-sub-menu-link');\n  var $targets = $('.page-sub-menu-link, .page-sub-menu');\n  var $parent = $('.page-menu');\n\n  var activeClass = 'page-menu-active';\n  var hoverOutDelay = 250;\n\n  $targets.on({\n    mouseover: function() {\n      if ($button.prop('hoverTimeout')) {\n        $button.prop('hoverTimeout', clearTimeout($button.prop('hoverTimeout')));\n      }\n      $parent.addClass(activeClass);\n    },\n    mouseleave: function() {\n      $button.prop('hoverTimeout', setTimeout(function() {\n        $parent.removeClass(activeClass);\n      }, hoverOutDelay));\n    }\n  });\n\n  if ('ontouchstart' in document) {\n\n    $button.on('touchstart', function(e) {\n\n        e.stopPropagation();\n\n        if ($parent.hasClass(activeClass)) {\n          $parent.removeClass(activeClass);\n        } else {\n          $parent.addClass(activeClass);\n        }\n\n    });\n\n  }\n\n};\n","/* Teaching Resources module */\n\n/*global document*/\n\nmodule.exports = function ($) {\n\t'use strict';\n\n\t$('a.toggle-category').each(function() {\n    \t$(this).on('click', function(e) {\n      \t\te.preventDefault();\n\n      \t\t$(this).closest('section').find('.open-category').toggle();\n      \t\t$(this).closest('section').toggleClass('open');\n\t    });\n \t});\n\t\n};"]}